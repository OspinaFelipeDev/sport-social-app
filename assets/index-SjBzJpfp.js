(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function BS(){if(Sv)return zl;Sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var wv;function qS(){return wv||(wv=1,gm.exports=BS()),gm.exports}var E=qS(),_m={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function HS(){if(Rv)return Re;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function z(x,te,oe){this.props=x,this.context=te,this.refs=K,this.updater=oe||D}z.prototype.isReactComponent={},z.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function re(x,te,oe){this.props=x,this.context=te,this.refs=K,this.updater=oe||D}var ee=re.prototype=new Q;ee.constructor=re,k(ee,z.prototype),ee.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function M(x,te,oe,ie,pe,Ne){return oe=Ne.ref,{$$typeof:r,type:x,key:te,ref:oe!==void 0?oe:null,props:Ne}}function R(x,te){return M(x.type,te,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function O(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return te[oe]})}var V=/\/+/g;function U(x,te){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):te.toString(36)}function N(){}function Bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function lt(x,te,oe,ie,pe){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(Ne){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case r:case e:be=!0;break;case T:return be=x._init,lt(be(x._payload),te,oe,ie,pe)}}if(be)return pe=pe(x),be=ie===""?"."+U(x,0):ie,ue(pe)?(oe="",be!=null&&(oe=be.replace(V,"$&/")+"/"),lt(pe,te,oe,"",function(ni){return ni})):pe!=null&&(I(pe)&&(pe=R(pe,oe+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+be)),te.push(pe)),1;be=0;var Pt=ie===""?".":ie+":";if(ue(x))for(var Ze=0;Ze<x.length;Ze++)ie=x[Ze],Ne=Pt+U(ie,Ze),be+=lt(ie,te,oe,Ne,pe);else if(Ze=S(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(ie=x.next()).done;)ie=ie.value,Ne=Pt+U(ie,Ze++),be+=lt(ie,te,oe,Ne,pe);else if(Ne==="object"){if(typeof x.then=="function")return lt(Bt(x),te,oe,ie,pe);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(x,te,oe){if(x==null)return x;var ie=[],pe=0;return lt(x,ie,"","",function(Ne){return te.call(oe,Ne,pe++)}),ie}function ae(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return Re.Children={map:Y,forEach:function(x,te,oe){Y(x,function(){te.apply(this,arguments)},oe)},count:function(x){var te=0;return Y(x,function(){te++}),te},toArray:function(x){return Y(x,function(te){return te})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ce.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,te,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=k({},x.props),pe=x.key,Ne=void 0;if(te!=null)for(be in te.ref!==void 0&&(Ne=void 0),te.key!==void 0&&(pe=""+te.key),te)!Ae.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(ie[be]=te[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var Pt=Array(be),Ze=0;Ze<be;Ze++)Pt[Ze]=arguments[Ze+2];ie.children=Pt}return M(x.type,pe,void 0,void 0,Ne,ie)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,te,oe){var ie,pe={},Ne=null;if(te!=null)for(ie in te.key!==void 0&&(Ne=""+te.key),te)Ae.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=te[ie]);var be=arguments.length-2;if(be===1)pe.children=oe;else if(1<be){for(var Pt=Array(be),Ze=0;Ze<be;Ze++)Pt[Ze]=arguments[Ze+2];pe.children=Pt}if(x&&x.defaultProps)for(ie in be=x.defaultProps,be)pe[ie]===void 0&&(pe[ie]=be[ie]);return M(x,Ne,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ae}},Re.memo=function(x,te){return{$$typeof:g,type:x,compare:te===void 0?null:te}},Re.startTransition=function(x){var te=ce.T,oe={};ce.T=oe;try{var ie=x(),pe=ce.S;pe!==null&&pe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(Ne){me(Ne)}finally{ce.T=te}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(x){return ce.H.use(x)},Re.useActionState=function(x,te,oe){return ce.H.useActionState(x,te,oe)},Re.useCallback=function(x,te){return ce.H.useCallback(x,te)},Re.useContext=function(x){return ce.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,te){return ce.H.useDeferredValue(x,te)},Re.useEffect=function(x,te,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(x,te)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(x,te,oe){return ce.H.useImperativeHandle(x,te,oe)},Re.useInsertionEffect=function(x,te){return ce.H.useInsertionEffect(x,te)},Re.useLayoutEffect=function(x,te){return ce.H.useLayoutEffect(x,te)},Re.useMemo=function(x,te){return ce.H.useMemo(x,te)},Re.useOptimistic=function(x,te){return ce.H.useOptimistic(x,te)},Re.useReducer=function(x,te,oe){return ce.H.useReducer(x,te,oe)},Re.useRef=function(x){return ce.H.useRef(x)},Re.useState=function(x){return ce.H.useState(x)},Re.useSyncExternalStore=function(x,te,oe){return ce.H.useSyncExternalStore(x,te,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var Iv;function fp(){return Iv||(Iv=1,_m.exports=HS()),_m.exports}var F=fp(),ym={exports:{}},Bl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function FS(){return Cv||(Cv=1,function(r){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var ze=me-1>>>1,x=Y[ze];if(0<o(x,ae))Y[ze]=ae,Y[me]=x,me=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var ze=0,x=Y.length,te=x>>>1;ze<te;){var oe=2*(ze+1)-1,ie=Y[oe],pe=oe+1,Ne=Y[pe];if(0>o(ie,me))pe<x&&0>o(Ne,ie)?(Y[ze]=Ne,Y[pe]=me,ze=pe):(Y[ze]=ie,Y[oe]=me,ze=oe);else if(pe<x&&0>o(Ne,me))Y[ze]=Ne,Y[pe]=me,ze=pe;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,S=3,D=!1,k=!1,K=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ce(Y){if(K=!1,ue(Y),!k)if(n(p)!==null)k=!0,Ae||(Ae=!0,U());else{var ae=n(g);ae!==null&&lt(ce,ae.startTime-Y)}}var Ae=!1,M=-1,R=5,I=-1;function O(){return z?!0:!(r.unstable_now()-I<R)}function V(){if(z=!1,Ae){var Y=r.unstable_now();I=Y;var ae=!0;try{e:{k=!1,K&&(K=!1,re(M),M=-1),D=!0;var me=S;try{t:{for(ue(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&O());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var x=ze(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof x=="function"){w.callback=x,ue(Y),ae=!0;break t}w===n(p)&&s(p),ue(Y)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var te=n(g);te!==null&&lt(ce,te.startTime-Y),ae=!1}}break e}finally{w=null,S=me,D=!1}ae=void 0}}finally{ae?U():Ae=!1}}}var U;if(typeof ee=="function")U=function(){ee(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Bt=N.port2;N.port1.onmessage=V,U=function(){Bt.postMessage(null)}}else U=function(){Q(V,0)};function lt(Y,ae){M=Q(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var me=S;S=ae;try{return Y()}finally{S=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=S;S=Y;try{return ae()}finally{S=me}},r.unstable_scheduleCallback=function(Y,ae,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,Y={id:T++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:x,sortIndex:-1},me>ze?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(K?(re(M),M=-1):K=!0,lt(ce,me-ze))):(Y.sortIndex=x,e(p,Y),k||D||(k=!0,Ae||(Ae=!0,U()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var ae=S;return function(){var me=S;S=ae;try{return Y.apply(this,arguments)}finally{S=me}}}}(Em)),Em}var Nv;function GS(){return Nv||(Nv=1,vm.exports=FS()),vm.exports}var Tm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function $S(){if(xv)return Zt;xv=1;var r=fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Zt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:D}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var Dv;function KS(){if(Dv)return Tm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=$S(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function QS(){if(Ov)return Bl;Ov=1;var r=GS(),e=fp(),n=KS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Bt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Bt(t(i))}catch{}}return null}var lt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function te(t){return{current:t}}function oe(t){0>x||(t.current=ze[x],ze[x]=null,x--)}function ie(t,i){x++,ze[x]=t.current,t.current=i}var pe=te(null),Ne=te(null),be=te(null),Pt=te(null);function Ze(t,i){switch(ie(be,i),ie(Ne,t),ie(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Zy(i),t=Jy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),ie(pe,t)}function ni(){oe(pe),oe(Ne),oe(be)}function Er(t){t.memoizedState!==null&&ie(Pt,t);var i=pe.current,a=Jy(i,t.type);i!==a&&(ie(Ne,t),ie(pe,a))}function Li(t){Ne.current===t&&(oe(pe),oe(Ne)),Pt.current===t&&(oe(Pt),Ml._currentValue=me)}var vs=Object.prototype.hasOwnProperty,Es=r.unstable_scheduleCallback,Ts=r.unstable_cancelCallback,Oo=r.unstable_shouldYield,Iu=r.unstable_requestPaint,Dn=r.unstable_now,gf=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,As=r.unstable_NormalPriority,_f=r.unstable_LowPriority,pa=r.unstable_IdlePriority,ko=r.log,Cu=r.unstable_setDisableYieldValue,ut=null,Fe=null;function gn(t){if(typeof ko=="function"&&Cu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ut,t)}catch{}}var Xt=Math.clz32?Math.clz32:bs,Nu=Math.log,yf=Math.LN2;function bs(t){return t>>>=0,t===0?32:31-(Nu(t)/yf|0)|0}var Ss=256,ws=4194304;function Gn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ga(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=Gn(l):(v&=A,v!==0?h=Gn(v):a||(a=A&~t,a!==0&&(h=Gn(a))))):(A=l&~d,A!==0?h=Gn(A):v!==0?h=Gn(v):a||(a=l&~t,a!==0&&(h=Gn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Rs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=Ss;return Ss<<=1,(Ss&4194048)===0&&(Ss=256),t}function Lo(){var t=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),t}function Ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Xt(a),Z=1<<X;A[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&ii(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ii(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Xt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ar(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function xu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),St="__reactFiber$"+et,_t="__reactProps$"+et,On="__reactContainer$"+et,zo="__reactEvents$"+et,vf="__reactListeners$"+et,br="__reactHandles$"+et,Du="__reactResources$"+et,Is="__reactMarker$"+et;function Sr(t){delete t[St],delete t[_t],delete t[zo],delete t[vf],delete t[br]}function zi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[On]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[St])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function ri(t){if(t=t[St]||t[On]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function si(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function rn(t){var i=t[Du];return i||(i=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[Is]=!0}var Bo=new Set,ya={};function $n(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(ya[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Cs={};function ku(t){return vs.call(Cs,t)?!0:vs.call(Pu,t)?!1:Ou.test(t)?Cs[t]=!0:(Pu[t]=!0,!1)}function wr(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ai(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function qt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ns,Mu;function qi(t){if(Ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ns=i&&i[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Mu}var va=!1;function Ea(t,i){if(!t||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var H=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){H=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){H=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var C=v.split(`
`),q=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qi(a):""}function qo(t){switch(t.tag){case 26:case 27:case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return qi("Activity");default:return""}}function Ta(t){try{var i="";do i+=qo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ef(t){var i=Ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Ef(t))}function Fo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tf=/[\n"\\]/g;function yt(t){return t.replace(Tf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Rr(t,v,sn(i)):a!=null?Rr(t,v,sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+sn(A):t.removeAttribute("name")}function Ds(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Rr(t,i,a){i==="number"&&xs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+sn(a):""}function Os(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ps.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vu(t,d,i[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fi=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,$i=null;function Ko(t){var i=ri(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(_n(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Fo(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Hi(t,!!a.multiple,i,!1)}}}var oi=!1;function Lu(t,i,a){if(oi)return t(i,a);oi=!0;try{var l=t(i);return l}finally{if(oi=!1,(Gi!==null||$i!==null)&&(xc(),Gi&&(i=Gi,t=$i,$i=Gi=null,Ko(i),t)))for(i=0;i<t.length;i++)Ko(t[i])}}function ks(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Kn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Mn=!1}var li=null,Ir=null,Ki=null;function Qo(){if(Ki)return Ki;var t,i=Ir,a=i.length,l,h="value"in li?li.value:li.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ki=h.slice(t,1<l?1-l:void 0)}function ui(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function Yo(){return!1}function kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:Yo,this.isPropagationStopped=Yo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=kt(qe),Vs=T({},qe,{view:0,detail:0}),Uu=kt(Vs),wa,Ra,hi,Ls=T({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(wa=t.screenX-hi.screenX,Ra=t.screenY-hi.screenY):Ra=wa=0,hi=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Vn=kt(Ls),ju=T({},Ls,{dataTransfer:0}),Sf=kt(ju),Us=T({},Vs,{relatedTarget:0}),Ia=kt(Us),Xo=T({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=kt(Xo),zu=T({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=kt(zu),wf=T({},qe,{data:0}),Wo=kt(wf),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function zs(){return Zo}var Hu=T({},Vs,{key:function(t){if(t.key){var i=js[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=kt(Hu),Fu=T({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=kt(Fu),Qi=T({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Gu=kt(Qi),$u=T({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=kt($u),Qu=T({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=kt(Qu),an=T({},qe,{newState:0,oldState:0}),Yu=kt(an),Xu=[9,13,27,32],fi=Kn&&"CompositionEvent"in window,c=null;Kn&&"documentMode"in document&&(c=document.documentMode);var _=Kn&&"TextEvent"in window&&!c,y=Kn&&(!fi||c&&8<c&&11>=c),b=" ",j=!1;function $(t,i){switch(t){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function wt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return t=i.data,t===b&&j?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!fi&&$(t,i)?(t=Qo(),Ki=Ir=li=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Yi(t,i,a,l){Gi?$i?$i.push(l):$i=[l]:Gi=l,i=Vc(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ht=null,di=null;function el(t){Ky(t,0)}function Wu(t){var i=si(t);if(Fo(i))return t}function mg(t,i){if(t==="change")return i}var pg=!1;if(Kn){var Rf;if(Kn){var If="oninput"in document;if(!If){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),If=typeof gg.oninput=="function"}Rf=If}else Rf=!1;pg=Rf&&(!document.documentMode||9<document.documentMode)}function _g(){Ht&&(Ht.detachEvent("onpropertychange",yg),di=Ht=null)}function yg(t){if(t.propertyName==="value"&&Wu(di)){var i=[];Yi(i,di,t,kn(t)),Lu(el,i)}}function _b(t,i,a){t==="focusin"?(_g(),Ht=i,di=a,Ht.attachEvent("onpropertychange",yg)):t==="focusout"&&_g()}function yb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(di)}function vb(t,i){if(t==="click")return Wu(i)}function Eb(t,i){if(t==="input"||t==="change")return Wu(i)}function Tb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:Tb;function tl(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vs.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,i){var a=vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xs(t.document)}return i}function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ab=Kn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Nf=null,nl=null,xf=!1;function bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Oa==null||Oa!==xs(l)||(l=Oa,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Vc(Nf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Df={},Sg={};Kn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function qs(t){if(Df[t])return Df[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return Df[t]=i[a];return t}var wg=qs("animationend"),Rg=qs("animationiteration"),Ig=qs("animationstart"),bb=qs("transitionrun"),Sb=qs("transitionstart"),wb=qs("transitioncancel"),Cg=qs("transitionend"),Ng=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function Qn(t,i){Ng.set(t,i),$n(i,[t])}var xg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ta(i)},xg.set(t,i),i)}return{value:t,source:i,stack:Ta(i)}}var Un=[],ka=0,Pf=0;function Zu(){for(var t=ka,i=Pf=ka=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Ju(t,i,a,l){Un[ka++]=t,Un[ka++]=i,Un[ka++]=a,Un[ka++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,i,a,l){return Ju(t,i,a,l),ec(t)}function Ma(t,i){return Ju(t,null,null,i),ec(t)}function Dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Xt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Il)throw Il=0,zd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function Rb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new Rb(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=CS(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,i,h),t.elementType=I,t.lanes=d,t;case k:return Hs(a.children,h,d,i);case K:v=8,h|=24;break;case z:return t=vn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case ce:return t=vn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case Ae:return t=vn(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case ee:v=10;break e;case re:v=9;break e;case ue:v=11;break e;case M:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Vf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Lf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var La=[],Ua=0,nc=null,ic=0,jn=[],zn=0,Fs=null,Wi=1,Zi="";function Gs(t,i){La[Ua++]=ic,La[Ua++]=nc,nc=t,ic=i}function Pg(t,i,a){jn[zn++]=Wi,jn[zn++]=Zi,jn[zn++]=Fs,Fs=t;var l=Wi;t=Zi;var h=32-Xt(l)-1;l&=~(1<<h),a+=1;var d=32-Xt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Wi=1<<32-Xt(i)+h|a<<h|l,Zi=d+t}else Wi=1<<d|a<<h|l,Zi=t}function Uf(t){t.return!==null&&(Gs(t,1),Pg(t,1,0))}function jf(t){for(;t===nc;)nc=La[--Ua],La[Ua]=null,ic=La[--Ua],La[Ua]=null;for(;t===Fs;)Fs=jn[--zn],jn[zn]=null,Zi=jn[--zn],jn[zn]=null,Wi=jn[--zn],jn[zn]=null}var on=null,ct=null,Be=!1,$s=null,mi=!1,zf=Error(s(519));function Ks(t){var i=Error(s(418,""));throw sl(Ln(i,t)),zf}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[_t]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Oe(Nl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Os(i,l.value,l.defaultValue,l.children),Aa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Wy(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Ks(t)}function Mg(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:on=on.return}}function il(t){if(t!==on)return!1;if(!Be)return Mg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&ct&&Ks(t),Mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Xn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Hr(t.type)?(t=am,am=null,ct=t):ct=i):ct=on?Xn(t.stateNode.nextSibling):null;return!0}function rl(){ct=on=null,Be=!1}function Vg(){var t=$s;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),$s=null),t}function sl(t){$s===null?$s=[t]:$s.push(t)}var Bf=te(null),Qs=null,Ji=null;function Cr(t,i,a){ie(Bf,i._currentValue),i._currentValue=a}function er(t){t._currentValue=Bf.current,oe(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function al(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;yn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Qs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Lg(Qs,t)}function sc(t,i){return Qs===null&&Ys(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var Ib=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Cb=r.unstable_scheduleCallback,Nb=r.unstable_NormalPriority,It={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new Ib,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Cb(Nb,function(){t.controller.abort()})}var ll=null,Gf=0,ja=0,za=null;function xb(t,i){if(ll===null){var a=ll=[];Gf=0,ja=Kd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(Ug,Ug),i}function Ug(){if(--Gf===0&&ll!==null){za!==null&&(za.status="fulfilled");var t=ll;ll=null,ja=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Db(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jg=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xb(t,i),jg!==null&&jg(t,i)};var Xs=te(null);function $f(){var t=Xs.current;return t!==null?t:Je.pooledCache}function ac(t,i){i===null?ie(Xs,Xs.current):ie(Xs,i.pool)}function zg(){var t=$f();return t===null?null:{parent:It._currentValue,pool:t}}var ul=Error(s(460)),Bg=Error(s(474)),oc=Error(s(542)),Kf={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lc(){}function Hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(lc,lc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gg(t),t;default:if(typeof i.status=="string")i.then(lc,lc);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gg(t),t}throw cl=i,ul}}var cl=null;function Fg(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Gg(t){if(t===ul||t===oc)throw Error(s(483))}var Nr=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Dg(t,null,a),i}return Ju(t,l,i,a),ec(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function fl(){if(Wf){var t=za;if(t!==null)throw t}}function dl(t,i,a,l){Wf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=q:A.next=q,X.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,X=q=C=null,A=d;do{var H=A.lane&-536870913,G=H!==A.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===ja&&(Wf=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=t,_e=A;H=i;var Xe=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){Z=Te.call(Xe,Z,H);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(Xe,Z,H):Te,H==null)break e;Z=T({},Z,H);break e;case 2:Nr=!0}}H=A.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(q=X=G,C=Z):X=X.next=G,v|=H;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;G=A,A=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=Z}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Kg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var Ba=te(null),uc=te(0);function Qg(t,i){t=or,ie(uc,t),ie(Ba,i),or=t|i.baseLanes}function Zf(){ie(uc,or),ie(Ba,Ba.current)}function Jf(){or=uc.current,oe(Ba),oe(uc)}var Or=0,Ie=null,Qe=null,vt=null,cc=!1,qa=!1,Ws=!1,hc=0,ml=0,Ha=null,Ob=0;function dt(){throw Error(s(321))}function ed(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function td(t,i,a,l,h,d){return Or=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?D_:O_,Ws=!1,d=a(l,h),Ws=!1,qa&&(d=Xg(i,a,l,h)),Yg(t),d}function Yg(t){Y.H=_c;var i=Qe!==null&&Qe.next!==null;if(Or=0,vt=Qe=Ie=null,cc=!1,ml=0,Ha=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&rc(t)&&(Vt=!0))}function Xg(t,i,a,l){Ie=t;var h=0;do{if(qa&&(Ha=null),ml=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,vt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=jb,d=i(a,l)}while(qa);return d}function Pb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function nd(){var t=hc!==0;return hc=0,t}function id(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function rd(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Or=0,vt=Qe=Ie=null,qa=!1,ml=hc=0,Ha=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=vt===null?Ie.memoizedState:vt.next;if(i!==null)vt=i,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,Ha===null&&(Ha=[]),t=Hg(Ha,t,i),i=Ie,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?D_:O_),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ee)return Wt(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function tr(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Et();return od(i,Qe,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,C=null,q=i,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Le&Z)===Z:(Or&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===ja&&(X=!0);else if((Or&H)===H){q=q.next,H===ja&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(A=C=Z,v=d):C=C.next=Z,Ie.lanes|=H,jr|=H;Z=q.action,Ws&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(A=C=H,v=d):C=C.next=H,Ie.lanes|=Z,jr|=Z;q=q.next}while(q!==null&&q!==i);if(C===null?v=d:C.next=A,!yn(d,t.memoizedState)&&(Vt=!0,X&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);yn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(t,i,a){var l=Ie,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!yn((Qe||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var A=e_.bind(null,l,h,t);if(gl(2048,8,A,[t]),h.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,mc(),Jg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(Or&124)!==0||Zg(l,i,a)}return a}function Zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=sd(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Jg(t,i,a,l){i.value=a,i.getSnapshot=l,t_(i)&&n_(t)}function e_(t,i,a){return a(function(){t_(i)&&n_(t)})}function t_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function n_(t){var i=Ma(t,2);i!==null&&Sn(i,t,2)}function ud(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),Ws){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},i}function i_(t,i,a,l){return t.baseState=a,od(t,Qe,typeof l=="function"?l:tr)}function kb(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,r_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function r_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var A=a(h,l),C=Y.S;C!==null&&C(v,A),s_(t,i,A)}catch(q){cd(t,i,q)}finally{Y.T=d}}else try{d=a(h,l),s_(t,i,d)}catch(q){cd(t,i,q)}}function s_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){a_(t,i,l)},function(l){return cd(t,i,l)}):a_(t,i,a)}function a_(t,i,a){i.status="fulfilled",i.value=a,o_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,r_(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,o_(i),i=i.next;while(i!==l)}t.action=null}function o_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function l_(t,i){return i}function u_(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(ct){t:{for(var h=ct,d=mi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Xn(h.nextSibling),l=h.data==="F!";break e}}Ks(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},a.queue=l,a=C_.bind(null,Ie,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,Ie,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=kb.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function c_(t){var i=Et();return h_(i,Qe,t)}function h_(t,i,a){if(i=od(t,i,l_)[0],t=dc(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(v){throw v===ul?oc:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Fa(9,mc(),Mb.bind(null,h,a),null)),[l,d,t]}function Mb(t,i){t.action=i}function f_(t){var i=Et(),a=Qe;if(a!==null)return h_(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=sd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function mc(){return{destroy:void 0,resource:void 0}}function d_(){return Et().memoizedState}function pc(t,i,a,l){var h=hn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Fa(1|i,mc(),a,l)}function gl(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&ed(l,Qe.memoizedState.deps)?h.memoizedState=Fa(i,d,a,l):(Ie.flags|=t,h.memoizedState=Fa(1|i,d,a,l))}function m_(t,i){pc(8390656,8,t,i)}function p_(t,i){gl(2048,8,t,i)}function g_(t,i){return gl(4,2,t,i)}function __(t,i){return gl(4,4,t,i)}function y_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function v_(t,i,a){a=a!=null?a.concat([t]):null,gl(4,4,y_.bind(null,i,t),a)}function hd(){}function E_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ed(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function T_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ed(i,l[1]))return l[0];if(l=t(),Ws){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function fd(t,i,a){return a===void 0||(Or&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Sy(),Ie.lanes|=t,jr|=t,a)}function A_(t,i,a,l){return yn(a,i)?a:Ba.current!==null?(t=fd(t,a,l),yn(t,i)||(Vt=!0),t):(Or&42)===0?(Vt=!0,t.memoizedState=a):(t=Sy(),Ie.lanes|=t,jr|=t,i)}function b_(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,A={};Y.T=A,pd(t,!1,i,a);try{var C=h(),q=Y.S;if(q!==null&&q(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Db(C,l);_l(t,i,X,bn(t))}else _l(t,i,l,bn(t))}catch(Z){_l(t,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{ae.p=d,Y.T=v}}function Vb(){}function dd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=S_(t).queue;b_(t,h,i,me,a===null?Vb:function(){return w_(t),a(l)})}function S_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function w_(t){var i=S_(t).next.queue;_l(t,i,{},bn())}function md(){return Wt(Ml)}function R_(){return Et().memoizedState}function I_(){return Et().memoizedState}function Lb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=xr(a);var l=Dr(i,t,a);l!==null&&(Sn(l,i,a),hl(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function Ub(t,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?N_(i,a):(a=kf(t,i,a,l),a!==null&&(Sn(a,t,l),x_(a,i,l)))}function C_(t,i,a){var l=bn();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))N_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,yn(A,v))return Ju(t,i,h,0),Je===null&&Zu(),!1}catch{}finally{}if(a=kf(t,i,h,l),a!==null)return Sn(a,t,l),x_(a,i,l),!0}return!1}function pd(t,i,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=kf(t,a,l,2),i!==null&&Sn(i,t,2)}function gc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function N_(t,i){qa=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function x_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var _c={readContext:Wt,use:fc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},D_={readContext:Wt,use:fc,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:m_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pc(4194308,4,y_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pc(4194308,4,t,i)},useInsertionEffect:function(t,i){pc(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var l=t();if(Ws){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Ws){gn(!0);try{a(i)}finally{gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ub.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=C_.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,i){var a=hn();return fd(a,t,i)},useTransition:function(){var t=ud(!1);return t=b_.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=hn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||Zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,m_(e_.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,mc(),Jg.bind(null,l,d,a,i),null),a},useId:function(){var t=hn(),i=Je.identifierPrefix;if(Be){var a=Zi,l=Wi;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Ob++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:md,useFormState:u_,useActionState:u_,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return hn().memoizedState=Lb.bind(null,Ie)}},O_={readContext:Wt,use:fc,useCallback:E_,useContext:Wt,useEffect:p_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:T_,useReducer:dc,useRef:d_,useState:function(){return dc(tr)},useDebugValue:hd,useDeferredValue:function(t,i){var a=Et();return A_(a,Qe.memoizedState,t,i)},useTransition:function(){var t=dc(tr)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Wg,useId:R_,useHostTransitionStatus:md,useFormState:c_,useActionState:c_,useOptimistic:function(t,i){var a=Et();return i_(a,Qe,t,i)},useMemoCache:ad,useCacheRefresh:I_},jb={readContext:Wt,use:fc,useCallback:E_,useContext:Wt,useEffect:p_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:T_,useReducer:ld,useRef:d_,useState:function(){return ld(tr)},useDebugValue:hd,useDeferredValue:function(t,i){var a=Et();return Qe===null?fd(a,t,i):A_(a,Qe.memoizedState,t,i)},useTransition:function(){var t=ld(tr)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Wg,useId:R_,useHostTransitionStatus:md,useFormState:f_,useActionState:f_,useOptimistic:function(t,i){var a=Et();return Qe!==null?i_(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:I_},Ga=null,yl=0;function yc(t){var i=yl;return yl+=1,Ga===null&&(Ga=[]),Hg(Ga,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function P_(t){var i=t._init;return i(t._payload)}function k_(t){function i(L,P){if(t){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Xi(L,P),L.index=0,L.sibling=null,L}function d(L,P,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function A(L,P,B,W){return P===null||P.tag!==6?(P=Vf(B,L.mode,W),P.return=L,P):(P=h(P,B),P.return=L,P)}function C(L,P,B,W){var he=B.type;return he===k?X(L,P,B.props.children,W,B.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&P_(he)===P.type)?(P=h(P,B.props),vl(P,B),P.return=L,P):(P=tc(B.type,B.key,B.props,null,L.mode,W),vl(P,B),P.return=L,P)}function q(L,P,B,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Lf(B,L.mode,W),P.return=L,P):(P=h(P,B.children||[]),P.return=L,P)}function X(L,P,B,W,he){return P===null||P.tag!==7?(P=Hs(B,L.mode,W,he),P.return=L,P):(P=h(P,B),P.return=L,P)}function Z(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Vf(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return B=tc(P.type,P.key,P.props,null,L.mode,B),vl(B,P),B.return=L,B;case D:return P=Lf(P,L.mode,B),P.return=L,P;case R:var W=P._init;return P=W(P._payload),Z(L,P,B)}if(lt(P)||U(P))return P=Hs(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return Z(L,yc(P),B);if(P.$$typeof===ee)return Z(L,sc(L,P),B);vc(L,P)}return null}function H(L,P,B,W){var he=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:A(L,P,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===he?C(L,P,B,W):null;case D:return B.key===he?q(L,P,B,W):null;case R:return he=B._init,B=he(B._payload),H(L,P,B,W)}if(lt(B)||U(B))return he!==null?null:X(L,P,B,W,null);if(typeof B.then=="function")return H(L,P,yc(B),W);if(B.$$typeof===ee)return H(L,P,sc(L,B),W);vc(L,B)}return null}function G(L,P,B,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,A(P,L,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return L=L.get(W.key===null?B:W.key)||null,C(P,L,W,he);case D:return L=L.get(W.key===null?B:W.key)||null,q(P,L,W,he);case R:var xe=W._init;return W=xe(W._payload),G(L,P,B,W,he)}if(lt(W)||U(W))return L=L.get(B)||null,X(P,L,W,he,null);if(typeof W.then=="function")return G(L,P,B,yc(W),he);if(W.$$typeof===ee)return G(L,P,B,sc(P,W),he);vc(P,W)}return null}function Te(L,P,B,W){for(var he=null,xe=null,fe=P,ye=P=0,Ut=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var je=H(L,fe,B[ye],W);if(je===null){fe===null&&(fe=Ut);break}t&&fe&&je.alternate===null&&i(L,fe),P=d(je,P,ye),xe===null?he=je:xe.sibling=je,xe=je,fe=Ut}if(ye===B.length)return a(L,fe),Be&&Gs(L,ye),he;if(fe===null){for(;ye<B.length;ye++)fe=Z(L,B[ye],W),fe!==null&&(P=d(fe,P,ye),xe===null?he=fe:xe.sibling=fe,xe=fe);return Be&&Gs(L,ye),he}for(fe=l(fe);ye<B.length;ye++)Ut=G(fe,L,ye,B[ye],W),Ut!==null&&(t&&Ut.alternate!==null&&fe.delete(Ut.key===null?ye:Ut.key),P=d(Ut,P,ye),xe===null?he=Ut:xe.sibling=Ut,xe=Ut);return t&&fe.forEach(function(Qr){return i(L,Qr)}),Be&&Gs(L,ye),he}function _e(L,P,B,W){if(B==null)throw Error(s(151));for(var he=null,xe=null,fe=P,ye=P=0,Ut=null,je=B.next();fe!==null&&!je.done;ye++,je=B.next()){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var Qr=H(L,fe,je.value,W);if(Qr===null){fe===null&&(fe=Ut);break}t&&fe&&Qr.alternate===null&&i(L,fe),P=d(Qr,P,ye),xe===null?he=Qr:xe.sibling=Qr,xe=Qr,fe=Ut}if(je.done)return a(L,fe),Be&&Gs(L,ye),he;if(fe===null){for(;!je.done;ye++,je=B.next())je=Z(L,je.value,W),je!==null&&(P=d(je,P,ye),xe===null?he=je:xe.sibling=je,xe=je);return Be&&Gs(L,ye),he}for(fe=l(fe);!je.done;ye++,je=B.next())je=G(fe,L,ye,je.value,W),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),P=d(je,P,ye),xe===null?he=je:xe.sibling=je,xe=je);return t&&fe.forEach(function(zS){return i(L,zS)}),Be&&Gs(L,ye),he}function Xe(L,P,B,W){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var he=B.key;P!==null;){if(P.key===he){if(he=B.type,he===k){if(P.tag===7){a(L,P.sibling),W=h(P,B.props.children),W.return=L,L=W;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&P_(he)===P.type){a(L,P.sibling),W=h(P,B.props),vl(W,B),W.return=L,L=W;break e}a(L,P);break}else i(L,P);P=P.sibling}B.type===k?(W=Hs(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=tc(B.type,B.key,B.props,null,L.mode,W),vl(W,B),W.return=L,L=W)}return v(L);case D:e:{for(he=B.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),W=h(P,B.children||[]),W.return=L,L=W;break e}else{a(L,P);break}else i(L,P);P=P.sibling}W=Lf(B,L.mode,W),W.return=L,L=W}return v(L);case R:return he=B._init,B=he(B._payload),Xe(L,P,B,W)}if(lt(B))return Te(L,P,B,W);if(U(B)){if(he=U(B),typeof he!="function")throw Error(s(150));return B=he.call(B),_e(L,P,B,W)}if(typeof B.then=="function")return Xe(L,P,yc(B),W);if(B.$$typeof===ee)return Xe(L,P,sc(L,B),W);vc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),W=h(P,B),W.return=L,L=W):(a(L,P),W=Vf(B,L.mode,W),W.return=L,L=W),v(L)):a(L,P)}return function(L,P,B,W){try{yl=0;var he=Xe(L,P,B,W);return Ga=null,he}catch(fe){if(fe===ul||fe===oc)throw fe;var xe=vn(29,fe,null,L.mode);return xe.lanes=W,xe.return=L,xe}finally{}}}var $a=k_(!0),M_=k_(!1),Bn=te(null),pi=null;function Pr(t){var i=t.alternate;ie(Ct,Ct.current&1),ie(Bn,t),pi===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(pi=t)}function V_(t){if(t.tag===22){if(ie(Ct,Ct.current),ie(Bn,t),pi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(pi=t)}}else kr()}function kr(){ie(Ct,Ct.current),ie(Bn,Bn.current)}function nr(t){oe(Bn),pi===t&&(pi=null),oe(Ct)}var Ct=te(0);function Ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(Sn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(Sn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(Sn(i,t,a),hl(i,t,a))}};function L_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function U_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function j_(t){Tc(t)}function z_(t){console.error(t)}function B_(t){Tc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function q_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function H_(t){return t=xr(t),t.tag=3,t}function F_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){q_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){q_(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function zb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&al(i,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return pi===null?qd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Kf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(t,l,h)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(t,l,h)),!1}throw Error(s(435,a.tag))}return Fd(t,l,h),qd(),!1}if(Be)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),sl(Ln(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),sl(Ln(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=yd(t.stateNode,l,h),Xf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Rl===null?Rl=[d]:Rl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=H_(h),F_(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var G_=Error(s(461)),Vt=!1;function Ft(t,i,a,l){i.child=t===null?M_(i,null,a,l):$a(i,t.child,a,l)}function $_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Ys(i),l=td(t,i,a,v,d,h),A=nd(),t!==null&&!Vt?(id(t,i,h),ir(t,i,h)):(Be&&A&&Uf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function K_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Q_(t,i,d,l,h)):(t=tc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&t.ref===i.ref)return ir(t,i,h)}return i.flags|=1,t=Xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Q_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,Rd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,ir(t,i,h)}return vd(t,i,a,l,h)}function Y_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return X_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):Zf(),V_(i);else return i.lanes=i.childLanes=536870912,X_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ac(i,d.cachePool),Qg(i,d),kr(),i.memoizedState=null):(t!==null&&ac(i,null),Zf(),kr());return Ft(t,i,h,a),i.child}function X_(t,i,a,l){var h=$f();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ac(i,null),Zf(),V_(i),t!==null&&al(t,i,l,!0),null}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,h){return Ys(i),a=td(t,i,a,l,void 0,h),l=nd(),t!==null&&!Vt?(id(t,i,h),ir(t,i,h)):(Be&&l&&Uf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function W_(t,i,a,l,h,d){return Ys(i),i.updateQueue=null,a=Xg(i,l,a,h),Yg(t),l=nd(),t!==null&&!Vt?(id(t,i,d),ir(t,i,d)):(Be&&l&&Uf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Z_(t,i,a,l,h){if(Ys(i),i.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Wt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Wt(v):Va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(gd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,C=Zs(a,A);d.props=C;var q=d.context,X=a.contextType;v=Va,typeof X=="object"&&X!==null&&(v=Wt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==v)&&U_(i,d,l,v),Nr=!1;var H=i.memoizedState;d.state=H,dl(i,l,d,h),fl(),q=i.memoizedState,A||H!==q||Nr?(typeof Z=="function"&&(gd(i,a,Z,l),q=i.memoizedState),(C=Nr||L_(i,a,C,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),v=i.memoizedProps,X=Zs(a,v),d.props=X,Z=i.pendingProps,H=d.context,q=a.contextType,C=Va,typeof q=="object"&&q!==null&&(C=Wt(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&U_(i,d,l,C),Nr=!1,H=i.memoizedState,d.state=H,dl(i,l,d,h),fl();var G=i.memoizedState;v!==Z||H!==G||Nr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof A=="function"&&(gd(i,a,A,l),G=i.memoizedState),(X=Nr||L_(i,a,X,l,H,G,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$a(i,t.child,null,h),i.child=$a(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ir(t,i,h),t}function J_(t,i,a,l){return rl(),i.flags|=256,Ft(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:zg()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=qn),t}function ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Pr(i):kr(),Be){var A=ct,C;if(C=A){e:{for(C=A,A=mi;C.nodeType!==8;){if(!A){A=null;break e}if(C=Xn(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(i.memoizedState={dehydrated:A,treeContext:Fs!==null?{id:Wi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},C=vn(18,null,null,0),C.stateNode=A,C.return=i,i.child=C,on=i,ct=null,C=!0):C=!1}C||Ks(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return sm(A)?i.lanes=32:i.lanes=536870912,null;nr(i)}return A=l.children,l=l.fallback,h?(kr(),h=i.mode,A=Sc({mode:"hidden",children:A},h),l=Hs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=Td(a),h.childLanes=Ad(t,v,a),i.memoizedState=Ed,l):(Pr(i),bd(i,A))}if(C=t.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Sd(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),h=l.fallback,A=i.mode,l=Sc({mode:"visible",children:l.children},A),h=Hs(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,$a(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Ad(t,v,a),i.memoizedState=Ed,i=h);else if(Pr(i),sm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),i=Sd(t,i,a)}else if(Vt||al(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:Tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ma(t,l),Sn(v,t,l),G_;A.data==="$?"||qd(),i=Sd(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ct=Xn(A.nextSibling),on=i,Be=!0,$s=null,mi=!1,t!==null&&(jn[zn++]=Wi,jn[zn++]=Zi,jn[zn++]=Fs,Wi=t.id,Zi=t.overflow,Fs=i),i=bd(i,l.children),i.flags|=4096);return i}return h?(kr(),h=l.fallback,A=i.mode,C=t.child,q=C.sibling,l=Xi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Xi(q,h):(h=Hs(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=Td(a):(C=A.cachePool,C!==null?(q=It._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=zg(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=Ad(t,v,a),i.memoizedState=Ed,l):(Pr(i),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function bd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,i,a){return $a(i,t.child,null,a),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function wd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ft(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,a,i);else if(t.tag===19)ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(i,!0,a,null,d);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(al(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function Bb(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),Cr(i,It,t.memoizedState.cache),rl();break;case 27:case 5:Er(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ey(t,i,a):(Pr(i),t=ir(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(al(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,Y_(t,i,a);case 24:Cr(i,It,t.memoizedState.cache)}return ir(t,i,a)}function iy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return Vt=!1,Bb(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Be&&(i.flags&1048576)!==0&&Pg(i,ic,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Mf(l)?(t=Zs(l,t),i.tag=1,i=Z_(null,i,l,t,a)):(i.tag=0,i=vd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=$_(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=K_(null,i,l,t,a);break e}}throw i=Bt(l)||l,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Zs(l,i.pendingProps),Z_(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),dl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Cr(i,It,l),l!==d.cache&&Hf(i,[It],a,!0),fl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=J_(t,i,l,a);break e}else if(l!==h){h=Ln(Error(s(424)),i),sl(h),i=J_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Xn(t.firstChild),on=i,Be=!0,$s=null,mi=!0,a=M_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===h){i=ir(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Uc(be.current).createElement(a),l[St]=i,l[_t]=t,$t(l,a,t),ft(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Er(i),t===null&&Be&&(l=i.stateNode=rv(i.type,i.pendingProps,be.current),on=i,mi=!0,h=ct,Hr(i.type)?(am=h,ct=Xn(l.firstChild)):ct=h),Ft(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=pS(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,on=i,ct=Xn(l.firstChild),mi=!1,h=!0):h=!1),h||Ks(i)),Er(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,nm(h,d)?l=null:v!==null&&nm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=td(t,i,Pb,null,null,a),Ml._currentValue=h),bc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ct)&&(a=gS(a,i.pendingProps,mi),a!==null?(i.stateNode=a,on=i,ct=null,t=!0):t=!1),t||Ks(i)),null;case 13:return ey(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$a(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return $_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ys(i),h=Wt(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return K_(t,i,i.type,i.pendingProps,a);case 15:return Q_(t,i,i.type,i.pendingProps,a);case 19:return ny(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Xi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Y_(t,i,a);case 24:return Ys(i),l=Wt(It),t===null?(h=$f(),h===null&&(h=Je,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),Cr(i,It,h)):((t.lanes&a)!==0&&(Yf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,It,l)):(l=d.cache,Cr(i,It,l),l!==h.cache&&Hf(i,[It],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function rr(t){t.flags|=4}function ry(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i)){if(i=Bn.current,i!==null&&((Le&4194048)===Le?pi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==pi))throw cl=Kf,Bg;t.flags|=8192}}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lo():536870912,t.lanes|=i,Xa|=i)}function El(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qb(t,i,a){var l=i.pendingProps;switch(jf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),er(It),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(i)?rr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vg())),rt(i),null;case 26:return a=i.memoizedState,t===null?(rr(i),a!==null?(rt(i),ry(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(rr(i),rt(i),ry(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&rr(i),rt(i),i.flags&=-16777217),null;case 27:Li(i),a=be.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=pe.current,il(i)?kg(i):(t=rv(h,l,a),i.stateNode=t,rr(i))}return rt(i),null;case 5:if(Li(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=pe.current,il(i))kg(i);else{switch(h=Uc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&rr(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,il(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wy(t.nodeValue,a)),t||Ks(i)}else t=Uc(t).createTextNode(l),t[St]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Vg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(nr(i),i):(nr(i),null)}if(nr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),rt(i),null;case 4:return ni(),t===null&&Wd(i.stateNode.containerInfo),rt(i),null;case 10:return er(i.type),rt(i),null;case 19:if(oe(Ct),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)El(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ec(t),d!==null){for(i.flags|=128,El(h,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Og(a,t),a=a.sibling;return ie(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&Dn()>Cc&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ec(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return rt(i),null}else 2*Dn()-h.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Dn(),i.sibling=null,t=Ct.current,ie(Ct,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return nr(i),Jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(It),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Hb(t,i){switch(jf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return er(It),ni(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Li(i),null;case 13:if(nr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(Ct),null;case 4:return ni(),null;case 10:return er(i.type),null;case 22:case 23:return nr(i),Jf(),t!==null&&oe(Xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return er(It),null;case 25:return null;default:return null}}function sy(t,i){switch(jf(i),i.tag){case 3:er(It),ni();break;case 26:case 27:case 5:Li(i);break;case 4:ni();break;case 13:nr(i);break;case 19:oe(Ct);break;case 10:er(i.type);break;case 22:case 23:nr(i),Jf(),t!==null&&oe(Xs);break;case 24:er(It)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){We(i,i.return,A)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var C=a,q=A;try{q()}catch(X){We(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function ay(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Kg(i,a)}catch(l){We(t,t.return,l)}}}function oy(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function gi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Id(t,i,a){try{var l=t.stateNode;cS(l,t.type,a,i),l[_t]=i}catch(h){We(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function cy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$t(i,l,a),i[St]=t,i[_t]=a}catch(d){We(t,t.return,d)}}var sr=!1,mt=!1,xd=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Fb(t,i){if(t=t.containerInfo,em=Fc,t=Ag(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,C=-1,q=0,X=0,Z=t,H=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(A=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)H=Z,Z=G;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(A=v),H===d&&++X===l&&(C=v),(G=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=G}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Fc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Zs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function fy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(t,a),l&4&&Tl(5,a);break;case 1:if(Vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&ay(a),l&512&&Al(a,a.return);break;case 3:if(Vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&cy(a);case 26:case 5:Vr(t,a),i===null&&l&4&&ly(a),l&512&&Al(a,a.return);break;case 12:Vr(t,a);break;case 13:Vr(t,a),l&4&&py(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Jb.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){i=i!==null&&i.memoizedState!==null||mt,h=sr;var d=mt;sr=l,(mt=i)&&!d?Lr(t,a,(a.subtreeFlags&8772)!==0):Vr(t,a),sr=h,mt=d}break;case 30:break;default:Vr(t,a)}}function dy(t){var i=t.alternate;i!==null&&(t.alternate=null,dy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,fn=!1;function ar(t,i,a){for(a=a.child;a!==null;)my(t,i,a),a=a.sibling}function my(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||gi(a,i),ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||gi(a,i);var l=tt,h=fn;Hr(a.type)&&(tt=a.stateNode,fn=!1),ar(t,i,a),Dl(a.stateNode),tt=l,fn=h;break;case 5:mt||gi(a,i);case 6:if(l=tt,h=fn,tt=null,ar(t,i,a),tt=l,fn=h,tt!==null)if(fn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:tt!==null&&(fn?(t=tt,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):nv(tt,a.stateNode));break;case 4:l=tt,h=fn,tt=a.stateNode.containerInfo,fn=!0,ar(t,i,a),tt=l,fn=h;break;case 0:case 11:case 14:case 15:mt||Mr(2,a,i),mt||Mr(4,a,i),ar(t,i,a);break;case 1:mt||(gi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&oy(a,i,l)),ar(t,i,a);break;case 21:ar(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,ar(t,i,a),mt=l;break;default:ar(t,i,a)}}function py(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){We(i,i.return,a)}}function Gb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new hy),i;default:throw Error(s(435,t.tag))}}function Dd(t,i){var a=Gb(t);i.forEach(function(l){var h=eS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Hr(A.type)){tt=A.stateNode,fn=!1;break e}break;case 5:tt=A.stateNode,fn=!1;break e;case 3:case 4:tt=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(tt===null)throw Error(s(160));my(d,v,h),tt=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gy(i,t),i=i.sibling}var Yn=null;function gy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),Tn(t),l&4&&(Mr(3,t,t.return),Tl(3,t),Mr(5,t,t.return));break;case 1:En(i,t),Tn(t),l&512&&(mt||a===null||gi(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(En(i,t),Tn(t),l&512&&(mt||a===null||gi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Is]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[St]=t,ft(d),l=d;break e;case"link":var v=cv("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(v=cv("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ft(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(i,t),Tn(t),l&512&&(mt||a===null||gi(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(i,t),Tn(t),l&512&&(mt||a===null||gi(a,a.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Id(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(En(i,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Bc=null,h=Yn,Yn=jc(i.containerInfo),En(i,t),Yn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(G){We(t,t.return,G)}xd&&(xd=!1,_y(t));break;case 4:l=Yn,Yn=jc(t.stateNode.containerInfo),En(i,t),Tn(t),Yn=l;break;case 12:En(i,t),Tn(t);break;case 13:En(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=Dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=sr,X=mt;if(sr=q||h,mt=X||C,En(i,t),mt=X,sr=q,Tn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||sr||mt||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(C,C.return,G)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){We(C,C.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(t,a))));break;case 19:En(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:En(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(uy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(t);Rc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Pn(v,""),a.flags&=-33);var A=Cd(t);Rc(t,A,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Cd(t);Nd(t,q,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;_y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Js(i);break;case 1:gi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&oy(i,i.return,a),Js(i);break;case 27:Dl(i.stateNode);case 26:case 5:gi(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function Lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(h,d,a),Tl(4,d);break;case 1:if(Lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$g(C[h],A)}catch(q){We(l,l.return,q)}}a&&v&64&&ay(d),Al(d,d.return);break;case 27:cy(d);case 26:case 5:Lr(h,d,a),a&&l===null&&v&4&&ly(d),Al(d,d.return);break;case 12:Lr(h,d,a);break;case 13:Lr(h,d,a),a&&v&4&&py(h,d);break;case 22:d.memoizedState===null&&Lr(h,d,a),Al(d,d.return);break;case 30:break;default:Lr(h,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function _i(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(t,i,a,l),i=i.sibling}function yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:_i(t,i,a,l),h&2048&&Tl(9,i);break;case 1:_i(t,i,a,l);break;case 3:_i(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){_i(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(i,i.return,C)}}else _i(t,i,a,l);break;case 13:_i(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?_i(t,i,a,l):bl(t,i):d._visibility&2?_i(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Od(v,i);break;case 24:_i(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:_i(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(d,v,A,C,h),Tl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ka(d,v,A,C,h):bl(d,v):(X._visibility|=2,Ka(d,v,A,C,h)),h&&q&2048&&Od(v.alternate,v);break;case 24:Ka(d,v,A,C,h),h&&q&2048&&Pd(v.alternate,v);break;default:Ka(d,v,A,C,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Od(l.alternate,l);break;case 24:bl(a,l),h&2048&&Pd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Sl=8192;function Qa(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 26:Qa(t),t.flags&Sl&&t.memoizedState!==null&&xS(Yn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var i=Yn;Yn=jc(t.stateNode.containerInfo),Qa(t),Yn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Sl,Sl=16777216,Qa(t),Sl=i):Qa(t));break;default:Qa(t)}}function Ey(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Ay(l,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):wl(t);break;default:wl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Ay(l,t)}Ey(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function Ay(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(dy(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var $b={getCacheForType:function(t){var i=Wt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Kb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,$e=0,An=null,Ur=!1,Ya=!1,kd=!1,or=0,ht=0,jr=0,ea=0,Md=0,qn=0,Xa=0,Rl=null,dn=null,Vd=!1,Ld=0,Cc=1/0,Nc=null,zr=null,Gt=0,Br=null,Wa=null,Za=0,Ud=0,jd=null,by=null,Il=0,zd=null;function bn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=ja;return t!==0?t:Kd()}return Ar()}function Sy(){qn===0&&(qn=(Le&536870912)===0||Be?Vo():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),qn}function Sn(t,i,a){(t===Je&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),qr(t,Le,qn,!1)),ji(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(ea|=a),ht===4&&qr(t,Le,qn,!1)),yi(t))}function wy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Rs(t,i),h=l?Xb(t,i):Hd(t,i,!0),d=l;do{if(h===0){Ya&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Qb(a)){h=Hd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=Rl;var C=A.current.memoizedState.isDehydrated;if(C&&(Ja(A,v).flags|=256),v=Hd(A,v,!1),v!==2){if(kd&&!C){A.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,qn,!Ur);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ld+300-Dn(),10<h)){if(qr(l,i,qn,!Ur),ga(l,0,!0)!==0)break e;l.timeoutHandle=ev(Ry.bind(null,l,a,dn,Nc,Vd,i,qn,ea,Xa,Ur,d,2,-0,0),h);break e}Ry(l,a,dn,Nc,Vd,i,qn,ea,Xa,Ur,d,0,-0,0)}}break}while(!0);yi(t)}function Ry(t,i,a,l,h,d,v,A,C,q,X,Z,H,G){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:NS},vy(i),Z=DS(),Z!==null)){t.cancelPendingCommit=Z(Py.bind(null,t,i,d,a,l,h,v,A,C,X,1,H,G)),qr(t,d,v,!q);return}Py(t,i,d,a,l,h,v,A,C)}function Qb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~Md,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Xt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ii(t,a,i)}function xc(){return(Ge&6)===0?(Cl(0),!1):!0}function Bd(){if(De!==null){if($e===0)var t=De.return;else t=De,Ji=Qs=null,rd(t),Ga=null,yl=0,t=De;for(;t!==null;)sy(t.alternate,t),t=t.return;De=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bd(),Je=t,De=a=Xi(t.current,null),Le=i,$e=0,An=null,Ur=!1,Ya=Rs(t,i),kd=!1,Xa=qn=Md=ea=jr=ht=0,dn=Rl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Xt(l),d=1<<h;i|=t[h],l&=~d}return or=i,Zu(),a}function Iy(t,i){Ie=null,Y.H=_c,i===ul||i===oc?(i=Fg(),$e=3):i===Bg?(i=Fg(),$e=4):$e=i===G_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,De===null&&(ht=1,Ac(t,Ln(i,t.current)))}function Cy(){var t=Y.H;return Y.H=_c,t===null?_c:t}function Ny(){var t=Y.A;return Y.A=$b,t}function qd(){ht=4,Ur||(Le&4194048)!==Le&&Bn.current!==null||(Ya=!0),(jr&134217727)===0&&(ea&134217727)===0||Je===null||qr(Je,Le,qn,!1)}function Hd(t,i,a){var l=Ge;Ge|=2;var h=Cy(),d=Ny();(Je!==t||Le!==i)&&(Nc=null,Ja(t,i)),i=!1;var v=ht;e:do try{if($e!==0&&De!==null){var A=De,C=An;switch($e){case 8:Bd(),v=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var q=$e;if($e=0,An=null,eo(t,A,C,q),a&&Ya){v=0;break e}break;default:q=$e,$e=0,An=null,eo(t,A,C,q)}}Yb(),v=ht;break}catch(X){Iy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ji=Qs=null,Ge=l,Y.H=h,Y.A=d,De===null&&(Je=null,Le=0,Zu()),v}function Yb(){for(;De!==null;)xy(De)}function Xb(t,i){var a=Ge;Ge|=2;var l=Cy(),h=Ny();Je!==t||Le!==i?(Nc=null,Cc=Dn()+500,Ja(t,i)):Ya=Rs(t,i);e:do try{if($e!==0&&De!==null){i=De;var d=An;t:switch($e){case 1:$e=0,An=null,eo(t,i,d,1);break;case 2:case 9:if(qg(d)){$e=0,An=null,Dy(i);break}i=function(){$e!==2&&$e!==9||Je!==t||($e=7),yi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:qg(d)?($e=0,An=null,Dy(i)):($e=0,An=null,eo(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var A=De;if(!v||fv(v)){$e=0,An=null;var C=A.sibling;if(C!==null)De=C;else{var q=A.return;q!==null?(De=q,Dc(q)):De=null}break t}}$e=0,An=null,eo(t,i,d,5);break;case 6:$e=0,An=null,eo(t,i,d,6);break;case 8:Bd(),ht=6;break e;default:throw Error(s(462))}}Wb();break}catch(X){Iy(t,X)}while(!0);return Ji=Qs=null,Y.H=l,Y.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Zu(),ht)}function Wb(){for(;De!==null&&!Oo();)xy(De)}function xy(t){var i=iy(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Dc(t):De=i}function Dy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=W_(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=W_(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:rd(i);default:sy(a,i),i=De=Og(i,or),i=iy(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Dc(t):De=i}function eo(t,i,a,l){Ji=Qs=null,rd(i),Ga=null,yl=0;var h=i.return;try{if(zb(t,h,i,a,Le)){ht=1,Ac(t,Ln(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,Ac(t,Ln(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:Ya||(Le&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(i,t)):Dc(i)}function Dc(t){var i=t;do{if((i.flags&32768)!==0){Oy(i,Ur);return}t=i.return;var a=qb(i.alternate,i,or);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function Oy(t,i){do{var a=Hb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Py(t,i,a,l,h,d,v,A,C){t.cancelPendingCommit=null;do Oc();while(Gt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Pf,Uo(t,a,d,v,A,C),t===Je&&(De=Je=null,Le=0),Wa=i,Br=t,Za=a,Ud=d,jd=h,by=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tS(As,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{Fb(t,i,a)}finally{Ge=v,ae.p=h,Y.T=l}}Gt=1,ky(),My(),Vy()}}function ky(){if(Gt===1){Gt=0;var t=Br,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{gy(i,t);var d=tm,v=Ag(t.containerInfo),A=d.focusedElem,C=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Tg(A.ownerDocument.documentElement,A)){if(C!==null&&Cf(A)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(X,A.value.length);else{var Z=A.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var G=H.getSelection(),Te=A.textContent.length,_e=Math.min(C.start,Te),Xe=C.end===void 0?_e:Math.min(C.end,Te);!G.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var L=Eg(A,_e),P=Eg(A,Xe);if(L&&P&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),_e>Xe?(G.addRange(B),G.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),G.addRange(B))}}}}for(Z=[],G=A;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var W=Z[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Fc=!!em,tm=em=null}finally{Ge=h,ae.p=l,Y.T=a}}t.current=i,Gt=2}}function My(){if(Gt===2){Gt=0;var t=Br,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{fy(t,i.alternate,i)}finally{Ge=h,ae.p=l,Y.T=a}}Gt=3}}function Vy(){if(Gt===4||Gt===3){Gt=0,Iu();var t=Br,i=Wa,a=Za,l=by;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,Wa=Br=null,Ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),_a(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Y.T=i,ae.p=h}}(Za&3)!==0&&Oc(),yi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===zd?Il++:(Il=0,zd=t):Il=0,Cl(0)}}function Ly(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Oc(t){return ky(),My(),Vy(),Uy()}function Uy(){if(Gt!==5)return!1;var t=Br,i=Ud;Ud=0;var a=_a(Za),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=jd,jd=null;var d=Br,v=Za;if(Gt=0,Wa=Br=null,Za=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,Ty(d.current),yy(d,d.current,v,a),Ge=A,Cl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,Y.T=l,Ly(t,i)}}function jy(t,i,a){i=Ln(a,i),i=yd(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(ji(t,2),yi(t))}function We(t,i,a){if(t.tag===3)jy(t,t,a);else for(;i!==null;){if(i.tag===3){jy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Ln(a,t),a=H_(2),l=Dr(i,a,2),l!==null&&(F_(a,l,i,t),ji(l,2),yi(l));break}}i=i.return}}function Fd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Kb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),t=Zb.bind(null,t,i,a),i.then(t,t))}function Zb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Dn()-Ld?(Ge&2)===0&&Ja(t,0):Md|=a,Xa===Le&&(Xa=0)),yi(t)}function zy(t,i){i===0&&(i=Lo()),t=Ma(t,i),t!==null&&(ji(t,i),yi(t))}function Jb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),zy(t,a)}function eS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),zy(t,a)}function tS(t,i){return Es(t,i)}var Pc=null,to=null,Gd=!1,kc=!1,$d=!1,ta=0;function yi(t){t!==to&&t.next===null&&(to===null?Pc=to=t:to=to.next=t),kc=!0,Gd||(Gd=!0,iS())}function Cl(t,i){if(!$d&&kc){$d=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Fy(l,d))}else d=Le,d=ga(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Rs(l,d)||(a=!0,Fy(l,d));l=l.next}while(a);$d=!1}}function nS(){By()}function By(){kc=Gd=!1;var t=0;ta!==0&&(hS()&&(t=ta),ta=0);for(var i=Dn(),a=null,l=Pc;l!==null;){var h=l.next,d=qy(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(to=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Cl(t)}function qy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Xt(d),A=1<<v,C=h[v];C===-1?((A&a)===0||(A&l)!==0)&&(h[v]=Mo(A,i)):C<=i&&(t.expiredLanes|=A),d&=~A}if(i=Je,a=Le,a=ga(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Rs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ts(l),_a(a)){case 2:case 8:a=ma;break;case 32:a=As;break;case 268435456:a=pa;break;default:a=As}return l=Hy.bind(null,t),a=Es(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ts(l),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=Le;return l=ga(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wy(t,l,i),qy(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?Hy.bind(null,t):null)}function Fy(t,i){if(Oc())return null;wy(t,i,!0)}function iS(){dS(function(){(Ge&6)!==0?Es(Po,nS):By()})}function Kd(){return ta===0&&(ta=Vo()),ta}function Gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function $y(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Gy((h[_t]||null).action),v=l.submitter;v&&(i=(i=v[_t]||null)?Gy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new Sa("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var C=v?$y(h,v):new FormData(h);dd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=v?$y(h,v):new FormData(h),dd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Qd=0;Qd<Of.length;Qd++){var Yd=Of[Qd],sS=Yd.toLowerCase(),aS=Yd[0].toUpperCase()+Yd.slice(1);Qn(sS,"on"+aS)}Qn(wg,"onAnimationEnd"),Qn(Rg,"onAnimationIteration"),Qn(Ig,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(bb,"onTransitionRun"),Qn(Sb,"onTransitionStart"),Qn(wb,"onTransitionCancel"),Qn(Cg,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Ky(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],C=A.instance,q=A.currentTarget;if(A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Tc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(A=l[v],C=A.instance,q=A.currentTarget,A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Tc(X)}h.currentTarget=null,d=C}}}}function Oe(t,i){var a=i[zo];a===void 0&&(a=i[zo]=new Set);var l=t+"__bubble";a.has(l)||(Qy(i,t,2,!1),a.add(l))}function Xd(t,i,a){var l=0;i&&(l|=4),Qy(a,t,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Mc]){t[Mc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(oS.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Xd("selectionchange",!1,i))}}function Qy(t,i,a,l){switch(yv(i)){case 2:var h=kS;break;case 8:h=MS;break;default:h=hm}a=h.bind(null,i,a,t),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=zi(A),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Lu(function(){var q=d,X=kn(a),Z=[];e:{var H=Ng.get(t);if(H!==void 0){var G=Sa,Te=t;switch(t){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":G=xa;break;case"focusin":Te="focus",G=Ia;break;case"focusout":Te="blur",G=Ia;break;case"beforeblur":case"afterblur":G=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Gu;break;case wg:case Rg:case Ig:G=Ca;break;case Cg:G=Ku;break;case"scroll":case"scrollend":G=Uu;break;case"wheel":G=Da;break;case"copy":case"cut":case"paste":G=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jo;break;case"toggle":case"beforetoggle":G=Yu}var _e=(i&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var P=q,B;P!==null;){var W=P;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=ks(P,L),W!=null&&_e.push(xl(P,W,B))),Xe)break;P=P.return}0<_e.length&&(H=new G(H,Te,null,a,X),Z.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Fi&&(Te=a.relatedTarget||a.fromElement)&&(zi(Te)||Te[On]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?zi(Te):null,Te!==null&&(Xe=u(Te),_e=Te.tag,Te!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(_e=Vn,W="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Jo,W="onPointerLeave",L="onPointerEnter",P="pointer"),Xe=G==null?H:si(G),B=Te==null?H:si(Te),H=new _e(W,P+"leave",G,a,X),H.target=Xe,H.relatedTarget=B,W=null,zi(X)===q&&(_e=new _e(L,P+"enter",Te,a,X),_e.target=B,_e.relatedTarget=Xe,W=_e),Xe=W,G&&Te)t:{for(_e=G,L=Te,P=0,B=_e;B;B=no(B))P++;for(B=0,W=L;W;W=no(W))B++;for(;0<P-B;)_e=no(_e),P--;for(;0<B-P;)L=no(L),B--;for(;P--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=no(_e),L=no(L)}_e=null}else _e=null;G!==null&&Yy(Z,H,G,_e,!1),Te!==null&&Xe!==null&&Yy(Z,Xe,Te,_e,!0)}}e:{if(H=q?si(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var he=mg;else if(Rt(H))if(pg)he=Eb;else{he=yb;var xe=_b}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&$o(q.elementType)&&(he=mg):he=vb;if(he&&(he=he(t,q))){Yi(Z,he,a,X);break e}xe&&xe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Rr(H,"number",H.value)}switch(xe=q?si(q):window,t){case"focusin":(Rt(xe)||xe.contentEditable==="true")&&(Oa=xe,Nf=q,nl=null);break;case"focusout":nl=Nf=Oa=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,bg(Z,a,X);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":bg(Z,a,X)}var fe;if(fi)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Me?$(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Me||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Me&&(fe=Qo()):(li=X,Ir="value"in li?li.value:li.textContent,Me=!0)),xe=Vc(q,ye),0<xe.length&&(ye=new Wo(ye,t,null,a,X),Z.push({event:ye,listeners:xe}),fe?ye.data=fe:(fe=se(a),fe!==null&&(ye.data=fe)))),(fe=_?wt(t,a):Ve(t,a))&&(ye=Vc(q,"onBeforeInput"),0<ye.length&&(xe=new Wo("onBeforeInput","beforeinput",null,a,X),Z.push({event:xe,listeners:ye}),xe.data=fe)),rS(Z,t,q,a,X)}Ky(Z,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ks(t,a),h!=null&&l.unshift(xl(t,h,d)),h=ks(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,C=A.alternate,q=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||q===null||(C=q,h?(q=ks(a,d),q!=null&&v.unshift(xl(a,q,C))):h||(q=ks(a,d),q!=null&&v.push(xl(a,q,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(lS,`
`).replace(uS,"")}function Wy(t,i){return i=Xy(i),Xy(t)===i}function Lc(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(t,""+l);break;case"className":ai(t,"class",l);break;case"tabIndex":ai(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){ai(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),wr(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,wr(t,a,l))}}function Jd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wr(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var A=d=v=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ye(t,i,l,X,a,null)}}Ds(t,d,A,C,q,v,h,!1),Aa(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Ye(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Hi(t,!!l,i,!1):a!=null&&Hi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Ye(t,i,v,A,a,null)}Os(t,l,h,d),Aa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Oe(Nl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,q,l,a,null)}return;default:if($o(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Jd(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Ye(t,i,A,l,a,null))}function cS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,C=null,q=null,X=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Ye(t,i,G,null,l,Z)}}for(var H in l){var G=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(G!=null||Z!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==Z&&Ye(t,i,H,G,l,Z)}}_n(t,v,A,C,q,X,d,h);return;case"select":G=v=A=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==C&&Ye(t,i,h,d,l,C)}i=A,a=v,l=G,H!=null?Hi(t,!!a,H,!1):!!l!=!!a&&(i!=null?Hi(t,!!a,i,!0):Hi(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ye(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,v,h,l,d)}Ke(t,H,G);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ye(t,i,Te,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(t,i,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Ye(t,i,_e,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ye(t,i,q,H,l,G)}return;default:if($o(i)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&Jd(t,i,Xe,void 0,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||Jd(t,i,X,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ye(t,i,L,null,l,H);for(Z in l)H=l[Z],G=a[Z],!l.hasOwnProperty(Z)||H===G||H==null&&G==null||Ye(t,i,Z,H,l,G)}var em=null,tm=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function hS(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(mS)}:ev;function mS(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function nv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Dl(v.documentElement),a&2&&Dl(v.body),a&4)for(a=v.head,Dl(a),v=a.firstChild;v;){var A=v.nextSibling,C=v.nodeName;v[Is]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),jl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(i)}function rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),Sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Is])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function gS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _S(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var am=null;function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function rv(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sr(t)}var Hn=new Map,sv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=ae.d;ae.d={f:yS,r:vS,D:ES,C:TS,L:AS,m:bS,X:wS,S:SS,M:RS};function yS(){var t=lr.f(),i=xc();return t||i}function vS(t){var i=ri(t);i!==null&&i.tag===5&&i.type==="form"?w_(i):lr.r(t)}var io=typeof document>"u"?null:document;function av(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$t(i,"link",t),ft(i),l.head.appendChild(i)))}}function ES(t){lr.D(t),av("dns-prefetch",t,null)}function TS(t,i){lr.C(t,i),av("preconnect",t,i)}function AS(t,i,a){lr.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}Hn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Hn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),$t(i,"link",t),ft(i),l.head.appendChild(i)))}}function bS(t,i){lr.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),$t(l,"link",t),ft(l),a.head.appendChild(l)}}}function SS(t,i,a){lr.S(t,i,a);var l=io;if(l&&t){var h=rn(l).hoistableStyles,d=ro(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Ol(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Hn.get(d))&&om(t,a);var C=v=l.createElement("link");ft(C),$t(C,"link",t),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function wS(t,i){lr.X(t,i);var a=io;if(a&&t){var l=rn(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=T({src:t,async:!0},i),(i=Hn.get(h))&&lm(t,i),d=a.createElement("script"),ft(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function RS(t,i){lr.M(t,i);var a=io;if(a&&t){var l=rn(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&lm(t,i),d=a.createElement("script"),ft(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=be.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=rn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=rn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ol(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||IS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=rn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+yt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),ft(i),t.head.appendChild(i))}function so(t){return'[src="'+yt(t)+'"]'}function Pl(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),$t(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=lv(a),(h=Hn.get(h))&&om(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),$t(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Pl(d)))?(i.instance=h,ft(h),h):(l=a,(h=Hn.get(d))&&(l=T({},a),lm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),$t(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function cv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Is]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function CS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function NS(){}function xS(t,i,a){if(kl===null)throw Error(s(475));var l=kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ro(a.href),d=t.querySelector(Ol(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=lv(a),(h=Hn.get(h))&&om(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),$t(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=qc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function DS(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function um(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(OS,t),Hc=null,qc.call(t))}function OS(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function PS(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,v,A,C,q,X,Z){return t=new PS(t,i,a,v,A,C,q,Z),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function mv(t){return t?(t=Va,t):Va}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(Sn(a,t,i),hl(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function cm(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function _v(t){if(t.tag===13){var i=Ma(t,67108864);i!==null&&Sn(i,t,67108864),cm(t,67108864)}}var Fc=!0;function kS(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,hm(t,i,a,l)}finally{ae.p=d,Y.T=h}}function MS(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,hm(t,i,a,l)}finally{ae.p=d,Y.T=h}}function hm(t,i,a,l){if(Fc){var h=fm(l);if(h===null)Zd(t,i,l,Gc,a),vv(t,l);else if(LS(h,t,i,a,l))l.stopPropagation();else if(vv(t,l),i&4&&-1<VS.indexOf(t)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Gn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var C=1<<31-Xt(v);A.entanglements[1]|=C,v&=~C}yi(d),(Ge&6)===0&&(Cc=Dn()+500,Cl(0))}}break;case 13:A=Ma(d,2),A!==null&&Sn(A,d,2),xc(),cm(d,2)}if(d=fm(l),d===null&&Zd(t,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function fm(t){return t=kn(t),dm(t)}var Gc=null;function dm(t){if(Gc=null,t=zi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gf()){case Po:return 2;case ma:return 8;case As:case _f:return 32;case pa:return 268435456;default:return 32}default:return 32}}var mm=!1,Fr=null,Gr=null,$r=null,Vl=new Map,Ll=new Map,Kr=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ri(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function LS(t,i,a,l,h){switch(i){case"focusin":return Fr=Ul(Fr,t,i,a,l,h),!0;case"dragenter":return Gr=Ul(Gr,t,i,a,l,h),!0;case"mouseover":return $r=Ul($r,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ul(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,Ul(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function Ev(t){var i=zi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,xu(t.priority,function(){if(a.tag===13){var l=bn();l=Tr(l);var h=Ma(a,l);h!==null&&Sn(h,a,l),cm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fi=l,a.target.dispatchEvent(l),Fi=null}else return i=ri(a),i!==null&&_v(i),t.blockedOn=a,!1;i.shift()}return!0}function Tv(t,i,a){$c(t)&&a.delete(i)}function US(){mm=!1,Fr!==null&&$c(Fr)&&(Fr=null),Gr!==null&&$c(Gr)&&(Gr=null),$r!==null&&$c($r)&&($r=null),Vl.forEach(Tv),Ll.forEach(Tv)}function Kc(t,i){t.blockedOn===i&&(t.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,US)))}var Qc=null;function Av(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=ri(a);d!==null&&(t.splice(i,3),i-=3,dd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function i(C){return Kc(C,t)}Fr!==null&&Kc(Fr,t),Gr!==null&&Kc(Gr,t),$r!==null&&Kc($r,t),Vl.forEach(i),Ll.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_t]||null;if(typeof d=="function")v||Av(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_t]||null)A=v.formAction;else if(dm(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Av(a)}}}function pm(t){this._internalRoot=t}Yc.prototype.render=pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();pv(a,l,t,i,null,null)},Yc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),xc(),i[On]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ar();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&Ev(t)}};var bv=e.version;if(bv!=="19.1.0")throw Error(s(527,bv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var jS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ut=Xc.inject(jS),Fe=Xc}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=j_,d=z_,v=B_,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=dv(t,1,!1,null,null,a,l,h,d,v,A,null),t[On]=i.current,Wd(t),new pm(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=j_,v=z_,A=B_,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=dv(t,1,!0,i,a??null,l,h,d,v,A,C,q),i.context=mv(null),a=i.current,l=bn(),l=Tr(l),h=xr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,ji(i,a),yi(i),t[On]=i.current,Wd(t),new Yc(i)},Bl.version="19.1.0",Bl}var Pv;function YS(){if(Pv)return ym.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=QS(),ym.exports}var XS=YS(),ql={},kv;function WS(){if(kv)return ql;kv=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=f,ql.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,D){const k=new u,K=S.length;if(K<2)return k;const z=(D==null?void 0:D.decode)||T;let Q=0;do{const re=S.indexOf("=",Q);if(re===-1)break;const ee=S.indexOf(";",Q),ue=ee===-1?K:ee;if(re>ue){Q=S.lastIndexOf(";",re-1)+1;continue}const ce=m(S,Q,re),Ae=p(S,re,ce),M=S.slice(ce,Ae);if(k[M]===void 0){let R=m(S,re+1,ue),I=p(S,ue,R);const O=z(S.slice(R,I));k[M]=O}Q=ue+1}while(Q<K);return k}function m(S,D,k){do{const K=S.charCodeAt(D);if(K!==32&&K!==9)return D}while(++D<k);return k}function p(S,D,k){for(;D>k;){const K=S.charCodeAt(--D);if(K!==32&&K!==9)return D+1}return k}function g(S,D,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=K(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let Q=S+"="+z;if(!k)return Q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Q+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Q+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Q+="; HttpOnly"),k.secure&&(Q+="; Secure"),k.partitioned&&(Q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Q}function T(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return ql}WS();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function ZS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Lm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return ew(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ii(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JS(){return Math.random().toString(36).substring(2,10)}function Vv(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||JS()}}function iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function wo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ew(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=T(),Q=z==null?null:z-g;g=z,p&&p({action:m,location:K.location,delta:Q})}function S(z,Q){m="PUSH";let re=Lm(K.location,z,Q);g=T()+1;let ee=Vv(re,g),ue=K.createHref(re);try{f.pushState(ee,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&p&&p({action:m,location:K.location,delta:1})}function D(z,Q){m="REPLACE";let re=Lm(K.location,z,Q);g=T();let ee=Vv(re,g),ue=K.createHref(re);f.replaceState(ee,"",ue),u&&p&&p({action:m,location:K.location,delta:0})}function k(z){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof z=="string"?z:iu(z);return re=re.replace(/ $/,"%20"),at(Q,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,Q)}let K={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,w),p=z,()=>{o.removeEventListener(Mv,w),p=null}},createHref(z){return e(o,z)},createURL:k,encodeLocation(z){let Q=k(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:D,go(z){return f.go(z)}};return K}function ET(r,e,n="/"){return tw(r,e,n,!1)}function tw(r,e,n,s){let o=typeof e=="string"?wo(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=TT(r);nw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=dw(u);m=hw(f[p],g,s)}return m}function TT(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=hr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),TT(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:uw(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of AT(u.path))o(u,f,p)}),e}function AT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=AT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function nw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:cw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iw=/^:[\w-]+$/,rw=3,sw=2,aw=1,ow=10,lw=-2,Lv=r=>r==="*";function uw(r,e){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=lw),e&&(s+=sw),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(iw.test(u)?rw:u===""?aw:ow),s)}function cw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:hr([u,w.pathname]),pathnameBase:_w(hr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=hr([u,w.pathnameBase]))}return f}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},S)=>{if(T==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=m[S];return w&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function fw(r,e=!1,n=!0){Ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function mw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?wo(r):r;return{pathname:n?n.startsWith("/")?n:pw(n,e):e,search:yw(s),hash:vw(o)}}function pw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bT(r){let e=gw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ST(r,e,n,s=!1){let o;typeof r=="string"?o=wo(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=mw(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),_w=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ew(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var Tw=["GET",...wT];new Set(Tw);var Ro=F.createContext(null);Ro.displayName="DataRouter";var Hh=F.createContext(null);Hh.displayName="DataRouterState";var RT=F.createContext({isTransitioning:!1});RT.displayName="ViewTransition";var Aw=F.createContext(new Map);Aw.displayName="Fetchers";var bw=F.createContext(null);bw.displayName="Await";var Oi=F.createContext(null);Oi.displayName="Navigation";var fu=F.createContext(null);fu.displayName="Location";var Pi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var dp=F.createContext(null);dp.displayName="RouteError";function Sw(r,{relative:e}={}){at(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Oi),{hash:o,pathname:u,search:f}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function du(){return F.useContext(fu)!=null}function ms(){return at(du(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(fu).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(r){F.useContext(Oi).static||F.useLayoutEffect(r)}function ki(){let{isDataRoute:r}=F.useContext(Pi);return r?Uw():ww()}function ww(){at(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Ro),{basename:e,navigator:n}=F.useContext(Oi),{matches:s}=F.useContext(Pi),{pathname:o}=ms(),u=JSON.stringify(bT(s)),f=F.useRef(!1);return CT(()=>{f.current=!0}),F.useCallback((p,g={})=>{if(Ii(f.current,IT),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=ST(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:hr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}F.createContext(null);function Rw(){let{matches:r}=F.useContext(Pi),e=r[r.length-1];return e?e.params:{}}function mu(r,{relative:e}={}){let{matches:n}=F.useContext(Pi),{pathname:s}=ms(),o=JSON.stringify(bT(n));return F.useMemo(()=>ST(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Iw(r,e){return NT(r,e)}function NT(r,e,n,s){var re;at(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(Oi),{matches:f}=F.useContext(Pi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let ee=w&&w.path||"";xT(g,!w||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=ms(),D;if(e){let ee=typeof e=="string"?wo(e):e;at(T==="/"||((re=ee.pathname)==null?void 0:re.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),D=ee}else D=S;let k=D.pathname||"/",K=k;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");K="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:ET(r,{pathname:K});Ii(w||z!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Ii(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Ow(z&&z.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:hr([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:hr([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Q?F.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function Cw(){let r=Lw(),e=Ew(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var Nw=F.createElement(Cw,null),xw=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Pi.Provider,{value:this.props.routeContext},F.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dw({routeContext:r,match:e,children:n}){let s=F.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Pi.Provider,{value:r},n)}function Ow(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,S=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,S=!1,D=null,k=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||Nw,f&&(m<0&&T===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===T&&(S=!0,k=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),z=()=>{let Q;return w?Q=D:S?Q=k:g.route.Component?Q=F.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,F.createElement(Dw,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?F.createElement(xw,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(r){let e=F.useContext(Ro);return at(e,mp(r)),e}function kw(r){let e=F.useContext(Hh);return at(e,mp(r)),e}function Mw(r){let e=F.useContext(Pi);return at(e,mp(r)),e}function pp(r){let e=Mw(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Vw(){return pp("useRouteId")}function Lw(){var s;let r=F.useContext(dp),e=kw("useRouteError"),n=pp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Uw(){let{router:r}=Pw("useNavigate"),e=pp("useNavigate"),n=F.useRef(!1);return CT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Ii(n.current,IT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function xT(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,Ii(!1,n))}F.memo(jw);function jw({routes:r,future:e,state:n}){return NT(r,void 0,n,e)}function At(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:S="default"}=n,D=F.useMemo(()=>{let k=mr(p,f);return k==null?null:{location:{pathname:k,search:g,hash:T,state:w,key:S},navigationType:s}},[f,p,g,T,w,S,s]);return Ii(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Oi.Provider,{value:m},F.createElement(fu.Provider,{children:e,value:D}))}function Bw({children:r,location:e}){return Iw(Um(r),e)}function Um(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Um(s.props.children,u));return}at(s.type===At,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Um(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Fh(r){return r!=null&&typeof r.tagName=="string"}function qw(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function Hw(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function Fw(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function Gw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $w(r,e){return r.button===0&&(!e||e==="_self")&&!Gw(r)}var Wc=null;function Kw(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var Qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!Qw.has(r)?(Ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function Yw(r,e){let n,s,o,u,f;if(Hw(r)){let m=r.getAttribute("action");s=m?mr(m,e):null,n=r.getAttribute("method")||oh,o=bm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(qw(r)||Fw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?mr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!Kw()){let{name:g,type:T,value:w}=r;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Xw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ww(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Zw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Xw(u,n);return f.links?f.links():[]}return[]}));return nR(s.flat(1).filter(Ww).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Jw(r,e,{includeHydrateFallback:n}={}){return eR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eR(r){return[...new Set(r)]}function tR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function nR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(tR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function iR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&mr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DT(){let r=F.useContext(Ro);return gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function rR(){let r=F.useContext(Hh);return gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=F.createContext(void 0);_p.displayName="FrameworkContext";function OT(){let r=F.useContext(_p);return gp(r,"You must render this element inside a <HydratedRouter> element"),r}function sR(r,e){let n=F.useContext(_p),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,S=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Q=>{Q.forEach(re=>{f(re.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),F.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let D=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Hl(m,D),onBlur:Hl(p,k),onMouseEnter:Hl(g,D),onMouseLeave:Hl(T,k),onTouchStart:Hl(w,D)}]:[!1,S,{}]}function Hl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function aR({page:r,...e}){let{router:n}=DT(),s=F.useMemo(()=>ET(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(lR,{page:r,matches:s,...e}):null}function oR(r){let{manifest:e,routeModules:n}=OT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return Zw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function lR({page:r,matches:e,...n}){let s=ms(),{manifest:o,routeModules:u}=OT(),{basename:f}=DT(),{loaderData:m,matches:p}=rR(),g=F.useMemo(()=>jv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=F.useMemo(()=>jv(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,K=!1;if(e.forEach(Q=>{var ee;let re=o.routes[Q.route.id];!re||!re.hasLoader||(!g.some(ue=>ue.route.id===Q.route.id)&&Q.route.id in m&&((ee=u[Q.route.id])!=null&&ee.shouldRevalidate)||re.hasClientLoader?K=!0:k.add(Q.route.id))}),k.size===0)return[];let z=iR(r,f);return K&&k.size>0&&z.searchParams.set("_routes",e.filter(Q=>k.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,r,u]),S=F.useMemo(()=>Jw(T,o),[T,o]),D=oR(T);return F.createElement(F.Fragment,null,w.map(k=>F.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>F.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:K})=>F.createElement("link",{key:k,...K})))}function uR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.4.1")}catch{}function cR({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=ZS({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>f(p))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(zw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...S},D){let{basename:k}=F.useContext(Oi),K=typeof g=="string"&&kT.test(g),z,Q=!1;if(typeof g=="string"&&K&&(z=g,PT))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=mr(O.pathname,k);O.origin===I.origin&&V!=null?g=V+O.search+O.hash:Q=!0}catch{Ii(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Sw(g,{relative:o}),[ee,ue,ce]=sR(s,S),Ae=mR(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function M(I){e&&e(I),I.defaultPrevented||Ae(I)}let R=F.createElement("a",{...S,...ce,href:z||re,onClick:Q||u?e:M,ref:uR(D,ue),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?F.createElement(F.Fragment,null,R,F.createElement(aR,{page:re})):R});st.displayName="Link";var hR=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=mu(f,{relative:g.relative}),S=ms(),D=F.useContext(Hh),{navigator:k,basename:K}=F.useContext(Oi),z=D!=null&&vR(w)&&m===!0,Q=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,re=S.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(re=re.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&K&&(ee=mr(ee,K)||ee);const ue=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ce=re===Q||!o&&re.startsWith(Q)&&re.charAt(ue)==="/",Ae=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),M={isActive:ce,isPending:Ae,isTransitioning:z},R=ce?e:void 0,I;typeof s=="function"?I=s(M):I=[s,ce?"active":null,Ae?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return F.createElement(st,{...g,"aria-current":R,className:I,ref:T,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});hR.displayName="NavLink";var fR=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...S},D)=>{let k=_R(),K=yR(m,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&kT.test(m),re=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ue=ee.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||f;k(ue||ee.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return F.createElement("form",{ref:D,method:z,action:K,onSubmit:s?p:re,...S,"data-discover":!Q&&r==="render"?"true":void 0})});fR.displayName="Form";function dR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(r){let e=F.useContext(Ro);return at(e,dR(r)),e}function mR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ki(),p=ms(),g=mu(r,{relative:u});return F.useCallback(T=>{if($w(T,e)){T.preventDefault();let w=n!==void 0?n:iu(p)===iu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var pR=0,gR=()=>`__${String(++pR)}__`;function _R(){let{router:r}=MT("useSubmit"),{basename:e}=F.useContext(Oi),n=Vw();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Yw(s,e);if(o.navigate===!1){let T=o.fetcherKey||gR();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function yR(r,{relative:e}={}){let{basename:n}=F.useContext(Oi),s=F.useContext(Pi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},f=ms();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),iu(u)}function vR(r,e={}){let n=F.useContext(RT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=MT("useViewTransitionState"),o=mu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}new TextEncoder;const ER="https://OspinaFelipeDev.github.io/sport-social-app/assets/inicio-pro-Cv0UB-Aj.png";function TR(){const r=ki();return E.jsxs("div",{className:"home",children:[E.jsxs("div",{className:"container",children:[E.jsx("div",{className:"circle"}),E.jsx("img",{src:ER,alt:"Imagen",className:"image"})]}),E.jsxs("div",{className:"container-inicio",children:[E.jsx("h1",{children:"SportSocial"}),E.jsx("p",{children:"Estás listo(a) para reunirte!"}),E.jsxs("button",{onClick:()=>r("/login"),children:[E.jsx("span",{children:"Hagamos Deporte"}),E.jsx("i",{className:"fa-solid fa-chevron-right"})]})]})]})}const AR="_loginContainer_1cmxs_21",bR="_logo_1cmxs_43",SR="_containerInicio_1cmxs_73",wR="_inputContainer_1cmxs_105",RR="_loginButton_1cmxs_167",IR="_errorMessage_1cmxs_215",CR="_containerCrear_1cmxs_255",NR="_questionText_1cmxs_273",xR="_createAccountText_1cmxs_281",vi={loginContainer:AR,logo:bR,containerInicio:SR,inputContainer:wR,loginButton:RR,errorMessage:IR,containerCrear:CR,questionText:NR,createAccountText:xR},VT="https://OspinaFelipeDev.github.io/sport-social-app/assets/logo-sportsocial-CDJxC8N3.png",DR=()=>{};var zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(S=64)),s.push(n[T],n[w],n[S],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new PR;const S=u<<2|m>>4;if(s.push(S),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const k=g<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(r){const e=LT(r);return UT.encodeByteArray(e,!0)},Eh=function(r){return kR(r).replace(/\./g,"")},jT=function(r){try{return UT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>MR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jT(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return DR()||VR()||LR()||UR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zT=r=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},BT=r=>{const e=zT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qT=()=>{var r;return(r=Gh())===null||r===void 0?void 0:r.config},HT=r=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function BR(){var r;const e=(r=Gh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $R(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FirebaseError";class Mi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=YR,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?XR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Mi(o,m,s)}}function XR(r,e){return r.replace(WR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WR=/\{\$([^}]+)}/g;function ZR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ss(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Bv(u)&&Bv(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Bv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function JR(r,e){const n=new e1(r,e);return n.subscribe.bind(n)}class e1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");t1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class as{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r1(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(r){return r===na?void 0:r}function r1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const a1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},o1=Pe.INFO,l1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},u1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=l1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=o1,this._logHandler=u1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const c1=(r,e)=>e.some(n=>r instanceof n);let qv,Hv;function h1(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f1(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,jm=new WeakMap,$T=new WeakMap,wm=new WeakMap,vp=new WeakMap;function d1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,r)}).catch(()=>{}),vp.set(e,r),e}function m1(r){if(jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,e)}let zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$T.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function p1(r){zm=r(zm)}function g1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return $T.set(s,e.sort?e.sort():[e]),ts(s)}:f1().includes(r)?function(...e){return r.apply(Rm(this),e),ts(GT.get(this))}:function(...e){return ts(r.apply(Rm(this),e))}}function _1(r){return typeof r=="function"?g1(r):(r instanceof IDBTransaction&&m1(r),c1(r,h1())?new Proxy(r,zm):r)}function ts(r){if(r instanceof IDBRequest)return d1(r);if(wm.has(r))return wm.get(r);const e=_1(r);return e!==r&&(wm.set(r,e),vp.set(e,r)),e}const Rm=r=>vp.get(r);function y1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ts(f.result),p.oldVersion,p.newVersion,ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const v1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],Im=new Map;function Fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=E1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||v1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,u),u}p1(r=>({...r,get:(e,n,s)=>Fv(e,n)||r.get(e,n,s),has:(e,n)=>!!Fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function A1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",Gv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new yp("@firebase/app"),b1="@firebase/app-compat",S1="@firebase/analytics-compat",w1="@firebase/analytics",R1="@firebase/app-check-compat",I1="@firebase/app-check",C1="@firebase/auth",N1="@firebase/auth-compat",x1="@firebase/database",D1="@firebase/data-connect",O1="@firebase/database-compat",P1="@firebase/functions",k1="@firebase/functions-compat",M1="@firebase/installations",V1="@firebase/installations-compat",L1="@firebase/messaging",U1="@firebase/messaging-compat",j1="@firebase/performance",z1="@firebase/performance-compat",B1="@firebase/remote-config",q1="@firebase/remote-config-compat",H1="@firebase/storage",F1="@firebase/storage-compat",G1="@firebase/firestore",$1="@firebase/vertexai",K1="@firebase/firestore-compat",Q1="firebase",Y1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",X1={[Bm]:"fire-core",[b1]:"fire-core-compat",[w1]:"fire-analytics",[S1]:"fire-analytics-compat",[I1]:"fire-app-check",[R1]:"fire-app-check-compat",[C1]:"fire-auth",[N1]:"fire-auth-compat",[x1]:"fire-rtdb",[D1]:"fire-data-connect",[O1]:"fire-rtdb-compat",[P1]:"fire-fn",[k1]:"fire-fn-compat",[M1]:"fire-iid",[V1]:"fire-iid-compat",[L1]:"fire-fcm",[U1]:"fire-fcm-compat",[j1]:"fire-perf",[z1]:"fire-perf-compat",[B1]:"fire-rc",[q1]:"fire-rc-compat",[H1]:"fire-gcs",[F1]:"fire-gcs-compat",[G1]:"fire-fst",[K1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,W1=new Map,Hm=new Map;function $v(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ra(r){const e=r.name;if(Hm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const n of Th.values())$v(n,r);for(const n of W1.values())$v(n,r);return!0}function $h(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Cn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new pu("app","Firebase",Z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=Y1;function KT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=qT()),!n)throw ns.create("no-options");const u=Th.get(o);if(u){if(ss(n,u.options)&&ss(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new s1(o);for(const p of Hm.values())f.addComponent(p);const m=new J1(n,s,f);return Th.set(o,m),m}function Ep(r=qm){const e=Th.get(r);if(!e&&r===qm&&qT())return KT();if(!e)throw ns.create("no-app",{appName:r});return e}function Ai(r,e,n){var s;let o=(s=X1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(m.join(" "));return}ra(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,ru="firebase-heartbeat-store";let Cm=null;function QT(){return Cm||(Cm=y1(eI,tI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function nI(r){try{const n=(await QT()).transaction(ru),s=await n.objectStore(ru).get(YT(r));return await n.done,s}catch(e){if(e instanceof Mi)pr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function Kv(r,e){try{const s=(await QT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,YT(r)),await s.done}catch(n){if(n instanceof Mi)pr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(s.message)}}}function YT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,rI=30;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rI){const f=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:s,unsentEntries:o}=aI(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return pr.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function aI(r,e=iI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yv(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function lI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){ra(new as("platform-logger",e=>new T1(e),"PRIVATE")),ra(new as("heartbeat",e=>new sI(e),"PRIVATE")),Ai(Bm,Gv,r),Ai(Bm,Gv,"esm2017"),Ai("fire-js","")}uI("");var cI="firebase",hI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(cI,hI,"app");function Tp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fI=XT,WT=new pu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new yp("@firebase/auth");function dI(r,...e){Ah.logLevel<=Pe.WARN&&Ah.warn(`Auth (${ua}): ${r}`,...e)}function uh(r,...e){Ah.logLevel<=Pe.ERROR&&Ah.error(`Auth (${ua}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw Ap(r,...e)}function bi(r,...e){return Ap(r,...e)}function ZT(r,e,n){const s=Object.assign(Object.assign({},fI()),{[e]:n});return new pu("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return ZT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return WT.create(r,...e)}function ve(r,e,...n){if(!r)throw Ap(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function gr(r,e){r||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function mI(){return Xv()==="http:"||Xv()==="https:"}function Xv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mI()||HR()||"connection"in navigator)?navigator.onLine:!0}function gI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=zR()||FR()}get(){return pI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new _u(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function gs(r,e,n,s,o={}){return e0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return qR()||(g.referrerPolicy="no-referrer"),JT.fetch()(await t0(r,r.config.apiHost,n,m),g)})}async function e0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_I),e);try{const o=new TI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZT(r,T,g);ti(r,T)}}catch(o){if(o instanceof Mi)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function yu(r,e,n,s,o={}){const u=await gs(r,e,n,s,o);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function t0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?bp(r.config,o):`${r.config.apiScheme}://${o}`;return yI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function EI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),vI.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(r,e,s);return o.customData._tokenResponse=n,o}function Wv(r){return r!==void 0&&r.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bI(r,e){return gs(r,"GET","/v2/recaptchaConfig",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e){return gs(r,"POST","/v1/accounts:delete",e)}async function bh(r,e){return gs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wI(r,e=!1){const n=zt(r),s=await n.getIdToken(e),o=Sp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(Nm(o.auth_time)),issuedAtTime:Zl(Nm(o.iat)),expirationTime:Zl(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(r){return Number(r)*1e3}function Sp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=jT(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zv(r){const e=Sp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mi&&RI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function RI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await su(r,bh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?n0(u.providerUserInfo):[],m=NI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function CI(r){const e=zt(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function n0(r){return r.map(e=>{var{providerId:n}=e,s=Tp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e){const n=await e0(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await t0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",JT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DI(r,e){return gs(r,"POST","/v2/accounts:revokeToken",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await xI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new II(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await su(this,SI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:ue,isAnonymous:ce,providerData:Ae,stsTokenManager:M}=n;ve(ee&&M,e,"internal-error");const R=ho.fromJSON(this.name,M);ve(typeof ee=="string",e,"internal-error"),Yr(w,e.name),Yr(S,e.name),ve(typeof ue=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Yr(D,e.name),Yr(k,e.name),Yr(K,e.name),Yr(z,e.name),Yr(Q,e.name),Yr(re,e.name);const I=new Zn({uid:ee,auth:e,email:S,emailVerified:ue,displayName:w,isAnonymous:ce,photoURL:k,phoneNumber:D,tenantId:K,stsTokenManager:R,createdAt:Q,lastLoginAt:re});return Ae&&Array.isArray(Ae)&&(I.providerData=Ae.map(O=>Object.assign({},O))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?n0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function cr(r){gr(r instanceof Function,"Expected a class definition");let e=Jv.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Jv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i0.type="NONE";const eE=i0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(cr(eE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(eE);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let w;if(typeof T=="string"){const S=await bh(e,{idToken:T}).catch(()=>{});if(!S)break;w=await Zn._fromGetAccountInfoResponse(e,S,T)}else w=Zn._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u0(e))return"Blackberry";if(c0(e))return"Webos";if(s0(e))return"Safari";if((e.includes("chrome/")||a0(e))&&!e.includes("edge/"))return"Chrome";if(l0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function r0(r=nn()){return/firefox\//i.test(r)}function s0(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a0(r=nn()){return/crios\//i.test(r)}function o0(r=nn()){return/iemobile/i.test(r)}function l0(r=nn()){return/android/i.test(r)}function u0(r=nn()){return/blackberry/i.test(r)}function c0(r=nn()){return/webos/i.test(r)}function wp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OI(r=nn()){var e;return wp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PI(){return GR()&&document.documentMode===10}function h0(r=nn()){return wp(r)||l0(r)||c0(r)||u0(r)||/windows phone/i.test(r)||o0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r,e=[]){let n;switch(r){case"Browser":n=tE(nn());break;case"Worker":n=`${tE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(r,e={}){return gs(r,"GET","/v2/passwordPolicy",ps(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=6;class LI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:VI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new kI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(fr(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MI(this),n=new LI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(r){return zt(r)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jI(r){Kh=r}function d0(r){return Kh.loadJS(r)}function zI(){return Kh.recaptchaEnterpriseScript}function BI(){return Kh.gapiScript}function qI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new FI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GI="recaptcha-enterprise",m0="NO_RECAPTCHA";class $I{constructor(e){this.type=GI,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{bI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new AI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Wv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(m0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Wv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zI();p.length!==0&&(p+=m),d0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function iE(r,e,n,s=!1,o=!1){const u=new $I(r);let f;if(o)f=m0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $m(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await iE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await iE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,e){const n=$h(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ss(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function QI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function YI(r,e,n){const s=ca(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=p0(e),{host:f,port:m}=XI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ss(g,s.config.emulator)&&ss(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,WI()}function p0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XI(r){const e=p0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:rE(f)}}}function rE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function ZI(r,e){return gs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function tC(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Rp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",JI);case"emailLink":return eC(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,s,"signUpPassword",ZI);case"emailLink":return tC(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="http://localhost";class sa extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Tp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:nC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rC(r){const e=$l(Kl(r)).link,n=e?$l(Kl(e)).deep_link_id:null,s=$l(Kl(r)).deep_link_id;return(s?$l(Kl(s)).link:null)||s||n||e||r}class Ip{constructor(e){var n,s,o,u,f,m;const p=$l(Kl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=iC((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=rC(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ip.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends vu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends vu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e){return yu(r,"POST","/v1/accounts:signUp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=sE(s);return new aa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=sE(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function sE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends Mi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function _0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function aC(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return aa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(r,e,n=!1){const{auth:s}=r;if(Cn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await su(r,_0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Sp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),aa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(r,e,n=!1){if(Cn(r.app))return Promise.reject(fr(r));const s="signIn",o=await _0(r,s,e),u=await aa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function lC(r,e){return y0(ca(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uC(r,e,n){if(Cn(r.app))return Promise.reject(fr(r));const s=ca(r),f=await $m(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&v0(r),p}),m=await aa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function cC(r,e,n){return Cn(r.app)?Promise.reject(fr(r)):lC(zt(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&v0(r),s})}function hC(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function fC(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function dC(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1e3,pC=10;class T0 extends E0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T0.type="LOCAL";const gC=T0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends E0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A0.type="SESSION";const b0=A0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await _C(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Cp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function vC(r){Si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function AC(){return S0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firebaseLocalStorageDb",bC=1,Ih="firebaseLocalStorage",R0="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function SC(){const r=indexedDB.deleteDatabase(w0);return new Eu(r).toPromise()}function Km(){const r=indexedDB.open(w0,bC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:R0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await SC(),e(await Km()))})})}async function aE(r,e,n){const s=Yh(r,!0).put({[R0]:e,value:n});return new Eu(s).toPromise()}async function wC(r,e){const n=Yh(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function oE(r,e){const n=Yh(r,!0).delete(e);return new Eu(n).toPromise()}const RC=800,IC=3;class I0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>IC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(AC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await aE(e,Rh,"1"),await oE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>aE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>wC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I0.type="LOCAL";const CC=I0;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r,e){return e?cr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xC(r){return y0(r.auth,new Np(r),r.bypassAuthState)}function DC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),oC(n,new Np(r),r.bypassAuthState)}async function OC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),aC(n,new Np(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:ti(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new _u(2e3,1e4);class co extends C0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="pendingRedirect",hh=new Map;class MC extends C0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await VC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(r,e){const n=jC(e),s=UC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LC(r,e){hh.set(r._key(),e)}function UC(r){return cr(r._redirectPersistence)}function jC(r){return ch(kC,r.config.apiKey,r.name)}async function zC(r,e,n=!1){if(Cn(r.app))return Promise.reject(fr(r));const s=ca(r),o=NC(s,e),f=await new MC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*60*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!N0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,e={}){return gs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$C=/^https?/;async function KC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await FC(r);for(const n of e)try{if(QC(n))return}catch{}ti(r,"unauthorized-domain")}function QC(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!$C.test(n))return!1;if(GC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new _u(3e4,6e4);function uE(){const r=Si().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function XC(r){return new Promise((e,n)=>{var s,o,u;function f(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(bi(r,"network-request-failed"))},timeout:YC.get()})}if(!((o=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Si().gapi)===null||u===void 0)&&u.load)f();else{const m=qI("iframefcb");return Si()[m]=()=>{gapi.load?f():n(bi(r,"network-request-failed"))},d0(`${BI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function WC(r){return fh=fh||XC(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new _u(5e3,15e3),JC="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bp(e,eN):`https://${r.config.authDomain}/${JC}`,s={apiKey:e.apiKey,appName:r.name,v:ua},o=nN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function rN(r){const e=await WC(r),n=Si().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:iN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(r,"network-request-failed"),m=Si().setTimeout(()=>{u(f)},ZC.get());function p(){Si().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aN=500,oN=600,lN="_blank",uN="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(r,e,n,s=aN,o=oN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},sN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=nn().toLowerCase();n&&(m=a0(g)?lN:n),r0(g)&&(e=e||uN,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[D,k])=>`${S}${D}=${k},`,"");if(OI(g)&&m!=="_self")return hN(e||"",m),new cE(null);const w=window.open(e||"",m,T);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new cE(w)}function hN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="__/auth/handler",dN="emulator/auth/handler",mN=encodeURIComponent("fac");async function hE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof g0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",ZR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof vu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${mN}=${encodeURIComponent(p)}`:"";return`${pN(r)}?${gu(m).slice(1)}${g}`}function pN({config:r}){return r.emulator?bp(r,dN):`https://${r.authDomain}/${fN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class gN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b0,this._completeRedirectFn=zC,this._overrideRedirectResult=LC}async _openPopup(e,n,s,o){var u;gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await hE(e,n,s,Fm(),o);return cN(e,f,Cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await hE(e,n,s,Fm(),o);return vC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rN(e),s=new qC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[xm];f!==void 0&&n(!!f),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h0()||s0()||wp()}}const _N=gN;var fE="@firebase/auth",dE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EN(r){ra(new as("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f0(r)},g=new UI(s,o,u,p);return QI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ra(new as("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new yN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(fE,dE,vN(r)),Ai(fE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=5*60,AN=HT("authIdTokenMaxAge")||TN;let mE=null;const bN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AN)return;const o=n==null?void 0:n.token;mE!==o&&(mE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xp(r=Ep()){const e=$h(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KI(r,{popupRedirectResolver:_N,persistence:[CC,gC,b0]}),s=HT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bN(u.toString());fC(n,f,()=>f(n.currentUser)),hC(n,m=>f(m))}}const o=zT("auth");return o&&YI(n,`http://${o}`),n}function SN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}jI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",SN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EN("Browser");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,x0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,V,U){for(var N=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)N[Bt-2]=arguments[Bt];return R.prototype[V].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],V=M.g[2];var U=M.g[3],N=R+(U^I&(V^U))+O[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=U+(V^R&(I^V))+O[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(I^U&(R^I))+O[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=I+(R^V&(U^R))+O[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(U^I&(V^U))+O[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(V^R&(I^V))+O[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(I^U&(R^I))+O[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=I+(R^V&(U^R))+O[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(U^I&(V^U))+O[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(V^R&(I^V))+O[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(I^U&(R^I))+O[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=I+(R^V&(U^R))+O[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(U^I&(V^U))+O[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(V^R&(I^V))+O[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(I^U&(R^I))+O[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=I+(R^V&(U^R))+O[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(V^U&(I^V))+O[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^V&(R^I))+O[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(U^R))+O[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(V^U))+O[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(I^V))+O[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^V&(R^I))+O[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(U^R))+O[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(V^U))+O[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(I^V))+O[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^V&(R^I))+O[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(U^R))+O[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(V^U))+O[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(I^V))+O[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^V&(R^I))+O[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(U^R))+O[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(V^U))+O[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(I^V^U)+O[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^V)+O[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^I)+O[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=I+(V^U^R)+O[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^U)+O[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^V)+O[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^I)+O[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=I+(V^U^R)+O[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^U)+O[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^V)+O[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^I)+O[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=I+(V^U^R)+O[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^U)+O[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^V)+O[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^I)+O[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=I+(V^U^R)+O[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(V^(I|~U))+O[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~V))+O[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~I))+O[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=I+(U^(V|~R))+O[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~U))+O[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~V))+O[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~I))+O[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=I+(U^(V|~R))+O[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~U))+O[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~V))+O[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~I))+O[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=I+(U^(V|~R))+O[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~U))+O[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~V))+O[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~I))+O[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=I+(U^(V|~R))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,O=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=I;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<R;)if(O[V++]=M.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<R;)if(O[V++]=M[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)M[I++]=this.g[R]>>>O&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function f(M,R){this.h=R;for(var I=[],O=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;O&&U==R||(I[V]=U,O=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return z(g(-M));for(var R=[],I=1,O=0;M>=I;O++)R[O]=M/I|0,I*=4294967296;return new f(R,0)}function T(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return z(T(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),O=w,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),O=O.j(U).add(g(N))):(O=O.j(I),O=O.add(g(N)))}return O}var w=p(0),S=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-z(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(K(this))return"-"+z(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,O="";;){var V=ue(I,R).g;I=Q(I,V.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,k(I))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function K(M){return M.h==-1}r.l=function(M){return M=Q(this,M),K(M)?-1:k(M)?0:1};function z(M){for(var R=M.g.length,I=[],O=0;O<R;O++)I[O]=~M.g[O];return new f(I,~M.h).add(S)}r.abs=function(){return K(this)?z(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0,V=0;V<=R;V++){var U=O+(this.i(V)&65535)+(M.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=N>>>16,U&=65535,N&=65535,I[V]=N<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(z(R))}r.j=function(M){if(k(this)||k(M))return w;if(K(this))return K(M)?z(this).j(z(M)):z(z(this).j(M));if(K(M))return z(this.j(z(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var U=this.i(O)>>>16,N=this.i(O)&65535,Bt=M.i(V)>>>16,lt=M.i(V)&65535;I[2*O+2*V]+=N*lt,re(I,2*O+2*V),I[2*O+2*V+1]+=U*lt,re(I,2*O+2*V+1),I[2*O+2*V+1]+=N*Bt,re(I,2*O+2*V+1),I[2*O+2*V+2]+=U*Bt,re(I,2*O+2*V+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function re(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ee(M,R){this.g=M,this.h=R}function ue(M,R){if(k(R))throw Error("division by zero");if(k(M))return new ee(w,w);if(K(M))return R=ue(z(M),R),new ee(z(R.g),z(R.h));if(K(R))return R=ue(M,z(R)),new ee(z(R.g),R.h);if(30<M.g.length){if(K(M)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=R;0>=O.l(M);)I=ce(I),O=ce(O);var V=Ae(I,1),U=Ae(O,1);for(O=Ae(O,2),I=Ae(I,2);!k(O);){var N=U.add(O);0>=N.l(M)&&(V=V.add(I),U=N),O=Ae(O,1),I=Ae(I,1)}return R=Q(M,V.j(R)),new ee(V,R)}for(V=w;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(I),N=U.j(R);K(N)||0<N.l(M);)I-=O,U=g(I),N=U.j(R);k(U)&&(U=S),V=V.add(U),M=Q(M,N)}return new ee(V,M)}r.A=function(M){return ue(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&M.i(O);return new f(I,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|M.i(O);return new f(I,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^M.i(O);return new f(I,this.h^M.h)};function ce(M){for(var R=M.g.length+1,I=[],O=0;O<R;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(I,M.h)}function Ae(M,R){var I=R>>5;R%=32;for(var O=M.g.length-I,V=[],U=0;U<O;U++)V[U]=0<R?M.i(U+I)>>>R|M.i(U+I+1)<<32-R:M.i(U+I);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,x0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,is=f}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,Ql,O0,dh,Qm,P0,k0,M0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in y))break e;y=y[j]}c=c[c.length-1],b=y[c],_=_(b),_!=b&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,b=!1,j={next:function(){if(!b&&y<c.length){var $=y++;return{value:_($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function T(c,_,y){return c.call.apply(c.bind,arguments)}function w(c,_,y){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(_,j)}}return function(){return c.apply(_,arguments)}}function S(c,_,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,S.apply(null,arguments)}function D(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(b,j,$){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return _.prototype[j].apply(b,se)}}function K(c){const _=c.length;if(0<_){const y=Array(_);for(let b=0;b<_;b++)y[b]=c[b];return y}return[]}function z(c,_){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(p(b)){const j=c.length||0,$=b.length||0;c.length=j+$;for(let se=0;se<$;se++)c[j+se]=b[se]}else c.push(b)}}class Q{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function re(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Ae(c,_,y){for(const b in c)_.call(y,c[b],b,c)}function M(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function R(c){const _={};for(const y in c)_[y]=c[y];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,_){let y,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(y in b)c[y]=b[y];for(let $=0;$<I.length;$++)y=I[$],Object.prototype.hasOwnProperty.call(b,y)&&(c[y]=b[y])}}function V(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ze;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Bt{constructor(){this.h=this.g=null}add(_,y){const b=lt.get();b.set(_,y),this.h?this.h.next=b:this.g=b,this.h=b}}var lt=new Q(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,ze=new Bt,x=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(y){U(y)}var _=lt;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,_),m.removeEventListener("test",y,_)}catch{}return c}();function Ne(c,_){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ce){e:{try{ue(_.nodeName);var j=!0;break e}catch{}j=!1}j||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}k(Ne,ie);var be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function ni(c,_,y,b,j){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!b,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function Er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Li(c){this.src=c,this.g={},this.h=0}Li.prototype.add=function(c,_,y,b,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=Es(c,_,b,j);return-1<se?(_=c[se],y||(_.fa=!1)):(_=new ni(_,this.src,$,!!b,j),_.fa=y,c.push(_)),_};function vs(c,_){var y=_.type;if(y in c.g){var b=c.g[y],j=Array.prototype.indexOf.call(b,_,void 0),$;($=0<=j)&&Array.prototype.splice.call(b,j,1),$&&(Er(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Es(c,_,y,b){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==_&&$.capture==!!y&&$.ha==b)return j}return-1}var Ts="closure_lm_"+(1e6*Math.random()|0),Oo={};function Iu(c,_,y,b,j){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Iu(c,_[$],y,b,j);return null}return y=Cu(y),c&&c[Pt]?c.K(_,y,g(b)?!!b.capture:!1,j):Dn(c,_,y,!1,b,j)}function Dn(c,_,y,b,j,$){if(!_)throw Error("Invalid event type");var se=g(j)?!!j.capture:!!j,Me=pa(c);if(Me||(c[Ts]=Me=new Li(c)),y=Me.add(_,y,b,se,$),y.proxy)return y;if(b=gf(),y.proxy=b,b.src=c,b.listener=y,c.addEventListener)pe||(j=se),j===void 0&&(j=!1),c.addEventListener(_.toString(),b,j);else if(c.attachEvent)c.attachEvent(As(_.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function gf(){function c(y){return _.call(c.src,c.listener,y)}const _=_f;return c}function Po(c,_,y,b,j){if(Array.isArray(_))for(var $=0;$<_.length;$++)Po(c,_[$],y,b,j);else b=g(b)?!!b.capture:!!b,y=Cu(y),c&&c[Pt]?(c=c.i,_=String(_).toString(),_ in c.g&&($=c.g[_],y=Es($,y,b,j),-1<y&&(Er($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete c.g[_],c.h--)))):c&&(c=pa(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Es(_,y,b,j)),(y=-1<c?_[c]:null)&&ma(y))}function ma(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Pt])vs(_.i,c);else{var y=c.type,b=c.proxy;_.removeEventListener?_.removeEventListener(y,b,c.capture):_.detachEvent?_.detachEvent(As(y),b):_.addListener&&_.removeListener&&_.removeListener(b),(y=pa(_))?(vs(y,c),y.h==0&&(y.src=null,_[Ts]=null)):Er(c)}}}function As(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function _f(c,_){if(c.da)c=!0;else{_=new Ne(_,this);var y=c.listener,b=c.ha||c.src;c.fa&&ma(c),c=y.call(b,_)}return c}function pa(c){return c=c[Ts],c instanceof Li?c:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(_){return c.handleEvent(_)}),c[ko])}function ut(){oe.call(this),this.i=new Li(this),this.M=this,this.F=null}k(ut,oe),ut.prototype[Pt]=!0,ut.prototype.removeEventListener=function(c,_,y,b){Po(this,c,_,y,b)};function Fe(c,_){var y,b=c.F;if(b)for(y=[];b;b=b.F)y.push(b);if(c=c.M,b=_.type||_,typeof _=="string")_=new ie(_,c);else if(_ instanceof ie)_.target=_.target||c;else{var j=_;_=new ie(b,c),O(_,j)}if(j=!0,y)for(var $=y.length-1;0<=$;$--){var se=_.g=y[$];j=gn(se,b,!0,_)&&j}if(se=_.g=c,j=gn(se,b,!0,_)&&j,j=gn(se,b,!1,_)&&j,y)for($=0;$<y.length;$++)se=_.g=y[$],j=gn(se,b,!1,_)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],b=0;b<y.length;b++)Er(y[b]);delete c.g[_],c.h--}}this.F=null},ut.prototype.K=function(c,_,y,b){return this.i.add(String(c),_,!1,y,b)},ut.prototype.L=function(c,_,y,b){return this.i.add(String(c),_,!0,y,b)};function gn(c,_,y,b){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,$=0;$<_.length;++$){var se=_[$];if(se&&!se.da&&se.capture==y){var Me=se.listener,wt=se.ha||se.src;se.fa&&vs(c.i,se),j=Me.call(wt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Xt(c,_,y){if(typeof c=="function")y&&(c=S(c,y));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Nu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class yf extends oe{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){oe.call(this),this.h=c,this.g={}}k(bs,oe);var Ss=[];function ws(c){Ae(c.g,function(_,y){this.g.hasOwnProperty(y)&&ma(_)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),ws(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=m.JSON.stringify,ga=m.JSON.parse,Rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Lo(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){ie.call(this,"d")}k(ji,ie);function Uo(){ie.call(this,"c")}k(Uo,ie);var ii={},jo=null;function Tr(){return jo=jo||new ut}ii.La="serverreachability";function _a(c){ie.call(this,ii.La,c)}k(_a,ie);function Ar(c){const _=Tr();Fe(_,new _a(_))}ii.STAT_EVENT="statevent";function xu(c,_){ie.call(this,ii.STAT_EVENT,c),this.stat=_}k(xu,ie);function et(c){const _=Tr();Fe(_,new xu(_,c))}ii.Ma="timingevent";function St(c,_){ie.call(this,ii.Ma,c),this.size=_}k(St,ie);function _t(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function zo(c,_,y,b,j,$){c.info(function(){if(c.g)if($)for(var se="",Me=$.split("&"),wt=0;wt<Me.length;wt++){var Ve=Me[wt].split("=");if(1<Ve.length){var Mt=Ve[0];Ve=Ve[1];var Rt=Mt.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Mt+"="+Ve+"&"):se+(Mt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+_+`
`+y+`
`+se})}function vf(c,_,y,b,j,$,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+_+`
`+y+`
`+$+" "+se})}function br(c,_,y,b){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Is(c,y)+(b?" "+b:"")})}function Du(c,_){c.info(function(){return"TIMEOUT: "+_})}On.prototype.info=function(){};function Is(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var b=y[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Gn(y)}catch{return _}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}k(si,Mo),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function rn(c,_,y,b){this.j=c,this.i=_,this.l=y,this.R=b||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Bo={},ya={};function $n(c,_,y){c.L=1,c.v=Os(_n(_)),c.m=y,c.P=!0,Bi(c,null)}function Bi(c,_){c.F=Date.now(),Cs(c),c.A=_n(c.v);var y=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ko(y.i,"t",b),c.C=0,y=c.j.J,c.h=new ft,c.g=Ku(c.j,y?_:null,!c.m),0<c.O&&(c.M=new yf(S(c.Y,c,c.g),c.O)),_=c.U,y=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ss[0]=j.toString()),j=Ss);for(var $=0;$<j.length;$++){var se=Iu(y,j[$],b||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Ar(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Vn(c)==3?_.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Vn(this.g);var _=this.g.Ba();const Yi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Rt!=4||_==7||(_==8||0>=Yi?Ar(3):Ar(2)),wr(this);var y=this.g.Z();this.X=y;t:if(Ou(this)){var b=ju(this.g);c="";var j=b.length,$=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),ai(this);var se="";break t}this.h.i=new m.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,c+=this.h.i.decode(b[_],{stream:!($&&_==j-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,vf(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,wt=this.g;if((Me=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Me)){var Ve=Me;break t}}Ve=null}if(y=Ve)br(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,y);else{this.o=!1,this.s=3,et(12),qt(this),ai(this);break e}}if(this.P){y=!0;let Ht;for(;!this.J&&this.C<se.length;)if(Ht=Pu(this,se),Ht==ya){Rt==4&&(this.s=4,et(14),y=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Bo){this.s=4,et(15),br(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else br(this.i,this.l,Ht,null),Ns(this,Ht);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,et(16),y=!1),this.o=this.o&&y,!y)br(this.i,this.l,se,"[Invalid Chunked Response]"),qt(this),ai(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),zs(Mt),Mt.M=!0,et(11))}}else br(this.i,this.l,se,null),Ns(this,se);Rt==4&&qt(this),this.o&&!this.J&&(Rt==4?Fu(this.j,this):(this.o=!1,Cs(this)))}else Sf(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),qt(this),ai(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,_){var y=c.C,b=_.indexOf(`
`,y);return b==-1?ya:(y=Number(_.substring(y,b)),isNaN(y)?Bo:(b+=1,b+y>_.length?ya:(_=_.slice(b,b+y),c.C=b+y,_)))}rn.prototype.cancel=function(){this.J=!0,qt(this)};function Cs(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(S(c.ba,c),_)}function wr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(Ar(),et(17)),qt(this),this.s=2,ai(this)):ku(this,this.S-c)};function ai(c){c.j.G==0||c.J||Fu(c.j,c)}function qt(c){wr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,ws(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Ns(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||qo(y.h,c))){if(!c.K&&qo(y.h,c)&&y.G==3){try{var b=y.Da.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)xa(y),Ca(y);else break e;Zo(y),et(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=_t(S(y.Za,y),6e3));if(1>=Ea(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Qi(y,11)}else if((c.K||y.g==c)&&xa(y),!re(_))for(j=y.Da.g.parse(_),_=0;_<j.length;_++){let Ve=j[_];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const Mt=Ve[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const Rt=Ve[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const Yi=Ve[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(b=1.5*Yi,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Ht=c.g;if(Ht){const di=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var $=b.h;$.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ta($,$.h),$.h=null))}if(b.D){const el=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(b.ya=el,Ke(b.I,b.D,el))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var se=c;if(b.qa=$u(b,b.J?b.ia:null,b.W),se.K){sn(b.h,se);var Me=se,wt=b.L;wt&&(Me.I=wt),Me.B&&(wr(Me),Cs(Me)),b.g=se}else qu(b);0<y.i.length&&Na(y)}else Ve[0]!="stop"&&Ve[0]!="close"||Qi(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Qi(y,7):Xo(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}Ar(4)}catch{}}var Mu=class{constructor(c,_){this.g=c,this.map=_}};function qi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function qo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ta(c,_){c.g?c.g.add(_):c.h=_}function sn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}qi.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return K(c.i)}function Ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],y=c.length,b=0;b<y;b++)_.push(c[b]);return _}_=[],y=0;for(b in c)_[y++]=c[b];return _}function Aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const b in c)_[y++]=b;return _}}}function Fo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=Aa(c),b=Ef(c),j=b.length,$=0;$<j;$++)_.call(void 0,b[$],y&&y[$],c)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var b=c[y].indexOf("="),j=null;if(0<=b){var $=c[y].substring(0,b);j=c[y].substring(b+1)}else $=c[y];_($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,Rr(this,c.s),this.l=c.l;var _=c.i,y=new Fi;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),Hi(this,y),this.m=c.m}else c&&(_=String(c).match(xs))?(this.h=!1,Ds(this,_[1]||"",!0),this.o=Pn(_[2]||""),this.g=Pn(_[3]||"",!0),Rr(this,_[4]),this.l=Pn(_[5]||"",!0),Hi(this,_[6]||"",!0),this.m=Pn(_[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}yt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Ps(_,Go,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ps(_,Go,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ps(y,y.charAt(0)=="/"?Af:$o,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ps(y,ba)),c.join("")};function _n(c){return new yt(c)}function Ds(c,_,y){c.j=y?Pn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Rr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Hi(c,_,y){_ instanceof Fi?(c.i=_,Lu(c.i,c.h)):(y||(_=Ps(_,bf)),c.i=new Fi(_,c.h))}function Ke(c,_,y){c.i.set(_,y)}function Os(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,Vu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,$o=/[#\?:]/g,Af=/[#\?]/g,bf=/[#\?@]/g,ba=/#/g;function Fi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Tf(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}r=Fi.prototype,r.add=function(c,_){kn(this),this.i=null,c=oi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function Gi(c,_){kn(c),_=oi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function $i(c,_){return kn(c),_=oi(c,_),c.g.has(_)}r.forEach=function(c,_){kn(this),this.g.forEach(function(y,b){y.forEach(function(j){c.call(_,j,b,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let b=0;b<_.length;b++){const j=c[b];for(let $=0;$<j.length;$++)y.push(_[b])}return y},r.V=function(c){kn(this);let _=[];if(typeof c=="string")$i(this,c)&&(_=_.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},r.set=function(c,_){return kn(this),this.i=null,c=oi(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Ko(c,_,y){Gi(c,_),0<y.length&&(c.i=null,c.g.set(oi(c,_),K(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var b=_[y];const $=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var j=$;se[b]!==""&&(j+="="+encodeURIComponent(String(se[b]))),c.push(j)}}return this.i=c.join("&")};function oi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Lu(c,_){_&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(y,b){var j=b.toLowerCase();b!=j&&(Gi(this,b),Ko(this,j,y))},c)),c.j=_}function ks(c,_){const y=new On;if(m.Image){const b=new Image;b.onload=D(Mn,y,"TestLoadImage: loaded",!0,_,b),b.onerror=D(Mn,y,"TestLoadImage: error",!1,_,b),b.onabort=D(Mn,y,"TestLoadImage: abort",!1,_,b),b.ontimeout=D(Mn,y,"TestLoadImage: timeout",!1,_,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else _(!1)}function Kn(c,_){const y=new On,b=new AbortController,j=setTimeout(()=>{b.abort(),Mn(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(j),$.ok?Mn(y,"TestPingServer: ok",!0,_):Mn(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Mn(y,"TestPingServer: error",!1,_)})}function Mn(c,_,y,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(y)}catch{}}function Ms(){this.g=new Rs}function li(c,_,y){const b=y||"";try{Fo(c,function(j,$){let se=j;g(j)&&(se=Gn(j)),_.push(b+$+"="+encodeURIComponent(se))})}catch(j){throw _.push(b+"type="+encodeURIComponent("_badmap")),j}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ir,Mo),Ir.prototype.g=function(){return new Ki(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Ki(c,_){ut.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ki,ut),r=Ki.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,ci(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ui(this):ci(this),this.readyState==3&&Qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},r.Qa=function(c){this.g&&(this.response=c,ui(this))},r.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let _="";return Ae(c,function(y,b){_+=b,_+=":",_+=y,_+=`\r
`}),_}function kt(c,_,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Yo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ke(c,_,y))}function qe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qe,ut);var Sa=/^https?$/i,Vs=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Vo(this.o):Vo(ri),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch($){Uu(this,$);return}if(c=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)y.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())y.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vs,_,void 0))||b||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of y)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Uu(this,$)}};function Uu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,wa(c),hi(c)}function wa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Xt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var b;if(b=se===0){var j=String(c.D).match(xs)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!Sa.test(j?j.toLowerCase():"")}y=b}if(y)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<Vn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",wa(c)}}finally{hi(c)}}}}function hi(c,_){if(c.g){Ls(c);const y=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Fe(c,"ready");try{y.onreadystatechange=b}catch{}}}function Ls(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ga(_)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const _={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var y=V(c[b]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=_[j]||[];_[j]=$,$.push(y)}M(_,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Ia(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,_,y,b){et(0),this.W=c,this.H=_||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=$u(this,null,this.W),Na(this)};function Xo(c){if(zu(c),c.G==3){var _=c.U++,y=_n(c.I);if(Ke(y,"SID",c.K),Ke(y,"RID",_),Ke(y,"TYPE","terminate"),js(c,y),_=new rn(c,c.j,_),_.L=2,_.v=Os(_n(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=_.v,y=!0),y||(_.g=Ku(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Cs(_)}Gu(c)}function Ca(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function zu(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!va(c.h)&&!c.s){c.s=!0;var _=c.Ga;ae||x(),me||(ae(),me=!0),ze.add(_,c),c.B=0}}function wf(c,_){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(S(c.Ga,c,_),Jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new rn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Bu(this,j,_),y=_n(this.I),Ke(y,"RID",c),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),js(this,y),$&&(this.O?_="headers="+encodeURIComponent(String(Yo($)))+"&"+_:this.m&&kt(y,this.m,$)),Ta(this.h,j),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",_),Ke(y,"SID","null"),j.T=!0,$n(j,y,null)):$n(j,y,_),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||va(this.h)||Wo(this))};function Wo(c,_){var y;_?y=_.l:y=c.U++;const b=_n(c.I);Ke(b,"SID",c.K),Ke(b,"RID",y),Ke(b,"AID",c.T),js(c,b),c.m&&c.o&&kt(b,c.m,c.o),y=new rn(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Bu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,y),$n(y,b,_)}function js(c,_){c.H&&Ae(c.H,function(y,b){Ke(_,b,y)}),c.l&&Fo({},function(y,b){Ke(_,b,y)})}function Bu(c,_,y){y=Math.min(c.i.length,y);var b=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const se=["count="+y];$==-1?0<y?($=j[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let Me=!0;for(let wt=0;wt<y;wt++){let Ve=j[wt].g;const Mt=j[wt].map;if(Ve-=$,0>Ve)$=Math.max(0,j[wt].g-100),Me=!1;else try{li(Mt,se,"req"+Ve+"_")}catch{b&&b(Mt)}}if(Me){b=se.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,b}function qu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ae||x(),me||(ae(),me=!0),ze.add(_,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(S(c.Fa,c),Jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Ca(this),Hu(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=_n(c.qa);Ke(_,"RID","rpc"),Ke(_,"SID",c.K),Ke(_,"AID",c.T),Ke(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(_,"TO",c.ja),Ke(_,"TYPE","xmlhttp"),js(c,_),c.m&&c.o&&kt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Os(_n(_)),y.m=null,y.P=!0,Bi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),Zo(this),et(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,_){var y=null;if(c.g==_){xa(c),zs(c),c.g=null;var b=2}else if(qo(c.h,_))y=_.D,sn(c.h,_),b=1;else return;if(c.G!=0){if(_.o)if(b==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var j=c.B;b=Tr(),Fe(b,new St(b,y)),Na(c)}else qu(c);else if(j=_.s,j==3||j==0&&0<_.X||!(b==1&&wf(c,_)||b==2&&Zo(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),j){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Jo(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Qi(c,_){if(c.j.info("Error code "+_),_==2){var y=S(c.fb,c),b=c.Xa;const j=!b;b=new yt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ds(b,"https"),Os(b),j?ks(b.toString(),y):Kn(b.toString(),y)}else et(2);c.G=0,c.l&&c.l.sa(_),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const _=Ho(c.h);(_.length!=0||c.i.length!=0)&&(z(c.ka,_),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function $u(c,_,y){var b=y instanceof yt?_n(y):new yt(y);if(b.g!="")_&&(b.g=_+"."+b.g),Rr(b,b.s);else{var j=m.location;b=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var $=new yt(null);b&&Ds($,b),_&&($.g=_),j&&Rr($,j),y&&($.l=y),b=$}return y=c.D,_=c.ya,y&&_&&Ke(b,y,_),Ke(b,"VER",c.la),js(c,b),b}function Ku(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new qe(new Ir({eb:y})):new qe(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,_){return new an(c,_)};function an(c,_){ut.call(this),this.g=new Ia(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!re(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!re(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new fi(this)}k(an,ut),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Xo(this.g)},an.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Gn(c),c=y);_.i.push(new Mu(_.Ya++,c)),_.G==3&&Na(_)},an.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,an.aa.N.call(this)};function Yu(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(Yu,ji);function Xu(){Uo.call(this),this.status=1}k(Xu,Uo);function fi(c){this.g=c}k(fi,Qu),fi.prototype.ua=function(){Fe(this.g,"a")},fi.prototype.ta=function(c){Fe(this.g,new Yu(c))},fi.prototype.sa=function(c){Fe(this.g,new Xu)},fi.prototype.ra=function(){Fe(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,M0=function(){return new Da},k0=function(){return Tr()},P0=ii,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,dh=Sr,zi.COMPLETE="complete",O0=zi,Lo.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ql=Lo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,D0=qe}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",_E="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new yp("@firebase/firestore");function ao(){return oa.logLevel}function le(r,...e){if(oa.logLevel<=Pe.DEBUG){const n=e.map(Dp);oa.debug(`Firestore (${Co}): ${r}`,...n)}}function _r(r,...e){if(oa.logLevel<=Pe.ERROR){const n=e.map(Dp);oa.error(`Firestore (${Co}): ${r}`,...n)}}function go(r,...e){if(oa.logLevel<=Pe.WARN){const n=e.map(Dp);oa.warn(`Firestore (${Co}): ${r}`,...n)}}function Dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,V0(r,s,n)}function V0(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||V0(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class RN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new L0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class CN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Ym(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=U0(),f=ON(u.encode(vE(r,n)),u.encode(vE(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function vE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function ON(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function _o(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,TE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*TE);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__name__";class Ti{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ti.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=Ti.isNumericId(e),o=Ti.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class it extends Ti{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const PN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return PN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new Qt([AE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function kN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new os(o,ge.empty(),e)}function MN(r){return new os(r.readTime,r.key,ou)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Se.min(),ge.empty(),ou)}static max(){return new os(Se.max(),ge.empty(),ou)}}function VN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==LN)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function jN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function Wh(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function zN(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="";function BN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=bE(e)),e=qN(r.get(n),e);return bE(e)}function qN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case z0:n+="";break;default:n+=u}}return n}function bE(r){return r+z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function B0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ot(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new q0("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const HN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=HN.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="server_timestamp",F0="__type__",G0="__previous_value__",$0="__local_write_time__";function Pp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||n===void 0?void 0:n.stringValue)===H0}function Zh(r){const e=r.mapValue.fields[G0];return Pp(e)?Zh(e):e}function lu(r){const e=ls(r.mapValue.fields[$0].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Nh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__type__",GN="__max__",th={mapValue:{}},Q0="__vector__",xh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pp(r)?4:KN(r)?9007199254740991:$N(r)?10:11:Ee(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(SE(f)!==SE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ci(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function cu(r,e){return(r.values||[]).find(n=>Ci(n,e))!==void 0}function yo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(lu(r),lu(e));case 5:return Ym(r.stringValue,e.stringValue);case 6:return function(u,f){const m=us(u),p=us(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ce(m[g],p[g]);if(T!==0)return T}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(gt(u.latitude),gt(f.latitude));return m!==0?m:Ce(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return IE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},S=f.fields||{},D=(m=w[xh])===null||m===void 0?void 0:m.arrayValue,k=(p=S[xh])===null||p===void 0?void 0:p.arrayValue,K=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:IE(D,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const S=Ym(p[w],T[w]);if(S!==0)return S;const D=yo(m[p[w]],g[T[w]]);if(D!==0)return D}return Ce(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=ls(r),s=ls(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function IE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function vo(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return us(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function mh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+mh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return _s(s.fields,(u,f)=>{o+=u.length+mh(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Wm(r){return!!r&&"integerValue"in r}function kp(r){return!!r&&"arrayValue"in r}function CE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function $N(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[K0])===null||n===void 0?void 0:n.stringValue)===Q0}function Jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function KN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pn(Jl(this.value))}}function Y0(r){const e=[];return _s(r.fields,(n,s)=>{const o=new Qt([n]);if(ph(s)){const u=Y0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function xE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class xt extends X0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XN(e,n,s):n==="array-contains"?new JN(e,s):n==="in"?new ex(e,s):n==="not-in"?new tx(e,s):n==="array-contains-any"?new nx(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WN(e,s):new ZN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends X0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ni(e,n)}matches(e){return W0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function W0(r){return r.op==="and"}function Z0(r){return YN(r)&&W0(r)}function YN(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function Zm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(Z0(r))return r.filters.map(e=>Zm(e)).join(",");{const e=r.filters.map(n=>Zm(n)).join(",");return`${r.op}(${e})`}}function J0(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ci(s.value,o.value)}(r,e):r instanceof Ni?function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&J0(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function eA(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(r):r instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(eA).join(" ,")+"}"}(r):"Filter"}class XN extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class WN extends xt{constructor(e,n){super(e,"in",n),this.keys=tA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=tA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class JN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&cu(n.arrayValue,this.value)}}class ex extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class tx extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class nx extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function OE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new ix(r,e,n,s,o,u,f)}function Mp(r){const e=we(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vo(s)).join(",")),e.Ie=n}return e.Ie}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!DE(r.startAt,e.startAt)&&DE(r.endAt,e.endAt)}function Jm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rx(r,e,n,s,o,u,f,m){return new Jh(r,e,n,s,o,u,f,m)}function ef(r){return new Jh(r)}function PE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sx(r){return r.collectionGroup!==null}function eu(r){const e=we(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Oh(u,s))}),n.has(Qt.keyField().canonicalString())||e.Ee.push(new Oh(Qt.keyField(),s))}return e.Ee}function wi(r){const e=we(r);return e.de||(e.de=ax(e,eu(r))),e.de}function ax(r,e){if(r.limitType==="F")return OE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)});const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return OE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e,n){return new Jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function tf(r,e){return Vp(wi(r),wi(e))&&r.limitType===e.limitType}function nA(r){return`${Mp(wi(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>eA(o)).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(wi(r))}; limitType=${r.limitType})`}function nf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=xE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(f,m,p){const g=xE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(r,e)}function ox(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iA(r){return(e,n)=>{let s=!1;for(const o of eu(r)){const u=lx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lx(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new ot(ge.comparator);function yr(){return ux}const rA=new ot(ge.comparator);function Yl(...r){let e=rA;for(const n of r)e=e.insert(n.key,n);return e}function sA(r){let e=rA;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ia(){return tu()}function aA(){return tu()}function tu(){return new ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const cx=new ot(ge.comparator),hx=new Ot(ge.comparator);function ke(...r){let e=hx;for(const n of r)e=e.add(n);return e}const fx=new Ot(Ce);function dx(){return fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function oA(r){return{integerValue:""+r}}function mx(r,e){return zN(e)?oA(e):Lp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function px(r,e,n){return r instanceof Ph?function(o,u){const f={fields:{[F0]:{stringValue:H0},[$0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=Zh(u)),u&&(f.fields[G0]=u),{mapValue:f}}(n,e):r instanceof Eo?uA(r,e):r instanceof hu?cA(r,e):function(o,u){const f=lA(o,u),m=kE(f)+kE(o.Re);return Wm(f)&&Wm(o.Re)?oA(m):Lp(o.serializer,m)}(r,e)}function gx(r,e,n){return r instanceof Eo?uA(r,e):r instanceof hu?cA(r,e):n}function lA(r,e){return r instanceof kh?function(s){return Wm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ph extends rf{}class Eo extends rf{constructor(e){super(),this.elements=e}}function uA(r,e){const n=hA(e);for(const s of r.elements)n.some(o=>Ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class hu extends rf{constructor(e){super(),this.elements=e}}function cA(r,e){let n=hA(e);for(const s of r.elements)n=n.filter(o=>!Ci(o,s));return{arrayValue:{values:n}}}class kh extends rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function kE(r){return gt(r.integerValue||r.doubleValue)}function hA(r){return kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.field=e,this.transform=n}}function yx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof hu&&o instanceof hu?_o(s.elements,o.elements,Ci):s instanceof kh&&o instanceof kh?Ci(s.Re,o.Re):s instanceof Ph&&o instanceof Ph}(r.transform,e.transform)}class vx{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class sf{}function fA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mA(r.key,ei.none()):new Tu(r.key,r.data,ei.none());{const n=r.data,s=pn.empty();let o=new Ot(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ys(r.key,s,new Nn(o.toArray()),ei.none())}}function Ex(r,e,n){r instanceof Tu?function(o,u,f){const m=o.value.clone(),p=VE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ys?function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=VE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(dA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function nu(r,e,n,s){return r instanceof Tu?function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=u.value.clone(),T=LE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ys?function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=LE(u.fieldTransforms,p,f),T=f.data;return T.setAll(dA(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function Tx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lA(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function ME(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,f)=>yx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function VE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,gx(f,m,n[o]))}return s}function LE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,px(u,f,e))}return s}class mA extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ex(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=fA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>ME(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>ME(n,s))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return cx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Up(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ue;function Rx(r){switch(r){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function pA(r){if(r===void 0)return _r("GRPC error has no .code"),ne.UNKNOWN;switch(r){case bt.OK:return ne.OK;case bt.CANCELLED:return ne.CANCELLED;case bt.UNKNOWN:return ne.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ne.INTERNAL;case bt.UNAVAILABLE:return ne.UNAVAILABLE;case bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case bt.NOT_FOUND:return ne.NOT_FOUND;case bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case bt.ABORTED:return ne.ABORTED;case bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case bt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new is([4294967295,4294967295],0);function UE(r){const e=U0().encode(r),n=new x0;return n.update(e),new Uint8Array(n.digest())}function jE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=is.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(Ix)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=UE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=UE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Se.min(),o,new ot(Ce),yr(),ke())}}class Au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class gA{constructor(e,n){this.targetId=e,this.Ce=n}}class _A{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class zE{constructor(){this.Fe=0,this.Me=BE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Au(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=BE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Cx{constructor(e){this.ze=e,this.je=new Map,this.He=yr(),this.Je=nh(),this.Ye=nh(),this.Ze=new ot(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new ge(u.path);this.tt(n,f,tn.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof q0)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(f,o,u)}catch(p){return go(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Jm(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,tn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new af(e,n,this.Ze,this.He,s);return this.He=yr(),this.Je=nh(),this.Ye=nh(),this.Ze=new ot(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new zE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ot(ge.comparator)}function BE(){return new ot(ge.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dx={and:"AND",or:"OR"};class Ox{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(r,e){return r.useProto3Json||Wh(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Px(r,e){return Mh(r,e.toTimestamp())}function Ri(r){return He(!!r,49232),Se.fromTimestamp(function(n){const s=ls(n);return new Dt(s.seconds,s.nanos)}(r))}function zp(r,e){return np(r,e).canonicalString()}function np(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function vA(r){const e=it.fromString(r);return He(SA(e),10190,{key:e.toString()}),e}function ip(r,e){return zp(r.databaseId,e.path)}function Dm(r,e){const n=vA(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(TA(n))}function EA(r,e){return zp(r.databaseId,e)}function kx(r){const e=vA(r);return e.length===4?it.emptyPath():TA(e)}function rp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TA(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qE(r,e,n){return{name:ip(r,e),fields:n.value.mapValue.fields}}function Mx(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(He(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ne.UNKNOWN:pA(g.code);return new de(T,g.message||"")}(f);n=new _A(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Se.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new _h(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(r,s.document),u=s.readTime?Ri(s.readTime):Se.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wx(o,u),m=s.targetId;n=new gA(m,f)}}return n}function Vx(r,e){let n;if(e instanceof Tu)n={update:qE(r,e.key,e.value)};else if(e instanceof mA)n={delete:ip(r,e.key)};else if(e instanceof ys)n={update:qE(r,e.key,e.data),updateMask:Gx(e.fieldMask)};else{if(!(e instanceof Ax))return Ee(16599,{ft:e.type});n={verify:ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Px(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function Lx(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Se.min())&&(f=Ri(u)),new vx(f,o.transformResults||[])}(n,e))):[]}function Ux(r,e){return{documents:[EA(r,e.path)]}}function jx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=EA(r,o);const u=function(g){if(g.length!==0)return bA(Ni.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:lo(S.field),direction:qx(S.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=tp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function zx(r){let e=kx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const S=AA(w);return S instanceof Ni&&Z0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(k){return new Oh(uo(k.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Wh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,D=w.values||[];return new Dh(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,D=w.values||[];return new Dh(D,S)}(n.endAt)),rx(e,o,f,u,m,"F",p,g)}function Bx(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return xt.create(uo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(s=>AA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function qx(r){return Nx[r]}function Hx(r){return xx[r]}function Fx(r){return Dx[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Qt.fromServerFormat(r.fieldPath)}function bA(r){return r instanceof xt?function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:Hx(n.op),value:n.value}}}(r):r instanceof Ni?function(n){const s=n.getFilters().map(o=>bA(o));return s.length===1?s[0]:{compositeFilter:{op:Fx(n.op),filters:s}}}(r):Ee(54877,{filter:r})}function Gx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.wt=e}}function Kx(r){const e=zx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.yn=new Yx}addToCollectionParentIndex(e,n){return this.yn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(os.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class Yx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(wA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new To(0)}static ir(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",Xx=1048576;function GE([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class Wx{constructor(e){this.cr=e,this.buffer=new Ot(GE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();GE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){le(FE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?le(FE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Ir(3e5)})}}class Jx{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Xh.le);const s=new Wx(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(HE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),ao()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function eD(r,e){return new Jx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&nu(s.mutation,o,Nn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=ia();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Yl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=yr();const f=tu(),m=function(){return tu()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ys)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),nu(T.mutation,g,T.mutation.getFieldMask(),Dt.now())):f.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new nD(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Nn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=aA();T.forEach(S=>{if(!u.has(S)){const D=fA(n.get(S),s.get(S));D!==null&&w.set(S,D),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(ia());let m=ou,p=u;return f.next(g=>J.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(T=>({batchId:m,changes:sA(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,S){return new Jh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let m=Yl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&nu(T.mutation,g,Nn.empty(),Dt.now()),nf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return J.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:Ri(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.overlays=new ot(ge.comparator),this.Or=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ia(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Sx(n,s));let u=this.Or.get(n);u===void 0&&(u=ke(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Nr=new Ot(jt.Br),this.Lr=new Ot(jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new jt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ge(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ge(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ge.comparator(e.key,n.key)||Ce(e.Gr,n.Gr)}static kr(e,n){return Ce(e.Gr,n.Gr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ot(jt.Br)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Op:this.Jn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ce);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),J.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Ot(Ce);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),J.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return J.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new jt(n,0),o=this.zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Zr=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||VN(MN(T),s)<=0||(o.has(T.key)||nf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}Xr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new uD(this)}getSize(e){return J.resolve(this.size)}}class uD extends tD{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.persistence=e,this.ei=new ha(n=>Mp(n),Vp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ti=0,this.ni=new Bp,this.targetCount=0,this.ri=To.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),J.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new To(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.ar(n),J.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.ii={},this.overlays={},this.si=new Xh(0),this.oi=!1,this.oi=!0,this._i=new aD,this.referenceDelegate=e(this),this.ai=new cD(this),this.indexManager=new Qx,this.remoteDocumentCache=function(o){return new lD(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new $x(n),this.ci=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new oD(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new hD(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return J.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class hD extends UN{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ti=new Bp,this.Ii=null}static Ei(e){return new qp(e)}get di(){if(this.Ii)return this.Ii;throw Ee(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,s=>{const o=ge.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return J.or([()=>J.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.Ri=new ha(s=>BN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=eD(this,n)}static Ei(e,n){return new Vh(e,n)}li(){}hi(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return J.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),J.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}gr(e,n,s){return J.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return $R()?8:jN(nn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new fD;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(ao()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(ao()<=Pe.DEBUG&&le("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ao()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):J.resolve())}Rs(e,n){if(PE(n))return J.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ep(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(e,ep(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,s,o){return PE(n)||o.isEqual(Se.min())?J.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?J.resolve(null):(ao()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.ws(e,f,n,kN(o,ou)).next(m=>m))})}ps(e,n){let s=new Ot(iA(e));return n.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return ao()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",oo(n)),this.As.getDocumentsMatchingQuery(e,n,os.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",mD=3e8;class pD{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new ot(Ce),this.Ds=new ha(u=>Mp(u),Vp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function gD(r,e,n,s){return new pD(r,e,n,s)}async function IA(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function _D(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,S=w.keys();let D=J.resolve();return S.forEach(k=>{D=D.next(()=>T.getEntry(p,k)).next(K=>{const z=g.docVersions.get(k);He(z!==null,48541),K.version.compareTo(z)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),T.addEntry(K)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function CA(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function yD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((T,w)=>{const S=o.get(w);if(!S)return;m.push(n.ai.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.ai.addMatchingKeys(u,T.addedDocuments,w)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(w,D),function(K,z,Q){return K.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=mD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,D,T)&&m.push(n.ai.updateTargetData(u,D))});let p=yr(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(vD(u,f,e.documentUpdates).next(T=>{p=T.xs,g=T.Os})),!s.isEqual(Se.min())){const T=n.ai.getLastRemoteSnapshotVersion(u).next(w=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function vD(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=yr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function ED(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function TD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function sp(r,e,n){const s=we(r),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!xo(f))throw f;le(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function $E(r,e,n){const s=we(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=we(p),S=w.Ds.get(T);return S!==void 0?J.resolve(w.Ss.get(S)):w.ai.getTargetData(g,T)}(s,f,wi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke())).next(m=>(AD(s,ox(e),m),{documents:m,Ns:u})))}function AD(r,e,n){let s=r.vs.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class KE{constructor(){this.activeTargetIds=dx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bD{constructor(){this.So=new KE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new KE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class YE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){le(QE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){le(QE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function ap(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RD{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=ap(),m=this.$o(e,n.toUriEncodedString());le(Om,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(g=>(le(Om,`Received RPC '${e}' ${f}: `,g),g),g=>{throw go(Om,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=wD[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class CD extends RD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=ap();return new Promise((f,m)=>{const p=new D0;p.setWithCredentials(!0),p.listenOnce(O0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const T=p.getResponseJson();le(Jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case dh.TIMEOUT:le(Jt,`RPC '${e}' ${u} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const w=p.getStatus();if(le(Jt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S==null?void 0:S.error;if(D&&D.status&&D.message){const k=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN}(D.status);m(new de(k,D.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{le(Jt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le(Jt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}a_(e,n,s){const o=ap(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=M0(),m=k0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);let S=!1,D=!1;const k=new ID({Go:z=>{D?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},zo:()=>w.close()}),K=(z,Q,re)=>{z.listen(Q,ee=>{try{re(ee)}catch(ue){setTimeout(()=>{throw ue},0)}})};return K(w,Ql.EventType.OPEN,()=>{D||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),k.t_())}),K(w,Ql.EventType.CLOSE,()=>{D||(D=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),k.r_())}),K(w,Ql.EventType.ERROR,z=>{D||(D=!0,go(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),k.r_(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),K(w,Ql.EventType.MESSAGE,z=>{var Q;if(!D){const re=z.data[0];He(!!re,16349);const ee=re,ue=(ee==null?void 0:ee.error)||((Q=ee[0])===null||Q===void 0?void 0:Q.error);if(ue){le(Jt,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let Ae=function(I){const O=bt[I];if(O!==void 0)return pA(O)}(ce),M=ue.message;Ae===void 0&&(Ae=ne.INTERNAL,M="Unknown error status: "+ce+" with message "+ue.message),D=!0,k.r_(new de(Ae,M)),w.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,re),k.i_(re)}}),K(m,P0.STAT_EVENT,z=>{z.stat===Qm.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Qm.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.n_()},0),k}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new Ox(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class xA{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new NA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return le(XE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(le(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ND extends xA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Mx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ri(f.readTime):Se.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=rp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:Ux(u,p)}:{query:jx(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=yA(u,f.resumeToken);const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Bx(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.F_(n)}}class xD extends xA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Lx(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=rp(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Vx(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{}class OD extends DD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,np(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,np(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ne.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class PD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(_r(n),this.ea=!1):le("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class kD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{fa(this)&&(le(la,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.aa.add(4),await bu(g),g.la.set("Unknown"),g.aa.delete(4),await lf(g)}(this))})}),this.la=new PD(s,o)}}async function lf(r){if(fa(r))for(const e of r.ua)await e(!0)}async function bu(r){for(const e of r.ua)await e(!1)}function DA(r,e){const n=we(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Qp(n)?Kp(n):Do(n).b_()&&$p(n,e))}function Gp(r,e){const n=we(r),s=Do(n);n._a.delete(e),s.b_()&&OA(n,e),n._a.size===0&&(s.b_()?s.v_():fa(n)&&n.la.set("Unknown"))}function $p(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).U_(e)}function OA(r,e){r.ha.Ke(e),Do(r).K_(e)}function Kp(r){r.ha=new Cx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.la.ta()}function Qp(r){return fa(r)&&!Do(r).w_()&&r._a.size>0}function fa(r){return we(r).aa.size===0}function PA(r){r.ha=void 0}async function MD(r){r.la.set("Online")}async function VD(r){r._a.forEach((e,n)=>{$p(r,e)})}async function LD(r,e){PA(r),Qp(r)?(r.la.ia(e),Kp(r)):r.la.set("Unknown")}async function UD(r,e,n){if(r.la.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,e)}catch(s){le(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof _h?r.ha.Xe(e):e instanceof gA?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Se.min()))try{const s=await CA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u._a.get(g);T&&u._a.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u._a.get(p);if(!T)return;u._a.set(p,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),OA(u,p);const w=new es(T.target,p,g,T.sequenceNumber);$p(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(la,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!xo(e))throw e;r.aa.add(1),await bu(r),r.la.set("Offline"),n||(n=()=>CA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(la,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await lf(r)})}function kA(r,e){return e().catch(n=>Lh(r,n,e))}async function uf(r){const e=we(r),n=hs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Op;for(;jD(e);)try{const o=await ED(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,zD(e,o)}catch(o){await Lh(e,o)}MA(e)&&VA(e)}function jD(r){return fa(r)&&r.oa.length<10}function zD(r,e){r.oa.push(e);const n=hs(r);n.b_()&&n.W_&&n.G_(e.mutations)}function MA(r){return fa(r)&&!hs(r).w_()&&r.oa.length>0}function VA(r){hs(r).start()}async function BD(r){hs(r).H_()}async function qD(r){const e=hs(r);for(const n of r.oa)e.G_(n.mutations)}async function HD(r,e,n){const s=r.oa.shift(),o=Up.from(s,e,n);await kA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await uf(r)}async function FD(r,e){e&&hs(r).W_&&await async function(s,o){if(function(f){return Rx(f)&&f!==ne.ABORTED}(o.code)){const u=s.oa.shift();hs(s).D_(),await kA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(r,e),MA(r)&&VA(r)}async function WE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),le(la,"RemoteStore received new credentials");const s=fa(n);n.aa.add(3),await bu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await lf(n)}async function GD(r,e){const n=we(r);e?(n.aa.delete(2),await lf(n)):e||(n.aa.add(2),await bu(n),n.la.set("Unknown"))}function Do(r){return r.Pa||(r.Pa=function(n,s,o){const u=we(n);return u.Y_(),new ND(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:MD.bind(null,r),Jo:VD.bind(null,r),Zo:LD.bind(null,r),Q_:UD.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Qp(r)?Kp(r):r.la.set("Unknown")):(await r.Pa.stop(),PA(r))})),r.Pa}function hs(r){return r.Ta||(r.Ta=function(n,s,o){const u=we(n);return u.Y_(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:BD.bind(null,r),Zo:FD.bind(null,r),z_:qD.bind(null,r),j_:HD.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await uf(r)):(await r.Ta.stop(),r.oa.length>0&&(le(la,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(r,e){if(_r("AsyncQueue",`${e}: ${r}`),xo(r))return new de(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.Ia=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ao(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class KD{constructor(){this.queries=JE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=JE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function JE(){return new ha(r=>nA(r),tf)}async function Wp(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new $D,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Jp(n)}async function Zp(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Jp(n)}function YD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function Jp(r){r.fa.forEach(e=>{e.next()})}var op,eT;(eT=op||(op={})).ya="default",eT.Cache="cache";class eg{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class XD{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=iA(e),this.Ka=new po(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new ZE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const S=o.get(T),D=nf(this.query,w)?w:null,k=!!S&&this.mutatedKeys.has(S.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;S&&D?S.data.isEqual(D.data)?k!==K&&(s.track({type:3,doc:D}),z=!0):this.ja(S,D)||(s.track({type:2,doc:D}),z=!0,(p&&this.Ua(D,p)>0||g&&this.Ua(D,g)<0)&&(m=!0)):!S&&D?(s.track({type:0,doc:D}),z=!0):S&&!D&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(D?(f=f.add(D),u=K?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((T,w)=>function(D,k){const K=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:z})}};return K(D)-K(k)}(T.type,w.type)||this.Ua(T.doc,w.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new Ao(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ZE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new UA(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new LA(s))}),n}Xa(e){this.qa=e.Ns,this.$a=ke();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ao.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const tg="SyncEngine";class WD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZD{constructor(e){this.key=e,this.tu=!1}}class JD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new ha(m=>nA(m),tf),this.iu=new Map,this.su=new Set,this.ou=new ot(ge.comparator),this._u=new Map,this.au=new Bp,this.uu={},this.cu=new Map,this.lu=To.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function e2(r,e,n=!0){const s=FA(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await jA(s,e,n,!0),o}async function t2(r,e){const n=FA(r);await jA(n,e,!0,!1)}async function jA(r,e,n,s){const o=await TD(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await n2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&DA(r.remoteStore,o),m}async function n2(r,e,n,s,o){r.Pu=(w,S,D)=>async function(K,z,Q,re){let ee=z.view.Ga(Q);ee.ys&&(ee=await $E(K.localStore,z.query,!1).then(({documents:M})=>z.view.Ga(M,ee)));const ue=re&&re.targetChanges.get(z.targetId),ce=re&&re.targetMismatches.get(z.targetId)!=null,Ae=z.view.applyChanges(ee,K.isPrimaryClient,ue,ce);return nT(K,z.targetId,Ae.Ya),Ae.snapshot}(r,w,S,D);const u=await $E(r.localStore,e,!0),f=new XD(e,u.Ns),m=f.Ga(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);nT(r,n,g.Ya);const T=new WD(e,n,f);return r.ru.set(e,T),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),g.snapshot}async function i2(r,e,n){const s=we(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!tf(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),lp(s,o.targetId)}).catch(No)):(lp(s,o.targetId),await sp(s.localStore,o.targetId,!0))}async function r2(r,e){const n=we(r),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function s2(r,e,n){const s=f2(r);try{const o=await function(f,m){const p=we(f),g=Dt.now(),T=m.reduce((D,k)=>D.add(k.key),ke());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=yr(),K=ke();return p.Cs.getEntries(D,T).next(z=>{k=z,k.forEach((Q,re)=>{re.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,k)).next(z=>{w=z;const Q=[];for(const re of m){const ee=Tx(re,w.get(re.key).overlayedDocument);ee!=null&&Q.push(new ys(re.key,ee,Y0(ee.value.mapValue),ei.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,m)}).next(z=>{S=z;const Q=z.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(D,z.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:sA(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Su(s,o.changes),await uf(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function zA(r,e){const n=we(r);try{const s=await yD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await Su(n,s,e)}catch(s){await No(s)}}function tT(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const S of w.Ra)S.ga(m)&&(g=!0)}),g&&Jp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function a2(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const m=ke().add(u),p=new af(Se.min(),new Map,new ot(Ce),f,m);await zA(s,p),s.ou=s.ou.remove(u),s._u.delete(e),ng(s)}else await sp(s.localStore,e,!1).then(()=>lp(s,e,n)).catch(No)}async function o2(r,e){const n=we(r),s=e.batch.batchId;try{const o=await _D(n.localStore,e);qA(n,s,null),BA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await No(o)}}async function l2(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);qA(s,e,n),BA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await No(o)}}function BA(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function qA(r,e,n){const s=we(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||HA(r,s)})}function HA(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&(Gp(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),ng(r))}function nT(r,e,n){for(const s of n)s instanceof LA?(r.au.addReference(s.key,e),u2(r,s)):s instanceof UA?(le(tg,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||HA(r,s.key)):Ee(19791,{Iu:s})}function u2(r,e){const n=e.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(le(tg,"New document in limbo: "+n),r.su.add(s),ng(r))}function ng(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new ge(it.fromString(e)),s=r.lu.next();r._u.set(s,new ZD(n)),r.ou=r.ou.insert(n,s),DA(r.remoteStore,new es(wi(ef(n.path)),s,"TargetPurposeLimboResolution",Xh.le))}}async function Su(r,e,n){const s=we(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Hp.Ps(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,S=>J.forEach(S.ls,D=>T.persistence.referenceDelegate.addReference(w,S.targetId,D)).next(()=>J.forEach(S.hs,D=>T.persistence.referenceDelegate.removeReference(w,S.targetId,D)))))}catch(w){if(!xo(w))throw w;le(Fp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const D=T.Ss.get(S),k=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(k);T.Ss=T.Ss.insert(S,K)}}}(s.localStore,u))}async function c2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){le(tg,"User change. New user:",e.toKey());const s=await IA(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new de(ne.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ms)}}function h2(r,e){const n=we(r),s=n._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function FA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a2.bind(null,e),e.nu.Q_=QD.bind(null,e.eventManager),e.nu.Tu=YD.bind(null,e.eventManager),e}function f2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l2.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return gD(this.persistence,new dD,e.initialUser,this.serializer)}Ru(e){return new RA(qp.Ei,this.serializer)}Au(e){return new bD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class d2 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Zx(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new RA(s=>Vh.Ei(s,n),this.serializer)}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2.bind(null,this.syncEngine),await GD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KD}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=function(u){return new CD(u)}(e.databaseInfo);return function(u,f,m,p){return new OD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new kD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return YE.C()?new YE:new SD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new JD(o,u,f,m,p,g);return T&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);le(la,"RemoteStore shutting down."),u.aa.add(5),await bu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class m2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function km(r,e){r.asyncQueue.verifyOperationInProgress(),le(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await IA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function iT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await p2(r);le(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>WE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>WE(e.remoteStore,o)),r._onlineComponents=e}async function p2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(fs,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await km(r,new Uh)}}else le(fs,"Using default OfflineComponentProvider"),await km(r,new d2(void 0));return r._offlineComponents}async function GA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(fs,"Using user provided OnlineComponentProvider"),await iT(r,r._uninitializedComponentsProvider._online)):(le(fs,"Using default OnlineComponentProvider"),await iT(r,new up))),r._onlineComponents}function g2(r){return GA(r).then(e=>e.syncEngine)}async function jh(r){const e=await GA(r),n=e.eventManager;return n.onListen=e2.bind(null,e.syncEngine),n.onUnlisten=i2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r2.bind(null,e.syncEngine),n}function _2(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new ig({next:S=>{T.yu(),f.enqueueAndForget(()=>Zp(u,w));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new eg(ef(m.path),T,{includeMetadataChanges:!0,Fa:!0});return Wp(u,w)}(await jh(r),r.asyncQueue,e,n,s)),s.promise}function y2(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new ig({next:S=>{T.yu(),f.enqueueAndForget(()=>Zp(u,w)),S.fromCache&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new eg(m,T,{includeMetadataChanges:!0,Fa:!0});return Wp(u,w)}(await jh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function v2(r,e,n,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function sT(r){if(!ge.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function aT(r){if(ge.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function xn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(r);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firestore.googleapis.com",oT=!0;class lT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=oT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xx)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wN;switch(s.type){case"firstParty":return new NN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=rT.get(n);s&&(le("ComponentProvider","Removing Datastore"),rT.delete(n),s.terminate())}(this),Promise.resolve()}}function E2(r,e,n,s={}){var o;const u=(r=xn(r,cf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==QA&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ss(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=en.MOCK_USER;else{g=FT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(w)}r._authCredentials=new RN(new L0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wu(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class rs extends wu{constructor(e,n,s){super(e,n,ef(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ge(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function YA(r,e,...n){if(r=zt(r),KA("collection","path",e),r instanceof cf){const s=it.fromString(e,...n);return aT(s),new rs(r,null,s)}{if(!(r instanceof cn||r instanceof rs))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return aT(s),new rs(r.firestore,null,s)}}function vr(r,e,...n){if(r=zt(r),arguments.length===1&&(e=j0.newId()),KA("doc","path",e),r instanceof cf){const s=it.fromString(e,...n);return sT(s),new cn(r,null,new ge(s))}{if(!(r instanceof cn||r instanceof rs))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return sT(s),new cn(r.firestore,r instanceof rs?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class cT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new NA(this,"async_queue_retry"),this.ju=()=>{const s=Pm();s&&le(uT,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new dr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!xo(e))throw e;le(uT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,_r("INTERNAL UNHANDLED ERROR: ",hT(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ee(47125,{ec:hT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function hT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ds extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new cT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cT(e),this._firestoreClient=void 0,await e}}}function T2(r,e){const n=typeof r=="object"?r:Ep(),s=typeof r=="string"?r:Nh,o=$h(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BT("firestore");u&&E2(o,...u)}return o}function hf(r){if(r._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,T){return new FN(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,$A(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new m2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Yt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^__.*__$/;class S2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{oc:r})}}class mf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WA(this.oc)&&b2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class w2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}dc(e,n,s,o=!1){return new mf({oc:e,methodName:n,Ec:s,path:Qt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(r){const e=r._freezeSettings(),n=of(r._databaseId);return new w2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(r,e,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,n,o);ug("Data must be an object, but it was:",f,s);const m=JA(s,f);let p,g;if(u.merge)p=new Nn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const S=cp(e,w,n);if(!f.contains(S))throw new de(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tb(T,S)||T.push(S)}p=new Nn(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new S2(new pn(m),p,g)}class pf extends df{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function R2(r,e,n){return new mf({oc:3,Ec:e.settings.Ec,methodName:r._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lg extends df{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=R2(this,e,!0),s=this.Ac.map(u=>Ru(u,n)),o=new Eo(s);return new _x(e.path,o)}isEqual(e){return e instanceof lg&&ss(this.Ac,e.Ac)}}function I2(r,e,n,s){const o=r.dc(1,e,n);ug("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();_s(s,(p,g)=>{const T=cg(e,p,n);g=zt(g);const w=o.hc(T);if(g instanceof pf)u.push(T);else{const S=Ru(g,w);S!=null&&(u.push(T),f.set(T,S))}});const m=new Nn(u);return new XA(f,m,o.fieldTransforms)}function C2(r,e,n,s,o,u){const f=r.dc(1,e,n),m=[cp(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(cp(e,u[S])),p.push(u[S+1]);const g=[],T=pn.empty();for(let S=m.length-1;S>=0;--S)if(!tb(g,m[S])){const D=m[S];let k=p[S];k=zt(k);const K=f.hc(D);if(k instanceof pf)g.push(D);else{const z=Ru(k,K);z!=null&&(g.push(D),T.set(D,z))}}const w=new Nn(g);return new XA(T,w,f.fieldTransforms)}function Ru(r,e){if(eb(r=zt(r)))return ug("Unsupported field value:",e,r),JA(r,e);if(r instanceof df)return function(s,o){if(!WA(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ru(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:yA(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ag)return function(f,m){return{mapValue:{fields:{[K0]:{stringValue:Q0},[xh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Lp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${rg(s)}`)}(r,e)}function JA(r,e){const n={};return B0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,(s,o)=>{const u=Ru(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function eb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof sg||r instanceof bo||r instanceof cn||r instanceof df||r instanceof ag)}function ug(r,e,n){if(!eb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=rg(n);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function cp(r,e,n){if((e=zt(e))instanceof ff)return e._internalPath;if(typeof e=="string")return cg(r,e);throw zh("Field path arguments must be of type string or ",r,!1,void 0,n)}const N2=new RegExp("[~\\*/\\[\\]]");function cg(r,e,n){if(e.search(N2)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+r+p)}function tb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ib("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x2 extends nb{data(){return super.data()}}function ib(r,e){return typeof e=="string"?cg(r,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D2{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new ag(u)}convertGeoPoint(e){return new sg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ls(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);He(SA(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends nb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ib("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class yh extends ab{data(e={}){return super.data(e)}}class ob{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:O2(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){r=xn(r,cn);const e=xn(r.firestore,ds);return _2(hf(e),r._key).then(n=>fb(e,r,n))}class hg extends D2{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function P2(r){r=xn(r,wu);const e=xn(r.firestore,ds),n=hf(e),s=new hg(e);return rb(r._query),y2(n,r._query).then(o=>new ob(e,s,r,o))}function ub(r,e,n){r=xn(r,cn);const s=xn(r.firestore,ds),o=sb(r.converter,e,n);return fg(s,[ZA(og(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ei.none())])}function cb(r,e,n,...s){r=xn(r,cn);const o=xn(r.firestore,ds),u=og(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof ff?C2(u,"updateDoc",r._key,e,n,s):I2(u,"updateDoc",r._key,e),fg(o,[f.toMutation(r._key,ei.exists(!0))])}function k2(r,e){const n=xn(r.firestore,ds),s=vr(r),o=sb(r.converter,e);return fg(n,[ZA(og(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function hb(r,...e){var n,s,o;r=zt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||fT(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(fT(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,T;if(r instanceof cn)g=xn(r.firestore,ds),T=ef(r._key.path),p={next:w=>{e[f]&&e[f](fb(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=xn(r,wu);g=xn(w.firestore,ds),T=w._query;const S=new hg(g);p={next:D=>{e[f]&&e[f](new ob(g,S,w,D))},error:e[f+1],complete:e[f+2]},rb(r._query)}return function(S,D,k,K){const z=new ig(K),Q=new eg(D,z,k);return S.asyncQueue.enqueueAndForget(async()=>Wp(await jh(S),Q)),()=>{z.yu(),S.asyncQueue.enqueueAndForget(async()=>Zp(await jh(S),Q))}}(hf(g),T,m,p)}function fg(r,e){return function(s,o){const u=new dr;return s.asyncQueue.enqueueAndForget(async()=>s2(await g2(s),o,u)),u.promise}(hf(r),e)}function fb(r,e,n){const s=n.docs.get(e._key),o=new hg(r);return new ab(r,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}function M2(...r){return new lg("arrayUnion",r)}(function(e,n=!0){(function(o){Co=o})(ua),ra(new as("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ds(new IN(s.getProvider("auth-internal")),new xN(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ai(gE,_E,e),Ai(gE,_E,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebasestorage.googleapis.com",V2="storageBucket",L2=2*60*1e3,U2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Mi{constructor(e,n,s=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function Mm(r){return"storage/"+r}function j2(){const r="An unknown error occurred, please check the error payload for server response.";return new Vi(xi.UNKNOWN,r)}function z2(){return new Vi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B2(){return new Vi(xi.CANCELED,"User canceled the upload/download.")}function q2(r){return new Vi(xi.INVALID_URL,"Invalid URL '"+r+"'.")}function H2(r){return new Vi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function dT(r){return new Vi(xi.INVALID_ARGUMENT,r)}function mb(){return new Vi(xi.APP_DELETED,"The Firebase app was deleted.")}function F2(r){return new Vi(xi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(s.path==="")return s;throw H2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${T}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},K=n===db?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",Q=new RegExp(`^https?://${K}/${o}/${z}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:D,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ee.length;ue++){const ce=ee[ue],Ae=ce.regex.exec(e);if(Ae){const M=Ae[ce.indices.bucket];let R=Ae[ce.indices.path];R||(R=""),s=new Jn(M,R),ce.postModify(s);break}}if(s==null)throw q2(e);return s}}class G2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...z){g||(g=!0,e.apply(null,z))}function w(z){o=setTimeout(()=>{o=null,r(D,p())},z)}function S(){u&&clearTimeout(u)}function D(z,...Q){if(g){S();return}if(z){S(),T.call(null,z,...Q);return}if(p()||f){S(),T.call(null,z,...Q);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,w(ee)}let k=!1;function K(z){k||(k=!0,S(),!g&&(o!==null?(z||(m=2),clearTimeout(o),w(0)):z||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function K2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r){return r!==void 0}function mT(r,e,n,s){if(s<e)throw dT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw dT(`Invalid value for '${r}'. Expected ${n} or less.`)}function Y2(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Bh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,s,o,u,f,m,p,g,T,w,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=w,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,k)=>{this.resolve_=D,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Bh.NO_ERROR,p=u.getStatus();if(!m||X2(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Bh.ABORT;s(!1,new rh(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new rh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Q2(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=j2();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?mb():B2();f(p)}else{const p=z2();f(p)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=$2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Z2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function J2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function tO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function nO(r,e,n,s,o,u,f=!0){const m=Y2(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return eO(g,e),Z2(g,n),J2(g,u),tO(g,s),new W2(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function rO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qh(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rO(this._location.path)}get storage(){return this._service}get parent(){const e=iO(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new qh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw F2(e)}}function pT(r,e){const n=e==null?void 0:e[V2];return n==null?null:Jn.makeFromBucketSpec(n,r)}function sO(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:FT(o,r.app.options.projectId))}class aO{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=L2,this._maxUploadRetryTime=U2,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=pT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=pT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new G2(mb());{const f=nO(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const gT="@firebase/storage",_T="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="storage";function oO(r=Ep(),e){r=zt(r);const s=$h(r,pb).getImmediate({identifier:e}),o=BT("storage");return o&&lO(s,...o),s}function lO(r,e,n,s={}){sO(r,e,n,s)}function uO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new aO(n,s,o,e,ua)}function cO(){ra(new as(pb,uO,"PUBLIC").setMultipleInstances(!0)),Ai(gT,_T,""),Ai(gT,_T,"esm2017")}cO();const hO={apiKey:"AIzaSyCoDUqJjgAFA6Wu3thjuYgFxfBCoZcEwPM",authDomain:"sport-social-774c6.firebaseapp.com",projectId:"sport-social-774c6",storageBucket:"sport-social-774c6.appspot.com",messagingSenderId:"784680932411",appId:"1:784680932411:web:c28326c539fe0614c0381e"},dg=KT(hO),Di=T2(dg),So=xp(dg);oO(dg);function fO(){const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),f=ki(),m=async p=>{p.preventDefault();try{await cC(So,r,n),console.log("Inicio de sesión exitoso"),f("/profile")}catch(g){console.error("Error al iniciar sesión:",g.message),u("Correo o contraseña incorrectos.")}};return E.jsxs("div",{className:vi.loginContainer,children:[E.jsx("img",{src:VT,alt:"Logo de SportSocial",className:vi.logo}),E.jsxs("div",{className:vi.containerInicio,children:[E.jsx("h1",{children:"Acceder"}),E.jsxs("form",{onSubmit:m,children:[E.jsxs("div",{className:vi.inputContainer,children:[E.jsx("i",{className:"fas fa-envelope"}),E.jsx("input",{type:"email",placeholder:"Ingresa tu correo",value:r,onChange:p=>e(p.target.value),required:!0})]}),E.jsxs("div",{className:vi.inputContainer,children:[E.jsx("i",{className:"fas fa-lock"}),E.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",value:n,onChange:p=>s(p.target.value),required:!0})]}),o&&E.jsx("div",{className:vi.errorMessage,children:o}),E.jsxs("button",{type:"submit",className:vi.loginButton,children:[E.jsx("span",{children:"Iniciar Sesión"}),E.jsx("i",{className:"fa-solid fa-chevron-right"})]})]}),E.jsx("div",{className:vi.containerCrear,children:E.jsxs("p",{children:[E.jsx("span",{className:vi.questionText,children:"¿Eres nuevo(a)?"})," ",E.jsx("span",{onClick:()=>f("/createAccount"),className:vi.createAccountText,children:"Crear Cuenta"})]})})]})]})}const dO="_profileContainer_1d1gh_27",mO="_profileHeader_1d1gh_49",pO="_profileImage_1d1gh_77",gO="_iconoSalida_1d1gh_97",_O="_iconoEditar_1d1gh_99",yO="_profileDetails_1d1gh_149",vO="_nameAge_1d1gh_169",EO="_age_1d1gh_199",TO="_description_1d1gh_211",AO="_sports_1d1gh_229",bO="_eventsButton_1d1gh_267",wn={profileContainer:dO,profileHeader:mO,profileImage:pO,iconoSalida:gO,iconoEditar:_O,profileDetails:yO,nameAge:vO,age:EO,description:TO,sports:AO,eventsButton:bO},SO="https://OspinaFelipeDev.github.io/sport-social-app/assets/pro-DS7Tbm-A.png";function wO(){const r=ki(),[e,n]=F.useState(null),[s,o]=F.useState(!0);return F.useEffect(()=>{(async()=>{const f=So.currentUser;if(!f){r("/login");return}try{const m=vr(Di,"users",f.uid),p=await lb(m);p.exists()?n(p.data()):console.warn("No se encontraron datos del usuario")}catch(m){console.error("Error al obtener datos del usuario:",m.message)}finally{o(!1)}})()},[r]),s?E.jsx("p",{className:wn.loading,children:"Cargando perfil..."}):e?E.jsxs("div",{className:wn.profileContainer,children:[E.jsxs("div",{className:wn.profileHeader,children:[E.jsx("i",{className:`fa-solid fa-right-from-bracket ${wn.iconoSalida}`,onClick:()=>r("/login")}),E.jsx("img",{src:e.fotoPerfil||SO,alt:"Foto de perfil",className:wn.profileImage}),E.jsx("i",{className:`fa-solid fa-user-pen ${wn.iconoEditar}`,onClick:()=>r("/completeProfile")})]}),E.jsxs("div",{className:wn.profileDetails,children:[E.jsxs("div",{className:wn.nameAge,children:[E.jsx("h1",{children:e.name||"Sin nombre"}),E.jsx("span",{className:wn.age,children:e.edad})]}),E.jsx("p",{className:wn.description,children:e.descripcion||"Sin descripción"}),E.jsx("div",{className:wn.sports,children:E.jsx("p",{children:e.deportes||"Sin deportes especificados"})}),E.jsx("button",{className:wn.eventsButton,onClick:()=>r("/choose"),children:"Eventos para hoy"})]})]}):E.jsx("p",{className:wn.error,children:"No se encontraron datos del perfil."})}const RO="_chooseContainer_11s0g_33",IO="_header_11s0g_53",CO="_containerHeader_11s0g_61",NO="_iconoVolver_11s0g_73",xO="_main_11s0g_123",DO="_linkContainer_11s0g_139",OO="_containerCreate_11s0g_149",PO="_containerJoin_11s0g_151",kO="_imageContainer_11s0g_241",MO="_iconoGo_11s0g_275",Rn={chooseContainer:RO,header:IO,containerHeader:CO,iconoVolver:NO,main:xO,linkContainer:DO,containerCreate:OO,containerJoin:PO,imageContainer:kO,iconoGo:MO},VO="https://OspinaFelipeDev.github.io/sport-social-app/assets/choose-mwo3Sc3j.png",LO="https://OspinaFelipeDev.github.io/sport-social-app/assets/join-CTwjUJjY.png",UO=()=>E.jsxs("div",{className:Rn.chooseContainer,children:[E.jsx("header",{className:Rn.header,children:E.jsxs("div",{className:Rn.containerHeader,children:[E.jsx(st,{to:"/profile",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Rn.iconoVolver}`})}),E.jsx("h1",{children:"Escoger"})]})}),E.jsxs("main",{className:Rn.main,children:[E.jsx(st,{to:"/where",className:Rn.linkContainer,children:E.jsxs("section",{className:Rn.containerCreate,children:[E.jsx("h2",{children:"Crear"}),E.jsx("p",{children:"Crea un encuentro deportivo, gestiona y sé el administrador del grupo."}),E.jsxs("div",{className:Rn.imageContainer,children:[E.jsx("img",{src:VO,alt:"Crear Encuentro"}),E.jsx("i",{className:`fa-solid fa-chevron-right ${Rn.iconoGo}`})]})]})}),E.jsx(st,{to:"/eventsNow",className:Rn.linkContainer,children:E.jsxs("section",{className:Rn.containerJoin,children:[E.jsx("h2",{children:"Unirse"}),E.jsx("p",{children:"Únete a un encuentro deportivo, escoge el deporte y la posición en la cual vas a participar."}),E.jsxs("div",{className:Rn.imageContainer,children:[E.jsx("img",{src:LO,alt:"Unirse a Encuentro"}),E.jsx("i",{className:`fa-solid fa-chevron-right ${Rn.iconoGo}`})]})]})})]})]}),jO="_whereContainer_skdug_27",zO="_whereHeader_skdug_49",BO="_containerHeader_skdug_59",qO="_iconoVolver_skdug_77",HO="_whereTitle_skdug_105",FO="_locationContainer_skdug_119",GO="_mapPlaceholder_skdug_139",$O="_mapImage_skdug_147",KO="_searchBox_skdug_171",QO="_locationInput_skdug_197",YO="_searchIcon_skdug_213",XO="_sectionTitle_skdug_223",WO="_dateTimeContainer_skdug_241",ZO="_datePickerContainer_skdug_259",JO="_timePickerContainer_skdug_261",eP="_dateInput_skdug_273",tP="_timeInput_skdug_275",nP="_sportSelectorContainer_skdug_299",iP="_customSelect_skdug_315",rP="_sportSelect_skdug_299",sP="_whereFooter_skdug_357",aP="_createEventButton_skdug_369",nt={whereContainer:jO,whereHeader:zO,containerHeader:BO,iconoVolver:qO,whereTitle:HO,locationContainer:FO,mapPlaceholder:GO,mapImage:$O,searchBox:KO,locationInput:QO,searchIcon:YO,sectionTitle:XO,dateTimeContainer:WO,datePickerContainer:ZO,timePickerContainer:JO,dateInput:eP,timeInput:tP,sportSelectorContainer:nP,customSelect:iP,sportSelect:rP,whereFooter:sP,createEventButton:aP},oP="https://OspinaFelipeDev.github.io/sport-social-app/assets/ubication-BCsGlNmH.jpeg",lP=()=>{const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),[p,g]=F.useState(null),T=ki();F.useEffect(()=>{const S=dC(So,D=>{g(D||null)});return()=>S()},[]);const w=async()=>{if(!r||!n||!o||!f){alert("Por favor completa todos los campos.");return}if(!p){alert("Debes iniciar sesión para crear un evento.");return}try{const S=await k2(YA(Di,"eventos"),{location:r,date:n,time:o,sport:f,createdAt:new Date,userId:p.uid,userEmail:p.email});T(`/meeting/${S.id}`)}catch(S){console.error("Error al crear el evento:",S),alert("Ocurrió un error al crear el evento.")}};return E.jsxs("div",{className:nt.whereContainer,children:[E.jsx("header",{className:nt.whereHeader,children:E.jsxs("div",{className:nt.containerHeader,children:[E.jsx(st,{to:"/choose",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${nt.iconoVolver}`})}),E.jsx("h1",{className:nt.whereTitle,children:"Dónde"})]})}),E.jsxs("main",{className:nt.whereMain,children:[E.jsxs("div",{className:nt.locationContainer,children:[E.jsx("div",{className:nt.mapPlaceholder,children:E.jsx("img",{src:oP,alt:"Mapa del lugar",className:nt.mapImage})}),E.jsxs("div",{className:nt.searchBox,children:[E.jsx("input",{type:"text",placeholder:"Buscar lugar...",className:nt.locationInput,value:r,onChange:S=>e(S.target.value)}),E.jsx("i",{className:`fas fa-search ${nt.searchIcon}`})]})]}),E.jsx("h2",{className:nt.sectionTitle,children:"Hora y fecha"}),E.jsxs("div",{className:nt.dateTimeContainer,children:[E.jsx("div",{className:nt.datePickerContainer,children:E.jsx("input",{type:"date",id:"event-date",className:nt.dateInput,value:n,onChange:S=>s(S.target.value)})}),E.jsx("div",{className:nt.timePickerContainer,children:E.jsx("input",{type:"time",id:"event-time",className:nt.timeInput,value:o,onChange:S=>u(S.target.value)})})]}),E.jsx("h3",{className:nt.sectionTitle,children:"Escoger deporte"}),E.jsx("div",{className:nt.sportSelectorContainer,children:E.jsx("div",{className:nt.customSelect,children:E.jsxs("select",{id:"sport-select",className:nt.sportSelect,value:f,onChange:S=>m(S.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccionar un deporte"}),E.jsx("option",{value:"futbol",children:"Fútbol"}),E.jsx("option",{value:"baloncesto",children:"Baloncesto"}),E.jsx("option",{value:"voleibol",children:"Voleibol"})]})})})]}),E.jsx("footer",{className:nt.whereFooter,children:E.jsx("button",{className:nt.createEventButton,onClick:w,children:E.jsx("span",{children:"Crear Evento"})})})]})},uP="_createAccount_bnyp1_29",cP="_header_bnyp1_47",hP="_backButton_bnyp1_65",fP="_main_bnyp1_111",dP="_form_bnyp1_129",mP="_inputContainer_bnyp1_165",pP="_containerTerminos_bnyp1_219",gP="_checkboxContainer_bnyp1_239",_P="_path_bnyp1_267",yP="_containerCheck_bnyp1_299",vP="_buttonContainer_bnyp1_337",EP="_footer_bnyp1_405",TP="_containerCrear_bnyp1_423",AP="_linkButton_bnyp1_447",Nt={createAccount:uP,header:cP,backButton:hP,main:fP,form:dP,inputContainer:mP,containerTerminos:pP,checkboxContainer:gP,path:_P,containerCheck:yP,buttonContainer:vP,footer:EP,containerCrear:TP,linkButton:AP},bP=()=>{const r=ki(),[e,n]=F.useState(""),[s,o]=F.useState(""),[u,f]=F.useState(""),[m,p]=F.useState(""),[g,T]=F.useState(!1),[w,S]=F.useState(""),D=async k=>{if(k.preventDefault(),!g){S("Debes aceptar los términos y condiciones.");return}if(u!==m){S("Las contraseñas no coinciden.");return}try{const z=(await uC(So,s,u)).user;await ub(vr(Di,"users",z.uid),{name:e,email:s,createdAt:new Date}),console.log("Cuenta creada correctamente"),r("/completeProfile")}catch(K){console.error("Error al crear la cuenta:",K.message),S("Error al crear la cuenta. Intenta con otro correo.")}};return E.jsxs("div",{className:Nt.createAccount,children:[E.jsxs("header",{className:Nt.header,children:[E.jsx("button",{className:Nt.backButton,onClick:()=>r("/login"),children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Nt.iconoVolver}`})}),E.jsx("img",{src:VT,alt:"Logo"})]}),E.jsx("main",{className:Nt.main,children:E.jsxs("form",{className:Nt.form,onSubmit:D,children:[E.jsx("h1",{children:"Crear Cuenta"}),E.jsxs("div",{className:Nt.inputContainer,children:[E.jsx("i",{className:"fas fa-user"}),E.jsx("input",{type:"text",placeholder:"Nombre completo",value:e,onChange:k=>n(k.target.value),required:!0})]}),E.jsxs("div",{className:Nt.inputContainer,children:[E.jsx("i",{className:"fas fa-envelope"}),E.jsx("input",{type:"email",placeholder:"Correo Electrónico",value:s,onChange:k=>o(k.target.value),required:!0})]}),E.jsxs("div",{className:Nt.inputContainer,children:[E.jsx("i",{className:"fas fa-lock"}),E.jsx("input",{type:"password",placeholder:"Contraseña",value:u,onChange:k=>f(k.target.value),required:!0})]}),E.jsxs("div",{className:Nt.inputContainer,children:[E.jsx("i",{className:"fas fa-lock"}),E.jsx("input",{type:"password",placeholder:"Repite tu contraseña",value:m,onChange:k=>p(k.target.value),required:!0})]}),w&&E.jsx("div",{className:Nt.errorMessage,children:w}),E.jsxs("div",{className:Nt.containerTerminos,children:[E.jsxs("label",{className:Nt.checkboxContainer,children:[E.jsx("input",{type:"checkbox",checked:g,onChange:()=>T(!g)}),E.jsx("svg",{viewBox:"0 0 64 64",height:"3em",width:"3em",children:E.jsx("path",{d:"M 0 16 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 16 L 32 48 L 64 16 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 16",className:Nt.path})})]}),E.jsx("div",{className:Nt.containerCheck,children:E.jsxs("p",{children:[E.jsx("span",{children:"Al crear una cuenta, acepto los "}),E.jsx(st,{to:"/terms",children:"términos y condiciones y la política de privacidad."})]})})]}),E.jsx("div",{className:Nt.buttonContainer,children:E.jsx("button",{type:"submit",children:E.jsx("span",{children:"Crear"})})})]})}),E.jsx("footer",{className:Nt.footer,children:E.jsx("div",{className:Nt.containerCrear,children:E.jsxs("p",{children:[E.jsx("span",{children:"¿Ya tienes una cuenta? "}),E.jsx("button",{className:Nt.linkButton,onClick:()=>r("/login"),children:"Ingresar"})]})})})]})},SP="_termsContainer_1wns0_19",wP="_header_1wns0_31",RP="_iconoVolver_1wns0_49",IP="_title_1wns0_61",CP="_main_1wns0_73",Fl={termsContainer:SP,header:wP,iconoVolver:RP,title:IP,main:CP},NP=()=>E.jsxs("div",{className:Fl.termsContainer,children:[E.jsxs("header",{className:Fl.header,children:[E.jsx(st,{to:"/createAccount",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Fl.iconoVolver}`})}),E.jsx("h1",{className:Fl.title,children:"Términos y condiciones"})]}),E.jsxs("main",{className:Fl.main,children:[E.jsx("p",{children:"1. Aceptación de los Términos Al acceder y utilizar la aplicación, el usuario acepta los términos y condiciones establecidos. Si no está de acuerdo con estos términos, no podrá utilizar los servicios proporcionados por la aplicación."}),E.jsx("p",{children:"2. Requisitos del Usuario Para utilizar la aplicación, el usuario debe tener al menos 15 años de edad o contar con el consentimiento de un tutor legal. El usuario se compromete a proporcionar información precisa y actualizada al momento de registrarse."}),E.jsx("p",{children:"3. Registro y Seguridad de la Cuenta El usuario es responsable de mantener la confidencialidad de su cuenta y contraseña. Cualquier actividad realizada en su cuenta será considerada responsabilidad del usuario. En caso de sospecha de un uso no autorizado de la cuenta, el usuario debe notificarlo inmediatamente."}),E.jsx("p",{children:"4. Uso Permitido La aplicación está diseñada para la organización de encuentros deportivos y la asignación de tareas en actividades deportivas. El usuario se compromete a utilizar la aplicación de acuerdo con las leyes aplicables, y no podrá usar la plataforma para fines ilegales o no autorizados."}),E.jsx("p",{children:"5. Creación y Participación en Encuentros El usuario podrá crear y participar en encuentros deportivos, eligiendo el deporte, la posición, el horario y el equipo. El administrador del encuentro es responsable de gestionar los participantes y asignar tareas."}),E.jsx("p",{children:"6. Derechos de Propiedad Intelectual La aplicación y su contenido, incluyendo pero no limitándose a textos, gráficos, logos y software, están protegidos por derechos de autor. El usuario no podrá reproducir, distribuir ni modificar el contenido sin el permiso correspondiente."}),E.jsx("p",{children:"7. Privacidad y Datos Personales Los datos personales proporcionados por el usuario serán manejados conforme a nuestra Política de Privacidad, y serán utilizados para la gestión de la cuenta, participación en encuentros y otras funcionalidades relacionadas. El usuario autoriza el tratamiento de sus datos al registrarse en la aplicación."}),E.jsx("p",{children:"8. Modificaciones de los Términos La aplicación se reserva el derecho de modificar estos términos y condiciones en cualquier momento. Los cambios serán publicados en la aplicación, y la continuación del uso de la misma implicará la aceptación de los términos actualizados."}),E.jsx("p",{children:"9. Limitación de Responsabilidad La aplicación no será responsable por daños directos, indirectos, incidentales o consecuentes resultantes del uso de la plataforma, incluyendo la pérdida de datos o interrupciones en los servicios."}),E.jsx("p",{children:"10. Resolución de Disputas Cualquier disputa relacionada con estos términos será resuelta a través de arbitraje, conforme a las leyes locales. El usuario se compromete a intentar resolver cualquier conflicto de manera amistosa antes de recurrir a acciones legales."}),E.jsx("p",{children:"11. Terminación de la Cuenta La aplicación se reserva el derecho de suspender o eliminar la cuenta de cualquier usuario que incumpla estos términos y condiciones."})]})]}),xP="_container_1ao4v_29",DP="_header_1ao4v_45",OP="_title_1ao4v_65",PP="_subtitle_1ao4v_73",kP="_profileContainer_1ao4v_85",MP="_profileImage_1ao4v_101",VP="_cameraIcon_1ao4v_117",LP="_main_1ao4v_147",UP="_inputBox_1ao4v_163",jP="_footer_1ao4v_241",zP="_saveButton_1ao4v_257",ln={container:xP,header:DP,title:OP,subtitle:PP,profileContainer:kP,profileImage:MP,cameraIcon:VP,main:LP,inputBox:UP,footer:jP,saveButton:zP},BP=()=>{const[r,e]=F.useState(""),n=F.useRef(null),s=ki();F.useEffect(()=>{(async()=>{const m=So.currentUser;if(m){const p=vr(Di,"users",m.uid),g=await lb(p);g.exists()&&e(g.data().name||"")}})()},[]);const o=()=>{n.current.click()},u=async()=>{const f=So.currentUser;if(!f){console.error("Usuario no autenticado.");return}const m={residencia:document.getElementById("residencia").value,deportes:document.getElementById("deportes").value,edad:document.getElementById("edad").value,descripcion:document.getElementById("descripcion").value};try{await ub(vr(Di,"users",f.uid),m,{merge:!0}),s("/profile")}catch(p){console.error("Error al guardar perfil:",p.message)}};return E.jsxs("div",{className:ln.container,children:[E.jsxs("header",{className:ln.header,children:[E.jsx("h1",{className:ln.title,children:"Completa tu perfil"}),E.jsxs("div",{className:ln.profileContainer,children:[E.jsx("img",{id:"profileImage",src:"https://placehold.co/150x150",alt:"Foto de perfil",className:ln.profileImage}),E.jsx("div",{className:ln.cameraIcon,onClick:o,children:E.jsx("i",{className:"fas fa-camera"})}),E.jsx("input",{type:"file",ref:n,accept:"image/*",style:{display:"none"}})]}),E.jsxs("h2",{className:ln.subtitle,children:["¡Hola, ",r,"!"]}),E.jsx("p",{className:ln.subtitle,children:"Sube tu foto de perfil y completa tus datos"})]}),E.jsxs("main",{className:ln.main,children:[E.jsxs("div",{className:ln.inputBox,children:[E.jsx("i",{className:"fas fa-map-marker-alt"}),E.jsx("input",{type:"text",id:"residencia",placeholder:"Lugar de residencia",required:!0})]}),E.jsxs("div",{className:ln.inputBox,children:[E.jsx("i",{className:"fas fa-futbol"}),E.jsx("input",{type:"text",id:"deportes",placeholder:"Deportes favoritos",required:!0})]}),E.jsxs("div",{className:ln.inputBox,children:[E.jsx("i",{className:"fas fa-calendar-alt"}),E.jsx("input",{type:"number",id:"edad",placeholder:"Edad",min:"0",max:"120",required:!0})]}),E.jsx("div",{className:ln.inputBox,children:E.jsx("textarea",{id:"descripcion",placeholder:"Haz una breve descripción de ti...💁",required:!0})})]}),E.jsx("footer",{className:ln.footer,children:E.jsx("button",{className:ln.saveButton,onClick:u,children:E.jsx("span",{children:"Guardar"})})})]})},qP="_meetingContainer_114i2_31",HP="_header_114i2_53",FP="_containerName_114i2_61",GP="_iconoVolver_114i2_83",$P="_chatIconContainer_114i2_85",KP="_eventDetails_114i2_165",QP="_participantes_114i2_195",YP="_main_114i2_225",XP="_footer_114i2_299",Ei={meetingContainer:qP,header:HP,containerName:FP,iconoVolver:GP,chatIconContainer:$P,eventDetails:KP,participantes:QP,main:YP,footer:XP},da="https://OspinaFelipeDev.github.io/sport-social-app/assets/chat-Bcd6RG7e.png",yT=()=>{var m;const{id:r}=Rw(),[e,n]=F.useState(null),[s,o]=F.useState(!0);if(F.useEffect(()=>{const p=vr(Di,"eventos",r),g=hb(p,T=>{T.exists()?n(T.data()):console.log("El evento no existe"),o(!1)},T=>{console.error("Error al obtener el evento:",T),o(!1)});return()=>g()},[r]),s)return E.jsx("p",{children:"Cargando evento..."});if(!e)return E.jsx("p",{children:"No se encontró el evento."});const u=((m=e.participantes)==null?void 0:m.length)||0,f=e.maxParticipantes||0;return E.jsxs("div",{className:Ei.meetingContainer,children:[E.jsxs("header",{className:Ei.header,children:[E.jsxs("div",{className:Ei.containerName,children:[E.jsx(st,{to:"/where",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Ei.iconoVolver}`})}),E.jsx("p",{id:"deporte-seleccionado",children:e.sport}),E.jsx("div",{className:Ei.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",className:Ei.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Chat icon"})})})]}),E.jsxs("div",{className:Ei.eventDetails,children:[E.jsx("p",{id:"lugar-seleccionado",children:e.location}),E.jsx("p",{id:"fecha-seleccionada",children:e.date}),E.jsx("p",{id:"hora-seleccionada",children:e.time})]}),E.jsxs("p",{className:Ei.participantes,children:["Participantes ",E.jsxs("span",{id:"participantes-actual",children:["(",u]}),"/",E.jsxs("span",{id:"participantes-total",children:[f,")"]})]})]}),E.jsxs("main",{className:Ei.main,children:[E.jsx(st,{to:"/assignPositions",state:{id:r},children:E.jsx("button",{children:E.jsx("span",{children:"Asignar Posición*"})})}),E.jsx(st,{to:"/tasks",children:E.jsx("button",{children:E.jsx("span",{children:"Asignar tareas"})})}),E.jsx(st,{to:"/participants",children:E.jsx("button",{children:E.jsx("span",{children:"Ver participantes"})})}),E.jsx(st,{to:"/fileMeeting",children:E.jsx("button",{children:E.jsx("span",{children:"Mostrar ficha del encuentro"})})})]}),E.jsxs("footer",{className:Ei.footer,children:[E.jsx(st,{to:"/choose",children:E.jsx("button",{children:E.jsx("span",{children:"Fin del encuentro"})})}),E.jsx("p",{children:"*El administrador deberá asignar las posiciones en caso de ser necesario"})]})]})},WP="_assignContainer_c7rtm_35",ZP="_header_c7rtm_51",JP="_containerName_c7rtm_59",ek="_chatIconContainer_c7rtm_113",tk="_field_c7rtm_141",nk="_player_c7rtm_177",ik="_blue_c7rtm_211",rk="_red_c7rtm_219",sk="_dropdownBtn_c7rtm_227",ak="_dropdownContent_c7rtm_247",ok="_footer_c7rtm_539",Fn={assignContainer:WP,header:ZP,containerName:JP,chatIconContainer:ek,field:tk,player:nk,blue:ik,red:rk,dropdownBtn:sk,dropdownContent:ak,"blue-position-1":"_blue-position-1_c7rtm_317","blue-position-2":"_blue-position-2_c7rtm_327","blue-position-3":"_blue-position-3_c7rtm_337","blue-position-4":"_blue-position-4_c7rtm_347","blue-position-5":"_blue-position-5_c7rtm_357","blue-position-6":"_blue-position-6_c7rtm_367","blue-position-7":"_blue-position-7_c7rtm_377","blue-position-8":"_blue-position-8_c7rtm_387","blue-position-9":"_blue-position-9_c7rtm_397","blue-position-10":"_blue-position-10_c7rtm_407","blue-position-11":"_blue-position-11_c7rtm_417","red-position-1":"_red-position-1_c7rtm_427","red-position-2":"_red-position-2_c7rtm_437","red-position-3":"_red-position-3_c7rtm_447","red-position-4":"_red-position-4_c7rtm_457","red-position-5":"_red-position-5_c7rtm_467","red-position-6":"_red-position-6_c7rtm_477","red-position-7":"_red-position-7_c7rtm_487","red-position-8":"_red-position-8_c7rtm_497","red-position-9":"_red-position-9_c7rtm_507","red-position-10":"_red-position-10_c7rtm_517","red-position-11":"_red-position-11_c7rtm_527",footer:ok},vT=(r,e,n,s)=>Array.from({length:11},(o,u)=>{var p;const f=u+1,m=(p=e==null?void 0:e[r])==null?void 0:p[f];return E.jsxs("div",{className:`${Fn.player} ${Fn[r]} ${Fn[`${r}-position-${f}`]}`,children:[E.jsx("span",{children:f}),E.jsx("button",{className:Fn.dropdownBtn,children:E.jsx("i",{className:"fas fa-chevron-down"})}),E.jsx("ul",{className:Fn.dropdownContent,children:n.map(g=>E.jsx("li",{onClick:()=>s(r,f,g),children:g.nombre},g.uid))}),m&&E.jsx("p",{className:Fn.assignedName,children:m.nombre})]},`${r}-${f}`)}),lk=r=>{const e={};for(const n in r){e[n]={};for(const s in r[n]){const o=r[n][s];o&&o.uid&&(e[n][s]=o)}}return e},uk=()=>{var w;const r=ms(),e=ki(),n=(w=r.state)==null?void 0:w.id,[s,o]=F.useState(null),[u,f]=F.useState(!0);F.useEffect(()=>{if(!n)return;const S=vr(Di,"eventos",n),D=hb(S,k=>{if(k.exists()){const K=k.data();o(K)}else console.log("Evento no encontrado");f(!1)});return()=>D()},[n]);const m=(S,D,k)=>{var z;const K={...s.posiciones,[S]:{...(z=s.posiciones)==null?void 0:z[S],[D]:{uid:k.uid,nombre:k.nombre}}};o(Q=>({...Q,posiciones:K}))},p=async()=>{if(!s||!s.posiciones){alert("No hay posiciones asignadas.");return}const S=lk(s.posiciones);if(Object.keys(S.blue||{}).length===0&&Object.keys(S.red||{}).length===0){alert("Debes asignar al menos una posición antes de guardar.");return}try{const D=vr(Di,"eventos",n);await cb(D,{posiciones:S}),e("/tasks")}catch(D){console.error("Error al guardar las posiciones:",D)}};if(u)return E.jsx("p",{children:"Cargando posiciones..."});if(!s)return E.jsx("p",{children:"Evento no encontrado"});const g=s.participantes||[],T=s.posiciones||{};return E.jsxs("div",{className:Fn.assignContainer,children:[E.jsx("header",{className:Fn.header,children:E.jsxs("div",{className:Fn.containerName,children:[E.jsx(st,{to:`/meeting/${n}`,children:E.jsx("i",{className:"fa-solid fa-circle-arrow-left"})}),E.jsx("p",{children:"Asignar posiciones"}),E.jsx("div",{className:Fn.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",target:"_blank",rel:"noopener noreferrer",children:E.jsx("img",{src:da,alt:"chat"})})})]})}),E.jsxs("main",{className:Fn.field,children:[vT("blue",T,g,m),vT("red",T,g,m)]}),E.jsx("footer",{className:Fn.footer,children:E.jsx("button",{onClick:p,children:E.jsx("span",{children:"Guardar"})})})]})},ck="_container_179yk_29",hk="_header_179yk_49",fk="_containerName_179yk_57",dk="_iconoVolver_179yk_77",mk="_chatIconContainer_179yk_111",pk="_asignarTarea_179yk_139",gk="_assignedTasks_179yk_141",_k="_customSelect_179yk_191",yk="_participantSelect_179yk_213",vk="_taskSelect_179yk_215",Ek="_selectIcon_179yk_237",Tk="_taskIcon_179yk_239",Ak="_assignButton_179yk_253",bk="_tasksList_179yk_295",Sk="_removeButton_179yk_359",wk="_footer_179yk_385",Rk="_saveButton_179yk_413",Ik="_footerNote_179yk_445",Tt={container:ck,header:hk,containerName:fk,iconoVolver:dk,chatIconContainer:mk,asignarTarea:pk,assignedTasks:gk,customSelect:_k,participantSelect:yk,taskSelect:vk,selectIcon:Ek,taskIcon:Tk,assignButton:Ak,tasksList:bk,removeButton:Sk,footer:wk,saveButton:Rk,footerNote:Ik},Ck=()=>{const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState([]),[f,m]=F.useState([]);F.useEffect(()=>{m([{uid:"1",nombre:"Carlos",equipo:"Rojo"},{uid:"2",nombre:"Lucía",equipo:"Rojo"},{uid:"3",nombre:"Mateo",equipo:"Azul"},{uid:"4",nombre:"Sofía",equipo:"Azul"}])},[]);const p=()=>{if(r&&n){const S=f.find(k=>k.uid===n),D={task:r,participant:(S==null?void 0:S.nombre)||"Desconocido"};u([...o,D]),e(""),s("")}},g=S=>{const D=o.filter((k,K)=>K!==S);u(D)},T=f.filter(S=>S.equipo==="Rojo"),w=f.filter(S=>S.equipo==="Azul");return E.jsxs("div",{className:Tt.container,children:[E.jsx("header",{className:Tt.header,children:E.jsxs("div",{className:Tt.containerName,children:[E.jsx(st,{to:"/meeting",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Tt.iconoVolver}`})}),E.jsx("p",{id:"deporte-seleccionado",children:"Tareas"}),E.jsx("div",{className:Tt.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",className:Tt.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Chat"})})})]})}),E.jsxs("main",{children:[E.jsxs("div",{className:Tt.asignarTarea,children:[E.jsx("h3",{children:"Asignar Tareas"}),E.jsx("label",{htmlFor:"task-select",children:"Selecciona una tarea:"}),E.jsxs("div",{className:Tt.customSelect,children:[E.jsxs("select",{id:"task-select",className:Tt.taskSelect,value:r,onChange:S=>e(S.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Elige una tarea"}),E.jsx("option",{value:"implementos",children:"Llevar implementos deportivos"}),E.jsx("option",{value:"agua",children:"Repartir agua"}),E.jsx("option",{value:"arbitro",children:"Hacer de árbitro"}),E.jsx("option",{value:"anotaciones",children:"Llevar anotaciones"}),E.jsx("option",{value:"fotografia",children:"Tomar fotografías"}),E.jsx("option",{value:"entrenador",children:"Apoyar como entrenador"}),E.jsx("option",{value:"equipo",children:"Organizar equipos"}),E.jsx("option",{value:"seguridad",children:"Encargarse de la seguridad"})]}),E.jsx("i",{className:`fa-solid fa-chevron-down ${Tt.taskIcon}`})]}),E.jsx("h4",{children:"Seleccionar participante:"}),E.jsxs("div",{className:Tt.customSelect,children:[E.jsxs("select",{id:"participant-select",className:Tt.participantSelect,value:n,onChange:S=>s(S.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Selecciona un participante"}),E.jsx("optgroup",{label:"Equipo Rojo",children:T.map(S=>E.jsxs("option",{value:S.uid,children:[S.nombre," (Rojo)"]},S.uid))}),E.jsx("optgroup",{label:"Equipo Azul",children:w.map(S=>E.jsxs("option",{value:S.uid,children:[S.nombre," (Azul)"]},S.uid))})]}),E.jsx("i",{className:`fa-solid fa-chevron-down ${Tt.selectIcon}`})]}),E.jsx("button",{id:"assign-task",className:Tt.assignButton,onClick:p,children:"Asignar Tarea"})]}),E.jsxs("div",{className:Tt.assignedTasks,children:[E.jsx("h3",{children:"Tareas Asignadas"}),E.jsx("ul",{id:"tasks-list",className:Tt.tasksList,children:o.map((S,D)=>E.jsxs("li",{children:["Tarea: ",S.task,", Participante: ",S.participant,E.jsx("button",{className:Tt.removeButton,onClick:()=>g(D),"aria-label":"Eliminar tarea",children:E.jsx("i",{className:"fa-solid fa-trash"})})]},D))})]})]}),E.jsxs("footer",{className:Tt.footer,children:[E.jsx(st,{to:"/meeting",children:E.jsx("button",{className:Tt.saveButton,children:E.jsx("span",{children:"Guardar"})})}),E.jsx("p",{className:Tt.footerNote,children:"*En algunos encuentros las tareas pueden variar"})]})]})},Nk="_participantsWrapper_e6j5f_29",xk="_header_e6j5f_41",Dk="_containerName_e6j5f_59",Ok="_iconoVolver_e6j5f_75",Pk="_title_e6j5f_97",kk="_chatIconContainer_e6j5f_115",Mk="_participantsMain_e6j5f_141",Vk="_participantCard_e6j5f_157",Lk="_participantAvatar_e6j5f_195",Uk="_participantInfo_e6j5f_211",jk="_participantName_e6j5f_223",zk="_participantNumber_e6j5f_237",In={participantsWrapper:Nk,header:xk,containerName:Dk,iconoVolver:Ok,title:Pk,chatIconContainer:kk,participantsMain:Mk,participantCard:Vk,participantAvatar:Lk,participantInfo:Uk,participantName:jk,participantNumber:zk},Bk=Array(10).fill({name:"Kenzo Tomioka",number:10,avatar:"https://i.pravatar.cc/60"});function qk(){return E.jsxs("div",{className:In.participantsWrapper,children:[E.jsx("header",{className:In.header,children:E.jsxs("div",{className:In.containerName,children:[E.jsx(st,{to:"/meeting",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${In.iconoVolver}`})}),E.jsx("p",{className:In.title,children:"Participantes"}),E.jsx("div",{className:In.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",className:In.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Chat"})})})]})}),E.jsx("main",{className:In.participantsMain,children:Bk.map((r,e)=>E.jsxs("div",{className:In.participantCard,children:[E.jsx("img",{className:In.participantAvatar,src:r.avatar,alt:"Avatar del Participante"}),E.jsxs("div",{className:In.participantInfo,children:[E.jsx("h2",{className:In.participantName,children:r.name}),E.jsxs("p",{className:In.participantNumber,children:["Número elegido: ",E.jsx("span",{children:r.number})]})]})]},e))})]})}const Hk="_wrapper_mhrot_29",Fk="_header_mhrot_43",Gk="_containerName_mhrot_51",$k="_iconoVolver_mhrot_71",Kk="_chatIconContainer_mhrot_107",Qk="_main_mhrot_133",Yk="_blueTitle_mhrot_141",Xk="_redTitle_mhrot_151",Wk="_equipoContainer_mhrot_161",Wn={wrapper:Hk,header:Fk,containerName:Gk,iconoVolver:$k,chatIconContainer:Kk,main:Qk,blueTitle:Yk,redTitle:Xk,equipoContainer:Wk},Zk="_card_om610_1",Jk="_bordeAzul_om610_33",eM="_bordeRojo_om610_41",tM="_foto_om610_49",sh={card:Zk,bordeAzul:Jk,bordeRojo:eM,foto:tM},hp=({nombre:r,tarea:e,posicion:n,foto:s,equipo:o})=>E.jsxs("div",{className:`${sh.card} ${o==="azul"?sh.bordeAzul:sh.bordeRojo}`,children:[E.jsx("img",{src:s,alt:r,className:sh.foto}),E.jsx("h3",{children:r}),E.jsxs("p",{children:[E.jsx("strong",{children:"Posición:"})," ",n]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Tarea:"})," ",e]})]}),nM=[{nombre:"Juan Pérez",tarea:"Llevar balones",posicion:"Delantero",foto:"https://randomuser.me/api/portraits/men/32.jpg"},{nombre:"Laura Gómez",tarea:"Llevar agua",posicion:"Portera",foto:"https://randomuser.me/api/portraits/women/44.jpg"}],iM=[{nombre:"Carlos Díaz",tarea:"Organizar defensa",posicion:"Defensa central",foto:"https://randomuser.me/api/portraits/men/28.jpg"},{nombre:"Ana Torres",tarea:"Llevar uniformes",posicion:"Lateral izquierdo",foto:"https://randomuser.me/api/portraits/women/37.jpg"},{nombre:"Ana Torres",tarea:"Llevar uniformes",posicion:"Lateral izquierdo",foto:"https://randomuser.me/api/portraits/women/37.jpg"}],rM=()=>E.jsxs("div",{className:Wn.wrapper,children:[E.jsx("header",{className:Wn.header,children:E.jsxs("div",{className:Wn.containerName,children:[E.jsx(st,{to:"/meeting",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Wn.iconoVolver}`})}),E.jsx("p",{id:"deporte-seleccionado",children:"Ficha Encuentro"}),E.jsx("div",{className:Wn.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",className:Wn.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Chat"})})})]})}),E.jsxs("main",{className:Wn.main,children:[E.jsx("h1",{className:Wn.blueTitle,children:"Equipo Azul"}),E.jsx("div",{id:"equipo-azul",className:Wn.equipoContainer,children:nM.map((r,e)=>E.jsx(hp,{nombre:r.nombre,tarea:r.tarea,posicion:r.posicion,foto:r.foto,equipo:"azul"},e))}),E.jsx("h1",{className:Wn.redTitle,children:"Equipo Rojo"}),E.jsx("div",{id:"equipo-rojo",className:Wn.equipoContainer,children:iM.map((r,e)=>E.jsx(hp,{nombre:r.nombre,tarea:r.tarea,posicion:r.posicion,foto:r.foto,equipo:"rojo"},e))})]})]}),sM="_tarjetaEncuentro_dt5lk_1",aM="_columnaDeporte_dt5lk_45",oM="_columnaHora_dt5lk_91",lM="_botonFlecha_dt5lk_121",uM="_columnaImagen_dt5lk_147",Gl={tarjetaEncuentro:sM,columnaDeporte:aM,columnaHora:oM,botonFlecha:lM,columnaImagen:uM},gb=({deporte:r,ubicacion:e,fecha:n,hora:s,imagen:o,onClick:u})=>E.jsxs("div",{className:Gl.tarjetaEncuentro,onClick:u,children:[E.jsxs("div",{className:Gl.columnaDeporte,children:[E.jsx("h2",{children:r}),E.jsx("p",{children:e}),E.jsx("p",{children:cM(n)})]}),E.jsxs("div",{className:Gl.columnaHora,children:[E.jsx("p",{children:s}),E.jsx("i",{className:`fa-solid fa-chevron-right ${Gl.botonFlecha}`})]}),E.jsx("div",{className:Gl.columnaImagen,children:E.jsx("img",{src:o,alt:"Imagen de evento"})})]}),cM=r=>{if(!r)return"";const e={day:"numeric",month:"long",year:"numeric"};return new Date(r).toLocaleDateString("es-ES",e)},hM="_wrapper_kj82g_29",fM="_header_kj82g_51",dM="_containerName_kj82g_73",mM="_main_kj82g_141",ah={wrapper:hM,header:fM,containerName:dM,main:mM},Vm="https://OspinaFelipeDev.github.io/sport-social-app/assets/balon-BwV5ZH0q.png",pM=()=>{const[r,e]=F.useState([]),n=ki(),o=xp().currentUser;F.useEffect(()=>{(async()=>{try{const p=(await P2(YA(Di,"eventos"))).docs.map(g=>{const T=g.data();return{id:g.id,deporte:T.sport,ubicacion:T.location,hora:T.time,fecha:T.date,imagen:(T.sport==="futbol"||T.sport==="baloncesto",Vm)}});e(p)}catch(m){console.error("Error al obtener eventos:",m)}})()},[]);const u=async(f,m)=>{if(!o){alert("Debes iniciar sesión para unirte a un evento.");return}const p=vr(Di,"eventos",f);try{localStorage.setItem("userName",o.displayName||"Sin nombre"),localStorage.setItem("sportName",m),await cb(p,{participantes:M2({uid:o.uid,nombre:o.displayName||"Sin nombre"})}),n("/confirmedParticipation")}catch(g){console.error("Error al unirse al evento:",g)}};return E.jsxs("div",{className:ah.wrapper,children:[E.jsx("header",{className:ah.header,children:E.jsxs("div",{className:ah.containerName,children:[E.jsx("i",{className:"fa-solid fa-circle-arrow-left",onClick:()=>n("/choose"),style:{cursor:"pointer"}}),E.jsx("p",{children:"Eventos disponibles"})]})}),E.jsx("main",{className:ah.main,children:r.length===0?E.jsx("p",{children:"No hay eventos disponibles."}):r.map(f=>E.jsx(gb,{...f,onClick:()=>u(f.id,f.deporte)},f.id))})]})},gM="_wrapper_pj5gn_27",_M="_header_pj5gn_43",yM="_containerName_pj5gn_51",vM="_iconoVolver_pj5gn_71",EM="_titulo_pj5gn_93",TM="_chatIconContainer_pj5gn_107",AM="_choosePositionMain_pj5gn_133",bM="_field_pj5gn_157",SM="_player_pj5gn_173",wM="_blue_pj5gn_205",RM="_red_pj5gn_213",IM="_dropdownBtn_pj5gn_221",CM="_dropdownMenu_pj5gn_239",NM="_dropdownContent_pj5gn_259",xM="_bluePosition1_pj5gn_327",DM="_bluePosition2_pj5gn_329",OM="_bluePosition3_pj5gn_331",PM="_bluePosition4_pj5gn_333",kM="_bluePosition5_pj5gn_335",MM="_bluePosition6_pj5gn_337",VM="_bluePosition7_pj5gn_339",LM="_bluePosition8_pj5gn_341",UM="_bluePosition9_pj5gn_343",jM="_bluePosition10_pj5gn_345",zM="_bluePosition11_pj5gn_347",BM="_redPosition1_pj5gn_353",qM="_redPosition2_pj5gn_355",HM="_redPosition3_pj5gn_357",FM="_redPosition4_pj5gn_359",GM="_redPosition5_pj5gn_361",$M="_redPosition6_pj5gn_363",KM="_redPosition7_pj5gn_365",QM="_redPosition8_pj5gn_367",YM="_redPosition9_pj5gn_369",XM="_redPosition10_pj5gn_371",WM="_redPosition11_pj5gn_373",ZM="_footer_pj5gn_377",JM="_confirmBtn_pj5gn_393",pt={wrapper:gM,header:_M,containerName:yM,iconoVolver:vM,titulo:EM,chatIconContainer:TM,choosePositionMain:AM,field:bM,player:SM,blue:wM,red:RM,dropdownBtn:IM,dropdownMenu:CM,dropdownContent:NM,bluePosition1:xM,bluePosition2:DM,bluePosition3:OM,bluePosition4:PM,bluePosition5:kM,bluePosition6:MM,bluePosition7:VM,bluePosition8:LM,bluePosition9:UM,bluePosition10:jM,bluePosition11:zM,redPosition1:BM,redPosition2:qM,redPosition3:HM,redPosition4:FM,redPosition5:GM,redPosition6:$M,redPosition7:KM,redPosition8:QM,redPosition9:YM,redPosition10:XM,redPosition11:WM,footer:ZM,confirmBtn:JM},eV=()=>{const r=Array.from({length:11},(g,T)=>T+1),[e,n]=F.useState({}),[s,o]=F.useState({blue:null,red:null}),u=ki(),f=(g,T)=>{const w=`${g}-${T}`;n(S=>({...S,[w]:!S[w]}))},m=(g,T)=>{o(w=>g==="blue"?{blue:T,red:null}:g==="red"?{red:T,blue:null}:w)},p=()=>{s.blue===null&&s.red===null?alert("Debes seleccionar una posición para poder continuar."):u("/confirmedParticipation")};return E.jsxs("div",{className:pt.wrapper,children:[E.jsx("header",{className:pt.header,children:E.jsxs("div",{className:pt.containerName,children:[E.jsx(st,{to:"/eventsNow",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${pt.iconoVolver}`})}),E.jsx("p",{className:pt.titulo,children:"Escoge tu posición"}),E.jsx("div",{className:pt.chatIconContainer,children:E.jsx("a",{href:"tu-url-de-chat.html",className:pt.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Chat"})})})]})}),E.jsx("main",{className:pt.choosePositionMain,children:E.jsxs("div",{className:pt.field,children:[r.map(g=>{const T=`blue-${g}`,w=s.red!==null;return E.jsxs("div",{className:`${pt.player} ${pt.blue} ${pt[`bluePosition${g}`]}`,children:[E.jsx("span",{children:g}),E.jsx("button",{className:pt.dropdownBtn,onClick:()=>f("blue",g),"aria-label":"Seleccionar posición",disabled:w,children:E.jsx("i",{className:"fas fa-chevron-down"})}),e[T]&&E.jsx("div",{className:pt.dropdownMenu,children:E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"bluePosition",value:g,checked:s.blue===g,onChange:()=>m("blue",g)}),"Participar en esta posición"]})})]},T)}),r.map(g=>{const T=`red-${g}`,w=s.blue!==null;return E.jsxs("div",{className:`${pt.player} ${pt.red} ${pt[`redPosition${g}`]}`,children:[E.jsx("span",{children:g}),E.jsx("button",{className:pt.dropdownBtn,onClick:()=>f("red",g),"aria-label":"Seleccionar posición",disabled:w,children:E.jsx("i",{className:"fas fa-chevron-down"})}),e[T]&&E.jsx("div",{className:pt.dropdownMenu,children:E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"redPosition",value:g,checked:s.red===g,onChange:()=>m("red",g)}),"Participar en esta posición"]})})]},T)})]})}),E.jsx("footer",{className:pt.footer,children:E.jsx("button",{className:pt.confirmBtn,onClick:p,children:E.jsx("span",{children:"Confirmar asistencia"})})})]})},tV="_wrapper_1lywn_27",nV="_header_1lywn_47",iV="_containerName_1lywn_59",rV="_iconoVolver_1lywn_77",sV="_titulo_1lywn_99",aV="_chatIconContainer_1lywn_113",oV="_main_1lywn_139",lV="_highlight_1lywn_171",uV="_playerCard_1lywn_183",cV="_playerPhoto_1lywn_219",hV="_playerInfo_1lywn_249",fV="_playerName_1lywn_261",dV="_footer_1lywn_325",mV="_button_1lywn_341",un={wrapper:tV,header:nV,containerName:iV,iconoVolver:rV,titulo:sV,chatIconContainer:aV,main:oV,highlight:lV,playerCard:uV,playerPhoto:cV,playerInfo:hV,playerName:fV,footer:dV,button:mV},pV="https://OspinaFelipeDev.github.io/sport-social-app/assets/profile-dQZ2Xtsl.jpg",gV=()=>{const[r,e]=F.useState(""),[n,s]=F.useState("");return F.useEffect(()=>{const u=xp().currentUser;e(u&&u.displayName||"Desconocido");const f=localStorage.getItem("sportName")||"Deporte no especificado";s(f)},[]),E.jsxs("div",{className:un.wrapper,children:[E.jsx("header",{className:un.header,children:E.jsxs("div",{className:un.containerName,children:[E.jsx(st,{to:"/profile",children:E.jsx("i",{className:`fa-solid fa-circle-arrow-left ${un.iconoVolver}`})}),E.jsx("p",{className:un.titulo,children:"Nos vemos más tarde"}),E.jsx("div",{className:un.chatIconContainer,children:E.jsx(st,{to:"/chat",className:un.chatLink,"aria-label":"Abrir chat",children:E.jsx("img",{src:da,alt:"Icono de chat"})})})]})}),E.jsxs("main",{className:un.main,children:[E.jsxs("p",{children:["Has confirmado que participarás en el encuentro deportivo de"," ",E.jsx("span",{className:un.highlight,children:n})]}),E.jsxs("div",{className:un.playerCard,children:[E.jsx("div",{className:un.playerPhoto,children:E.jsx("img",{src:pV,alt:"Foto del jugador"})}),E.jsx("div",{className:un.playerInfo,children:E.jsx("h3",{className:un.playerName,children:r})})]}),E.jsx("p",{children:"¿Quieres ver las tareas y posiciones de los demás integrantes?"})]}),E.jsxs("footer",{className:un.footer,children:[E.jsx(st,{to:"/fileMeeting",children:E.jsx("button",{className:un.button,children:E.jsx("span",{children:"Ver ficha"})})}),E.jsx("p",{children:"*El administrador podrá cambiar posiciones o equipo si es necesario"}),E.jsx("p",{children:"*Las tareas a realizar las asigna el administrador del encuentro"})]})]})};function _V(){return E.jsx(cR,{basename:"/sport-social-app",children:E.jsxs(Bw,{children:[E.jsx(At,{path:"/",element:E.jsx(TR,{})}),E.jsx(At,{path:"/login",element:E.jsx(fO,{})}),E.jsx(At,{path:"/profile",element:E.jsx(wO,{})}),E.jsx(At,{path:"/choose",element:E.jsx(UO,{})}),E.jsx(At,{path:"/where",element:E.jsx(lP,{})}),E.jsx(At,{path:"/createAccount",element:E.jsx(bP,{})}),E.jsx(At,{path:"/terms",element:E.jsx(NP,{})}),E.jsx(At,{path:"/completeProfile",element:E.jsx(BP,{})}),E.jsx(At,{path:"/meeting",element:E.jsx(yT,{})}),E.jsx(At,{path:"/meeting/:id",element:E.jsx(yT,{})})," ",E.jsx(At,{path:"/assignPositions",element:E.jsx(uk,{})}),E.jsx(At,{path:"/tasks",element:E.jsx(Ck,{})}),E.jsx(At,{path:"/participants",element:E.jsx(qk,{})}),E.jsx(At,{path:"/fileMeeting",element:E.jsx(rM,{})}),E.jsx(At,{path:"/participantCars",element:E.jsx(hp,{})}),E.jsx(At,{path:"/eventCard",element:E.jsx(gb,{})}),E.jsx(At,{path:"/eventsNow",element:E.jsx(pM,{})}),E.jsx(At,{path:"/choosePosition",element:E.jsx(eV,{})}),E.jsx(At,{path:"/confirmedParticipation",element:E.jsx(gV,{})})]})})}XS.createRoot(document.getElementById("root")).render(E.jsx(F.StrictMode,{children:E.jsx(_V,{})}));
