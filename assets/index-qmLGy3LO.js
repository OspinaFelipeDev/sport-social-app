(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ip={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function hw(){if(zv)return Wl;zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var Bv;function fw(){return Bv||(Bv=1,Ip.exports=hw()),Ip.exports}var v=fw(),Cp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function dw(){if(qv)return Re;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function L(M,ie,ue){this.props=M,this.context=ie,this.refs=B,this.updater=ue||D}L.prototype.isReactComponent={},L.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=L.prototype;function X(M,ie,ue){this.props=M,this.context=ie,this.refs=B,this.updater=ue||D}var Y=X.prototype=new P;Y.constructor=X,I(Y,L.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function O(M,ie,ue,se,_e,Ne){return ue=Ne.ref,{$$typeof:r,type:M,key:ie,ref:ue!==void 0?ue:null,props:Ne}}function R(M,ie){return O(M.type,ie,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return ie[ue]})}var j=/\/+/g;function z(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):ie.toString(36)}function x(){}function kt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(x,x):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ze(M,ie,ue,se,_e){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=M._init,Ze(Ae(M._payload),ie,ue,se,_e)}}if(Ae)return _e=_e(M),Ae=se===""?"."+z(M,0):se,re(_e)?(ue="",Ae!=null&&(ue=Ae.replace(j,"$&/")+"/"),Ze(_e,ie,ue,"",function(ai){return ai})):_e!=null&&(C(_e)&&(_e=R(_e,ue+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Ae)),ie.push(_e)),1;Ae=0;var Vt=se===""?".":se+":";if(re(M))for(var Je=0;Je<M.length;Je++)se=M[Je],Ne=Vt+z(se,Je),Ae+=Ze(se,ie,ue,Ne,_e);else if(Je=w(M),typeof Je=="function")for(M=Je.call(M),Je=0;!(se=M.next()).done;)se=se.value,Ne=Vt+z(se,Je++),Ae+=Ze(se,ie,ue,Ne,_e);else if(Ne==="object"){if(typeof M.then=="function")return Ze(kt(M),ie,ue,se,_e);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(M,ie,ue){if(M==null)return M;var se=[],_e=0;return Ze(M,se,"","",function(Ne){return ie.call(ue,Ne,_e++)}),se}function le(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ze(){}return Re.Children={map:W,forEach:function(M,ie,ue){W(M,function(){ie.apply(this,arguments)},ue)},count:function(M){var ie=0;return W(M,function(){ie++}),ie},toArray:function(M){return W(M,function(ie){return ie})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ae.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cloneElement=function(M,ie,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=I({},M.props),_e=M.key,Ne=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!ge.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(se[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var Vt=Array(Ae),Je=0;Je<Ae;Je++)Vt[Je]=arguments[Je+2];se.children=Vt}return O(M.type,_e,void 0,void 0,Ne,se)},Re.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,ie,ue){var se,_e={},Ne=null;if(ie!=null)for(se in ie.key!==void 0&&(Ne=""+ie.key),ie)ge.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=ie[se]);var Ae=arguments.length-2;if(Ae===1)_e.children=ue;else if(1<Ae){for(var Vt=Array(Ae),Je=0;Je<Ae;Je++)Vt[Je]=arguments[Je+2];_e.children=Vt}if(M&&M.defaultProps)for(se in Ae=M.defaultProps,Ae)_e[se]===void 0&&(_e[se]=Ae[se]);return O(M,Ne,void 0,void 0,null,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:p,render:M}},Re.isValidElement=C,Re.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:le}},Re.memo=function(M,ie){return{$$typeof:g,type:M,compare:ie===void 0?null:ie}},Re.startTransition=function(M){var ie=ae.T,ue={};ae.T=ue;try{var se=M(),_e=ae.S;_e!==null&&_e(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,pe)}catch(Ne){pe(Ne)}finally{ae.T=ie}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(M){return ae.H.use(M)},Re.useActionState=function(M,ie,ue){return ae.H.useActionState(M,ie,ue)},Re.useCallback=function(M,ie){return ae.H.useCallback(M,ie)},Re.useContext=function(M){return ae.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,ie){return ae.H.useDeferredValue(M,ie)},Re.useEffect=function(M,ie,ue){var se=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ie)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(M,ie,ue){return ae.H.useImperativeHandle(M,ie,ue)},Re.useInsertionEffect=function(M,ie){return ae.H.useInsertionEffect(M,ie)},Re.useLayoutEffect=function(M,ie){return ae.H.useLayoutEffect(M,ie)},Re.useMemo=function(M,ie){return ae.H.useMemo(M,ie)},Re.useOptimistic=function(M,ie){return ae.H.useOptimistic(M,ie)},Re.useReducer=function(M,ie,ue){return ae.H.useReducer(M,ie,ue)},Re.useRef=function(M){return ae.H.useRef(M)},Re.useState=function(M){return ae.H.useState(M)},Re.useSyncExternalStore=function(M,ie,ue){return ae.H.useSyncExternalStore(M,ie,ue)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var Hv;function Am(){return Hv||(Hv=1,Cp.exports=dw()),Cp.exports}var q=Am(),Np={exports:{}},Zl={},xp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function pw(){return Fv||(Fv=1,function(r){function e(W,le){var pe=W.length;W.push(le);e:for(;0<pe;){var ze=pe-1>>>1,M=W[ze];if(0<o(M,le))W[ze]=le,W[pe]=M,pe=ze;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],pe=W.pop();if(pe!==le){W[0]=pe;e:for(var ze=0,M=W.length,ie=M>>>1;ze<ie;){var ue=2*(ze+1)-1,se=W[ue],_e=ue+1,Ne=W[_e];if(0>o(se,pe))_e<M&&0>o(Ne,se)?(W[ze]=Ne,W[_e]=pe,ze=_e):(W[ze]=se,W[ue]=pe,ze=ue);else if(_e<M&&0>o(Ne,pe))W[ze]=Ne,W[_e]=pe,ze=_e;else break e}}return le}function o(W,le){var pe=W.sortIndex-le.sortIndex;return pe!==0?pe:W.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,A=null,w=3,D=!1,I=!1,B=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=W)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function ae(W){if(B=!1,re(W),!I)if(n(m)!==null)I=!0,ge||(ge=!0,z());else{var le=n(g);le!==null&&Ze(ae,le.startTime-W)}}var ge=!1,O=-1,R=5,C=-1;function k(){return L?!0:!(r.unstable_now()-C<R)}function j(){if(L=!1,ge){var W=r.unstable_now();C=W;var le=!0;try{e:{I=!1,B&&(B=!1,X(O),O=-1),D=!0;var pe=w;try{t:{for(re(W),A=n(m);A!==null&&!(A.expirationTime>W&&k());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,w=A.priorityLevel;var M=ze(A.expirationTime<=W);if(W=r.unstable_now(),typeof M=="function"){A.callback=M,re(W),le=!0;break t}A===n(m)&&s(m),re(W)}else s(m);A=n(m)}if(A!==null)le=!0;else{var ie=n(g);ie!==null&&Ze(ae,ie.startTime-W),le=!1}}break e}finally{A=null,w=pe,D=!1}le=void 0}}finally{le?z():ge=!1}}}var z;if(typeof Y=="function")z=function(){Y(j)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,kt=x.port2;x.port1.onmessage=j,z=function(){kt.postMessage(null)}}else z=function(){P(j,0)};function Ze(W,le){O=P(function(){W(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var pe=w;w=le;try{return W()}finally{w=pe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=w;w=W;try{return le()}finally{w=pe}},r.unstable_scheduleCallback=function(W,le,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,W={id:E++,callback:le,priorityLevel:W,startTime:pe,expirationTime:M,sortIndex:-1},pe>ze?(W.sortIndex=pe,e(g,W),n(m)===null&&W===n(g)&&(B?(X(O),O=-1):B=!0,Ze(ae,pe-ze))):(W.sortIndex=M,e(m,W),I||D||(I=!0,ge||(ge=!0,z()))),W},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(W){var le=w;return function(){var pe=w;w=le;try{return W.apply(this,arguments)}finally{w=pe}}}}(Dp)),Dp}var Gv;function mw(){return Gv||(Gv=1,xp.exports=pw()),xp.exports}var Op={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function gw(){if($v)return Jt;$v=1;var r=Am();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},Jt.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Jt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Jt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:D}):E==="script"&&s.d.X(m,{crossOrigin:A,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Jt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Jt.requestFormReset=function(m){s.d.r(m)},Jt.unstable_batchedUpdates=function(m,g){return m(g)},Jt.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var Kv;function _w(){if(Kv)return Op.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Op.exports=gw(),Op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function yw(){if(Qv)return Zl;Qv=1;var r=mw(),e=Am(),n=_w();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var T=!1,b=h.child;b;){if(b===a){T=!0,a=h,l=d;break}if(b===l){T=!0,l=h,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=h;break}if(b===l){T=!0,l=d,a=h;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case L:return"Profiler";case B:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:kt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return kt(t(i))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],M=-1;function ie(t){return{current:t}}function ue(t){0>M||(t.current=ze[M],ze[M]=null,M--)}function se(t,i){M++,ze[M]=t.current,t.current=i}var _e=ie(null),Ne=ie(null),Ae=ie(null),Vt=ie(null);function Je(t,i){switch(se(Ae,i),se(Ne,t),se(_e,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pv(i),t=mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(_e),se(_e,t)}function ai(){ue(_e),ue(Ne),ue(Ae)}function Rr(t){t.memoizedState!==null&&se(Vt,t);var i=_e.current,a=mv(i,t.type);i!==a&&(se(Ne,t),se(_e,a))}function Ui(t){Ne.current===t&&(ue(_e),ue(Ne)),Vt.current===t&&(ue(Vt),$l._currentValue=pe)}var As=Object.prototype.hasOwnProperty,Ss=r.unstable_scheduleCallback,ws=r.unstable_cancelCallback,Ho=r.unstable_shouldYield,Vu=r.unstable_requestPaint,Pn=r.unstable_now,If=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Ea=r.unstable_UserBlockingPriority,Rs=r.unstable_NormalPriority,Cf=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,Go=r.log,Lu=r.unstable_setDisableYieldValue,ct=null,Fe=null;function En(t){if(typeof Go=="function"&&Lu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ct,t)}catch{}}var Wt=Math.clz32?Math.clz32:Is,ju=Math.log,Nf=Math.LN2;function Is(t){return t>>>=0,t===0?32:31-(ju(t)/Nf|0)|0}var Cs=256,Ns=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ba(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Kn(l):(T&=b,T!==0?h=Kn(T):a||(a=b&~t,a!==0&&(h=Kn(a))))):(b=l&~d,b!==0?h=Kn(b):T!==0?h=Kn(T):a||(a=l&~t,a!==0&&(h=Kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function xs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $o(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var t=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),t}function Qo(){var t=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),t}function zi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Bi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yo(t,i,a,l,h,d){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-Wt(a),ee=1<<Z;b[Z]=0,N[Z]=-1;var $=G[Z];if($!==null)for(G[Z]=null,Z=0;Z<$.length;Z++){var K=$[Z];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&oi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~i))}function oi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Mv(t.type))}function Uu(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var nt=Math.random().toString(36).slice(2),It="__reactFiber$"+nt,Et="__reactProps$"+nt,Mn="__reactContainer$"+nt,Wo="__reactEvents$"+nt,xf="__reactListeners$"+nt,Nr="__reactHandles$"+nt,zu="__reactResources$"+nt,Ds="__reactMarker$"+nt;function xr(t){delete t[It],delete t[Et],delete t[Wo],delete t[xf],delete t[Nr]}function qi(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Mn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=vv(t);t!==null;){if(a=t[It])return a;t=vv(t)}return i}t=a,a=t.parentNode}return null}function li(t){if(t=t[It]||t[Mn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ui(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function un(t){var i=t[zu];return i||(i=t[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[Ds]=!0}var Zo=new Set,Sa={};function Qn(t,i){Hi(t,i),Hi(t+"Capture",i)}function Hi(t,i){for(Sa[t]=i,t=0;t<i.length;t++)Zo.add(i[t])}var Bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Os={};function Hu(t){return As.call(Os,t)?!0:As.call(qu,t)?!1:Bu.test(t)?Os[t]=!0:(qu[t]=!0,!1)}function Dr(t,i,a){if(Hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ci(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ps,Fu;function Fi(t){if(Ps===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ps=i&&i[1]||"",Fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+t+Fu}var wa=!1;function Ra(t,i){if(!t||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var $=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){$=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){$=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var N=T.split(`
`),G=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===G.length)for(l=N.length-1,h=G.length-1;1<=l&&0<=h&&N[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==G[h]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fi(a):""}function Jo(t){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Ra(t.type,!1);case 11:return Ra(t.type.render,!1);case 1:return Ra(t.type,!0);case 31:return Fi("Activity");default:return""}}function Ia(t){try{var i="";do i+=Jo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function el(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Df(t){var i=el(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ca(t){t._valueTracker||(t._valueTracker=Df(t))}function tl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=el(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Of=/[\n"\\]/g;function Tt(t){return t.replace(Of,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(t,i,a,l,h,d,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Or(t,T,cn(i)):a!=null?Or(t,T,cn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+cn(b):t.removeAttribute("name")}function ks(t,i,a,l,h,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Or(t,i,a){i==="number"&&Ms(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+cn(a):""}function Vs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ls.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Gu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Gu(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $i=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Qi=null;function rl(t){var i=li(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(Tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&tl(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Gi(t,!!a.multiple,i,!1)}}}var hi=!1;function $u(t,i,a){if(hi)return t(i,a);hi=!0;try{var l=t(i);return l}finally{if(hi=!1,(Ki!==null||Qi!==null)&&(Uc(),Ki&&(i=Ki,t=Qi,Qi=Ki=null,rl(i),t)))for(i=0;i<t.length;i++)rl(t[i])}}function js(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Yn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Ln=!1}var fi=null,Pr=null,Yi=null;function sl(){if(Yi)return Yi;var t,i=Pr,a=i.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&i[a-l]===h[d-l];l++);return Yi=h.slice(t,1<l?1-l:void 0)}function di(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function al(){return!1}function Lt(t){function i(a,l,h,d,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:al,this.isPropagationStopped=al,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Lt(qe),zs=E({},qe,{view:0,detail:0}),Ku=Lt(zs),Da,Oa,mi,Bs=E({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(Da=t.screenX-mi.screenX,Oa=t.screenY-mi.screenY):Oa=Da=0,mi=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),jn=Lt(Bs),Qu=E({},Bs,{dataTransfer:0}),kf=Lt(Qu),qs=E({},zs,{relatedTarget:0}),Pa=Lt(qs),ol=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Lt(ol),Yu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Lt(Yu),Vf=E({},qe,{data:0}),ll=Lt(Vf),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function Fs(){return ul}var Zu=E({},zs,{key:function(t){if(t.key){var i=Hs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=Lt(Zu),Ju=E({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Lt(Ju),Xi=E({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),ec=Lt(Xi),tc=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=Lt(tc),ic=E({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Lt(ic),hn=E({},qe,{newState:0,oldState:0}),rc=Lt(hn),sc=[9,13,27,32],gi=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var _=Yn&&"TextEvent"in window&&!c,y=Yn&&(!gi||c&&8<c&&11>=c),S=" ",H=!1;function Q(t,i){switch(t){case"keyup":return sc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Ct(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(H=!0,S);case"textInput":return t=i.data,t===S&&H?null:t;default:return null}}function Ve(t,i){if(ke)return t==="compositionend"||!gi&&Q(t,i)?(t=sl(),Yi=Pr=fi=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jt[t.type]:i==="textarea"}function Wi(t,i,a,l){Ki?Qi?Qi.push(l):Qi=[l]:Ki=l,i=Gc(i,"onChange"),0<i.length&&(a=new xa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,_i=null;function hl(t){uv(t,0)}function ac(t){var i=ui(t);if(tl(i))return t}function xg(t,i){if(t==="change")return i}var Dg=!1;if(Yn){var Lf;if(Yn){var jf="oninput"in document;if(!jf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),jf=typeof Og.oninput=="function"}Lf=jf}else Lf=!1;Dg=Lf&&(!document.documentMode||9<document.documentMode)}function Pg(){Ft&&(Ft.detachEvent("onpropertychange",Mg),_i=Ft=null)}function Mg(t){if(t.propertyName==="value"&&ac(_i)){var i=[];Wi(i,_i,t,Vn(t)),$u(hl,i)}}function BA(t,i,a){t==="focusin"?(Pg(),Ft=i,_i=a,Ft.attachEvent("onpropertychange",Mg)):t==="focusout"&&Pg()}function qA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(_i)}function HA(t,i){if(t==="click")return ac(i)}function FA(t,i){if(t==="input"||t==="change")return ac(i)}function GA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:GA;function fl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!As.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ms(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ms(t.document)}return i}function Uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $A=Yn&&"documentMode"in document&&11>=document.documentMode,ja=null,zf=null,dl=null,Bf=!1;function Ug(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bf||ja==null||ja!==Ms(l)||(l=ja,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Gc(zf,"onSelect"),0<l.length&&(i=new xa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ja)))}function Gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},qf={},zg={};Yn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $s(t){if(qf[t])return qf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zg)return qf[t]=i[a];return t}var Bg=$s("animationend"),qg=$s("animationiteration"),Hg=$s("animationstart"),KA=$s("transitionrun"),QA=$s("transitionstart"),YA=$s("transitioncancel"),Fg=$s("transitionend"),Gg=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function Xn(t,i){Gg.set(t,i),Qn(i,[t])}var $g=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ia(i)},$g.set(t,i),i)}return{value:t,source:i,stack:Ia(i)}}var zn=[],za=0,Ff=0;function oc(){for(var t=za,i=Ff=za=0;i<t;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&Kg(a,h,d)}}function lc(t,i,a,l){zn[za++]=t,zn[za++]=i,zn[za++]=a,zn[za++]=l,Ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gf(t,i,a,l){return lc(t,i,a,l),uc(t)}function Ba(t,i){return lc(t,null,null,i),uc(t)}function Kg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function uc(t){if(50<jl)throw jl=0,Wd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qa={};function XA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,l){return new XA(t,i,a,l)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,h,d){var T=0;if(l=t,typeof t=="function")$f(t)&&(T=1);else if(typeof t=="string")T=ZS(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,a,i,h),t.elementType=C,t.lanes=d,t;case I:return Ks(a.children,h,d,i);case B:T=8,h|=24;break;case L:return t=An(12,a,i,h|2),t.elementType=L,t.lanes=d,t;case ae:return t=An(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ge:return t=An(19,a,i,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case Y:T=10;break e;case X:T=9;break e;case re:T=11;break e;case O:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=An(T,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ks(t,i,a,l){return t=An(7,t,l,i),t.lanes=a,t}function Kf(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function Qf(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ha=[],Fa=0,hc=null,fc=0,Bn=[],qn=0,Qs=null,Ji=1,er="";function Ys(t,i){Ha[Fa++]=fc,Ha[Fa++]=hc,hc=t,fc=i}function Yg(t,i,a){Bn[qn++]=Ji,Bn[qn++]=er,Bn[qn++]=Qs,Qs=t;var l=Ji;t=er;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Ji=1<<32-Wt(i)+h|a<<h|l,er=d+t}else Ji=1<<d|a<<h|l,er=t}function Yf(t){t.return!==null&&(Ys(t,1),Yg(t,1,0))}function Xf(t){for(;t===hc;)hc=Ha[--Fa],Ha[Fa]=null,fc=Ha[--Fa],Ha[Fa]=null;for(;t===Qs;)Qs=Bn[--qn],Bn[qn]=null,er=Bn[--qn],Bn[qn]=null,Ji=Bn[--qn],Bn[qn]=null}var fn=null,ht=null,Be=!1,Xs=null,yi=!1,Wf=Error(s(519));function Ws(t){var i=Error(s(418,""));throw gl(Un(i,t)),Wf}function Xg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)Oe(zl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ks(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ca(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Vs(i,l.value,l.defaultValue,l.children),Ca(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||dv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=$c),i=!0):i=!1,i||Ws(t)}function Wg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:fn=fn.return}}function pl(t){if(t!==fn)return!1;if(!Be)return Wg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dp(t.type,t.memoizedProps)),a=!a),a&&ht&&Ws(t),Wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=Zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Yr(t.type)?(t=_p,_p=null,ht=t):ht=i):ht=fn?Zn(t.stateNode.nextSibling):null;return!0}function ml(){ht=fn=null,Be=!1}function Zg(){var t=Xs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Xs=null),t}function gl(t){Xs===null?Xs=[t]:Xs.push(t)}var Zf=ie(null),Zs=null,tr=null;function Mr(t,i,a){se(Zf,i._currentValue),i._currentValue=a}function nr(t){t._currentValue=Zf.current,ue(Zf)}function Jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ed(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Jf(d.return,a,t),l||(T=null);break e}d=b.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Jf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function _l(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=h.type;bn(h.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(h===Vt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&ed(i,t,a,l),i.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Jg(Zs,t)}function pc(t,i){return Zs===null&&Js(t),Jg(t,i)}function Jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(s(308));tr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else tr=tr.next=i;return a}var WA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZA=r.unstable_scheduleCallback,JA=r.unstable_NormalPriority,xt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new WA,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&ZA(JA,function(){t.controller.abort()})}var vl=null,nd=0,Ga=0,$a=null;function eS(t,i){if(vl===null){var a=vl=[];nd=0,Ga=rp(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nd++,i.then(e_,e_),i}function e_(){if(--nd===0&&vl!==null){$a!==null&&($a.status="fulfilled");var t=vl;vl=null,Ga=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var t_=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eS(t,i),t_!==null&&t_(t,i)};var ea=ie(null);function id(){var t=ea.current;return t!==null?t:et.pooledCache}function mc(t,i){i===null?se(ea,ea.current):se(ea,i.pool)}function n_(){var t=id();return t===null?null:{parent:xt._currentValue,pool:t}}var El=Error(s(460)),i_=Error(s(474)),gc=Error(s(542)),rd={then:function(){}};function r_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _c(){}function s_(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_c,_c),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,o_(t),t;default:if(typeof i.status=="string")i.then(_c,_c);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,o_(t),t}throw Tl=i,El}}var Tl=null;function a_(){if(Tl===null)throw Error(s(459));var t=Tl;return Tl=null,t}function o_(t){if(t===El||t===gc)throw Error(s(483))}var kr=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=uc(t),Kg(t,null,a),i}return lc(t,l,i,a),uc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}function od(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ld=!1;function Al(){if(ld){var t=$a;if(t!==null)throw t}}function Sl(t,i,a,l){ld=!1;var h=t.updateQueue;kr=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,G=N.next;N.next=null,T===null?d=G:T.next=G,T=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;T=0,Z=G=N=null,b=d;do{var $=b.lane&-536870913,K=$!==b.lane;if(K?(Le&$)===$:(l&$)===$){$!==0&&$===Ga&&(ld=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var be=t,ye=b;$=i;var Xe=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){ee=be.call(Xe,ee,$);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,$=typeof be=="function"?be.call(Xe,ee,$):be,$==null)break e;ee=E({},ee,$);break e;case 2:kr=!0}}$=b.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=K,N=ee):Z=Z.next=K,T|=$;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Gr|=T,t.lanes=T,t.memoizedState=ee}}function l_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function u_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)l_(a[t],i)}var Ka=ie(null),yc=ie(0);function c_(t,i){t=ur,se(yc,t),se(Ka,i),ur=t|i.baseLanes}function ud(){se(yc,ur),se(Ka,Ka.current)}function cd(){ur=yc.current,ue(Ka),ue(yc)}var jr=0,Ie=null,Qe=null,bt=null,vc=!1,Qa=!1,ta=!1,Ec=0,wl=0,Ya=null,nS=0;function mt(){throw Error(s(321))}function hd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function fd(t,i,a,l,h,d){return jr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?K_:Q_,ta=!1,d=a(l,h),ta=!1,Qa&&(d=f_(i,a,l,h)),h_(t),d}function h_(t){W.H=Rc;var i=Qe!==null&&Qe.next!==null;if(jr=0,bt=Qe=Ie=null,vc=!1,wl=0,Ya=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&dc(t)&&(Ut=!0))}function f_(t,i,a,l){Ie=t;var h=0;do{if(Qa&&(Ya=null),wl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,bt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=uS,d=i(a,l)}while(Qa);return d}function iS(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function dd(){var t=Ec!==0;return Ec=0,t}function pd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function md(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}jr=0,bt=Qe=Ie=null,Qa=!1,wl=Ec=0,Ya=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=t:bt=bt.next=t,bt}function At(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=bt===null?Ie.memoizedState:bt.next;if(i!==null)bt=i,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},bt===null?Ie.memoizedState=bt=t:bt=bt.next=t}return bt}function gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=wl;return wl+=1,Ya===null&&(Ya=[]),t=s_(Ya,t,i),i=Ie,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?K_:Q_),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===Y)return Zt(t)}throw Error(s(438,String(t)))}function _d(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function bc(t){var i=At();return yd(i,Qe,t)}function yd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=T=null,N=null,G=i,Z=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Le&ee)===ee:(jr&ee)===ee){var $=G.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Ga&&(Z=!0);else if((jr&$)===$){G=G.next,$===Ga&&(Z=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=ee,T=d):N=N.next=ee,Ie.lanes|=$,Gr|=$;ee=G.action,ta&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else $={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=$,T=d):N=N.next=$,Ie.lanes|=ee,Gr|=ee;G=G.next}while(G!==null&&G!==i);if(N===null?T=d:N.next=b,!bn(d,t.memoizedState)&&(Ut=!0,Z&&(a=$a,a!==null)))throw a;t.memoizedState=d,t.baseState=T,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vd(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do d=t(d,T.action),T=T.next;while(T!==h);bn(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function d_(t,i,a){var l=Ie,h=At(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!bn((Qe||h).memoizedState,a);T&&(h.memoizedState=a,Ut=!0),h=h.queue;var b=g_.bind(null,l,h,t);if(Il(2048,8,b,[t]),h.getSnapshot!==i||T||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Ac(),m_.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(jr&124)!==0||p_(l,i,a)}return a}function p_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=gd(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function m_(t,i,a,l){i.value=a,i.getSnapshot=l,__(i)&&y_(t)}function g_(t,i,a){return a(function(){__(i)&&y_(t)})}function __(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function y_(t){var i=Ba(t,2);i!==null&&Cn(i,t,2)}function Ed(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),ta){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function v_(t,i,a,l){return t.baseState=a,yd(t,Qe,typeof l=="function"?l:ir)}function rS(t,i,a,l,h){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,E_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function E_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,T={};W.T=T;try{var b=a(h,l),N=W.S;N!==null&&N(T,b),T_(t,i,b)}catch(G){Td(t,i,G)}finally{W.T=d}}else try{d=a(h,l),T_(t,i,d)}catch(G){Td(t,i,G)}}function T_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){b_(t,i,l)},function(l){return Td(t,i,l)}):b_(t,i,a)}function b_(t,i,a){i.status="fulfilled",i.value=a,A_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,E_(t,a)))}function Td(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,A_(i),i=i.next;while(i!==l)}t.action=null}function A_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function S_(t,i){return i}function w_(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ie;if(Be){if(ht){t:{for(var h=ht,d=yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Zn(h.nextSibling),l=h.data==="F!";break e}}Ws(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:i},a.queue=l,a=F_.bind(null,Ie,l),l.dispatch=a,l=Ed(!1),d=Rd.bind(null,Ie,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=rS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function R_(t){var i=At();return I_(i,Qe,t)}function I_(t,i,a){if(i=yd(t,i,S_)[0],t=bc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(T){throw T===El?gc:T}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Xa(9,Ac(),sS.bind(null,h,a),null)),[l,d,t]}function sS(t,i){t.action=i}function C_(t){var i=At(),a=Qe;if(a!==null)return I_(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=gd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ac(){return{destroy:void 0,resource:void 0}}function N_(){return At().memoizedState}function Sc(t,i,a,l){var h=dn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Xa(1|i,Ac(),a,l)}function Il(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&hd(l,Qe.memoizedState.deps)?h.memoizedState=Xa(i,d,a,l):(Ie.flags|=t,h.memoizedState=Xa(1|i,d,a,l))}function x_(t,i){Sc(8390656,8,t,i)}function D_(t,i){Il(2048,8,t,i)}function O_(t,i){return Il(4,2,t,i)}function P_(t,i){return Il(4,4,t,i)}function M_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function k_(t,i,a){a=a!=null?a.concat([t]):null,Il(4,4,M_.bind(null,i,t),a)}function bd(){}function V_(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&hd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function L_(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&hd(i,l[1]))return l[0];if(l=t(),ta){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l}function Ad(t,i,a){return a===void 0||(jr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=zy(),Ie.lanes|=t,Gr|=t,a)}function j_(t,i,a,l){return bn(a,i)?a:Ka.current!==null?(t=Ad(t,a,l),bn(t,i)||(Ut=!0),t):(jr&42)===0?(Ut=!0,t.memoizedState=a):(t=zy(),Ie.lanes|=t,Gr|=t,i)}function U_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var T=W.T,b={};W.T=b,Rd(t,!1,i,a);try{var N=h(),G=W.S;if(G!==null&&G(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=tS(N,l);Cl(t,i,Z,In(t))}else Cl(t,i,l,In(t))}catch(ee){Cl(t,i,{then:function(){},status:"rejected",reason:ee},In())}finally{le.p=d,W.T=T}}function aS(){}function Sd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=z_(t).queue;U_(t,h,i,pe,a===null?aS:function(){return B_(t),a(l)})}function z_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function B_(t){var i=z_(t).next.queue;Cl(t,i,{},In())}function wd(){return Zt($l)}function q_(){return At().memoizedState}function H_(){return At().memoizedState}function oS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Vr(a);var l=Lr(i,t,a);l!==null&&(Cn(l,i,a),bl(l,i,a)),i={cache:td()},t.payload=i;return}i=i.return}}function lS(t,i,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?G_(i,a):(a=Gf(t,i,a,l),a!==null&&(Cn(a,t,l),$_(a,i,l)))}function F_(t,i,a){var l=In();Cl(t,i,a,l)}function Cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))G_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,b=d(T,a);if(h.hasEagerState=!0,h.eagerState=b,bn(b,T))return lc(t,i,h,0),et===null&&oc(),!1}catch{}finally{}if(a=Gf(t,i,h,l),a!==null)return Cn(a,t,l),$_(a,i,l),!0}return!1}function Rd(t,i,a,l){if(l={lane:2,revertLane:rp(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=Gf(t,a,l,2),i!==null&&Cn(i,t,2)}function wc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function G_(t,i){Qa=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}var Rc={readContext:Zt,use:Tc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},K_={readContext:Zt,use:Tc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:x_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,M_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(ta){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(ta){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Ed(t);var i=t.queue,a=F_.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:bd,useDeferredValue:function(t,i){var a=dn();return Ad(a,t,i)},useTransition:function(){var t=Ed(!1);return t=U_.bind(null,Ie,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=dn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||p_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,x_(g_.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,Ac(),m_.bind(null,l,d,a,i),null),a},useId:function(){var t=dn(),i=et.identifierPrefix;if(Be){var a=er,l=Ji;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=nS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:wd,useFormState:w_,useActionState:w_,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Rd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:_d,useCacheRefresh:function(){return dn().memoizedState=oS.bind(null,Ie)}},Q_={readContext:Zt,use:Tc,useCallback:V_,useContext:Zt,useEffect:D_,useImperativeHandle:k_,useInsertionEffect:O_,useLayoutEffect:P_,useMemo:L_,useReducer:bc,useRef:N_,useState:function(){return bc(ir)},useDebugValue:bd,useDeferredValue:function(t,i){var a=At();return j_(a,Qe.memoizedState,t,i)},useTransition:function(){var t=bc(ir)[0],i=At().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:d_,useId:q_,useHostTransitionStatus:wd,useFormState:R_,useActionState:R_,useOptimistic:function(t,i){var a=At();return v_(a,Qe,t,i)},useMemoCache:_d,useCacheRefresh:H_},uS={readContext:Zt,use:Tc,useCallback:V_,useContext:Zt,useEffect:D_,useImperativeHandle:k_,useInsertionEffect:O_,useLayoutEffect:P_,useMemo:L_,useReducer:vd,useRef:N_,useState:function(){return vd(ir)},useDebugValue:bd,useDeferredValue:function(t,i){var a=At();return Qe===null?Ad(a,t,i):j_(a,Qe.memoizedState,t,i)},useTransition:function(){var t=vd(ir)[0],i=At().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:d_,useId:q_,useHostTransitionStatus:wd,useFormState:C_,useActionState:C_,useOptimistic:function(t,i){var a=At();return Qe!==null?v_(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:H_},Wa=null,Nl=0;function Ic(t){var i=Nl;return Nl+=1,Wa===null&&(Wa=[]),s_(Wa,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Y_(t){var i=t._init;return i(t._payload)}function X_(t){function i(U,V){if(t){var F=U.deletions;F===null?(U.deletions=[V],U.flags|=16):F.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Zi(U,V),U.index=0,U.sibling=null,U}function d(U,V,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<V?(U.flags|=67108866,V):F):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function T(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,F,J){return V===null||V.tag!==6?(V=Kf(F,U.mode,J),V.return=U,V):(V=h(V,F),V.return=U,V)}function N(U,V,F,J){var fe=F.type;return fe===I?Z(U,V,F.props.children,J,F.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Y_(fe)===V.type)?(V=h(V,F.props),xl(V,F),V.return=U,V):(V=cc(F.type,F.key,F.props,null,U.mode,J),xl(V,F),V.return=U,V)}function G(U,V,F,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Qf(F,U.mode,J),V.return=U,V):(V=h(V,F.children||[]),V.return=U,V)}function Z(U,V,F,J,fe){return V===null||V.tag!==7?(V=Ks(F,U.mode,J,fe),V.return=U,V):(V=h(V,F),V.return=U,V)}function ee(U,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kf(""+V,U.mode,F),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return F=cc(V.type,V.key,V.props,null,U.mode,F),xl(F,V),F.return=U,F;case D:return V=Qf(V,U.mode,F),V.return=U,V;case R:var J=V._init;return V=J(V._payload),ee(U,V,F)}if(Ze(V)||z(V))return V=Ks(V,U.mode,F,null),V.return=U,V;if(typeof V.then=="function")return ee(U,Ic(V),F);if(V.$$typeof===Y)return ee(U,pc(U,V),F);Cc(U,V)}return null}function $(U,V,F,J){var fe=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return fe!==null?null:b(U,V,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===fe?N(U,V,F,J):null;case D:return F.key===fe?G(U,V,F,J):null;case R:return fe=F._init,F=fe(F._payload),$(U,V,F,J)}if(Ze(F)||z(F))return fe!==null?null:Z(U,V,F,J,null);if(typeof F.then=="function")return $(U,V,Ic(F),J);if(F.$$typeof===Y)return $(U,V,pc(U,F),J);Cc(U,F)}return null}function K(U,V,F,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,b(V,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?F:J.key)||null,N(V,U,J,fe);case D:return U=U.get(J.key===null?F:J.key)||null,G(V,U,J,fe);case R:var xe=J._init;return J=xe(J._payload),K(U,V,F,J,fe)}if(Ze(J)||z(J))return U=U.get(F)||null,Z(V,U,J,fe,null);if(typeof J.then=="function")return K(U,V,F,Ic(J),fe);if(J.$$typeof===Y)return K(U,V,F,pc(V,J),fe);Cc(V,J)}return null}function be(U,V,F,J){for(var fe=null,xe=null,de=V,ve=V=0,Bt=null;de!==null&&ve<F.length;ve++){de.index>ve?(Bt=de,de=null):Bt=de.sibling;var Ue=$(U,de,F[ve],J);if(Ue===null){de===null&&(de=Bt);break}t&&de&&Ue.alternate===null&&i(U,de),V=d(Ue,V,ve),xe===null?fe=Ue:xe.sibling=Ue,xe=Ue,de=Bt}if(ve===F.length)return a(U,de),Be&&Ys(U,ve),fe;if(de===null){for(;ve<F.length;ve++)de=ee(U,F[ve],J),de!==null&&(V=d(de,V,ve),xe===null?fe=de:xe.sibling=de,xe=de);return Be&&Ys(U,ve),fe}for(de=l(de);ve<F.length;ve++)Bt=K(de,U,ve,F[ve],J),Bt!==null&&(t&&Bt.alternate!==null&&de.delete(Bt.key===null?ve:Bt.key),V=d(Bt,V,ve),xe===null?fe=Bt:xe.sibling=Bt,xe=Bt);return t&&de.forEach(function(es){return i(U,es)}),Be&&Ys(U,ve),fe}function ye(U,V,F,J){if(F==null)throw Error(s(151));for(var fe=null,xe=null,de=V,ve=V=0,Bt=null,Ue=F.next();de!==null&&!Ue.done;ve++,Ue=F.next()){de.index>ve?(Bt=de,de=null):Bt=de.sibling;var es=$(U,de,Ue.value,J);if(es===null){de===null&&(de=Bt);break}t&&de&&es.alternate===null&&i(U,de),V=d(es,V,ve),xe===null?fe=es:xe.sibling=es,xe=es,de=Bt}if(Ue.done)return a(U,de),Be&&Ys(U,ve),fe;if(de===null){for(;!Ue.done;ve++,Ue=F.next())Ue=ee(U,Ue.value,J),Ue!==null&&(V=d(Ue,V,ve),xe===null?fe=Ue:xe.sibling=Ue,xe=Ue);return Be&&Ys(U,ve),fe}for(de=l(de);!Ue.done;ve++,Ue=F.next())Ue=K(de,U,ve,Ue.value,J),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?ve:Ue.key),V=d(Ue,V,ve),xe===null?fe=Ue:xe.sibling=Ue,xe=Ue);return t&&de.forEach(function(cw){return i(U,cw)}),Be&&Ys(U,ve),fe}function Xe(U,V,F,J){if(typeof F=="object"&&F!==null&&F.type===I&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:e:{for(var fe=F.key;V!==null;){if(V.key===fe){if(fe=F.type,fe===I){if(V.tag===7){a(U,V.sibling),J=h(V,F.props.children),J.return=U,U=J;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Y_(fe)===V.type){a(U,V.sibling),J=h(V,F.props),xl(J,F),J.return=U,U=J;break e}a(U,V);break}else i(U,V);V=V.sibling}F.type===I?(J=Ks(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=cc(F.type,F.key,F.props,null,U.mode,J),xl(J,F),J.return=U,U=J)}return T(U);case D:e:{for(fe=F.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){a(U,V.sibling),J=h(V,F.children||[]),J.return=U,U=J;break e}else{a(U,V);break}else i(U,V);V=V.sibling}J=Qf(F,U.mode,J),J.return=U,U=J}return T(U);case R:return fe=F._init,F=fe(F._payload),Xe(U,V,F,J)}if(Ze(F))return be(U,V,F,J);if(z(F)){if(fe=z(F),typeof fe!="function")throw Error(s(150));return F=fe.call(F),ye(U,V,F,J)}if(typeof F.then=="function")return Xe(U,V,Ic(F),J);if(F.$$typeof===Y)return Xe(U,V,pc(U,F),J);Cc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(a(U,V.sibling),J=h(V,F),J.return=U,U=J):(a(U,V),J=Kf(F,U.mode,J),J.return=U,U=J),T(U)):a(U,V)}return function(U,V,F,J){try{Nl=0;var fe=Xe(U,V,F,J);return Wa=null,fe}catch(de){if(de===El||de===gc)throw de;var xe=An(29,de,null,U.mode);return xe.lanes=J,xe.return=U,xe}finally{}}}var Za=X_(!0),W_=X_(!1),Hn=ie(null),vi=null;function Ur(t){var i=t.alternate;se(Dt,Dt.current&1),se(Hn,t),vi===null&&(i===null||Ka.current!==null||i.memoizedState!==null)&&(vi=t)}function Z_(t){if(t.tag===22){if(se(Dt,Dt.current),se(Hn,t),vi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vi=t)}}else zr()}function zr(){se(Dt,Dt.current),se(Hn,Hn.current)}function rr(t){ue(Hn),vi===t&&(vi=null),ue(Dt)}var Dt=ie(0);function Nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Id(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(Cn(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(Cn(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(Cn(i,t,a),bl(i,t,a))}};function J_(t,i,a,l,h,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function ey(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Cd.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var xc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ty(t){xc(t)}function ny(t){console.error(t)}function iy(t){xc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ry(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nd(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function sy(t){return t=Vr(t),t.tag=3,t}function ay(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ry(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ry(i,a,l),typeof h!="function"&&($r===null?$r=new Set([this]):$r.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function cS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_l(i,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return vi===null?Jd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),tp(t,l,h)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),tp(t,l,h)),!1}throw Error(s(435,a.tag))}return tp(t,l,h),Jd(),!1}if(Be)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Wf&&(t=Error(s(422),{cause:l}),gl(Un(t,a)))):(l!==Wf&&(i=Error(s(423),{cause:l}),gl(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=Nd(t.stateNode,l,h),od(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Ll===null?Ll=[d]:Ll.push(d),ft!==4&&(ft=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Nd(a.stateNode,l,t),od(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,t,a,l),od(a,h),!1}a=a.return}while(a!==null);return!1}var oy=Error(s(461)),Ut=!1;function Gt(t,i,a,l){i.child=t===null?W_(i,null,a,l):Za(i,t.child,a,l)}function ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Js(i),l=fd(t,i,a,T,d,h),b=dd(),t!==null&&!Ut?(pd(t,i,h),sr(t,i,h)):(Be&&b&&Yf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function uy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,cy(t,i,d,l,h)):(t=cc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ld(t,h)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(T,l)&&t.ref===i.ref)return sr(t,i,h)}return i.flags|=1,t=Zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function cy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,Ld(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,sr(t,i,h)}return xd(t,i,a,l,h)}function hy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return fy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(i,d!==null?d.cachePool:null),d!==null?c_(i,d):ud(),Z_(i);else return i.lanes=i.childLanes=536870912,fy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(mc(i,d.cachePool),c_(i,d),zr(),i.memoizedState=null):(t!==null&&mc(i,null),ud(),zr());return Gt(t,i,h,a),i.child}function fy(t,i,a,l){var h=id();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&mc(i,null),ud(),Z_(i),t!==null&&_l(t,i,l,!0),null}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xd(t,i,a,l,h){return Js(i),a=fd(t,i,a,l,void 0,h),l=dd(),t!==null&&!Ut?(pd(t,i,h),sr(t,i,h)):(Be&&l&&Yf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function dy(t,i,a,l,h,d){return Js(i),i.updateQueue=null,a=f_(i,l,a,h),h_(t),l=dd(),t!==null&&!Ut?(pd(t,i,d),sr(t,i,d)):(Be&&l&&Yf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function py(t,i,a,l,h){if(Js(i),i.stateNode===null){var d=qa,T=a.contextType;typeof T=="object"&&T!==null&&(d=Zt(T)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sd(i),T=a.contextType,d.context=typeof T=="object"&&T!==null?Zt(T):qa,d.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Id(i,a,T,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Cd.enqueueReplaceState(d,d.state,null),Sl(i,l,d,h),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=na(a,b);d.props=N;var G=d.context,Z=a.contextType;T=qa,typeof Z=="object"&&Z!==null&&(T=Zt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==T)&&ey(i,d,l,T),kr=!1;var $=i.memoizedState;d.state=$,Sl(i,l,d,h),Al(),G=i.memoizedState,b||$!==G||kr?(typeof ee=="function"&&(Id(i,a,ee,l),G=i.memoizedState),(N=kr||J_(i,a,N,l,$,G,T))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=T,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(t,i),T=i.memoizedProps,Z=na(a,T),d.props=Z,ee=i.pendingProps,$=d.context,G=a.contextType,N=qa,typeof G=="object"&&G!==null&&(N=Zt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ee||$!==N)&&ey(i,d,l,N),kr=!1,$=i.memoizedState,d.state=$,Sl(i,l,d,h),Al();var K=i.memoizedState;T!==ee||$!==K||kr||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof b=="function"&&(Id(i,a,b,l),K=i.memoizedState),(Z=kr||J_(i,a,Z,l,$,K,N)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Za(i,t.child,null,h),i.child=Za(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=sr(t,i,h),t}function my(t,i,a,l){return ml(),i.flags|=256,Gt(t,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(t){return{baseLanes:t,cachePool:n_()}}function Pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fn),t}function gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Ur(i):zr(),Be){var b=ht,N;if(N=b){e:{for(N=b,b=yi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Zn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},N=An(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,fn=i,ht=null,N=!0):N=!1}N||Ws(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return gp(b)?i.lanes=32:i.lanes=536870912,null;rr(i)}return b=l.children,l=l.fallback,h?(zr(),h=i.mode,b=Pc({mode:"hidden",children:b},h),l=Ks(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=Od(a),h.childLanes=Pd(t,T,a),i.memoizedState=Dd,l):(Ur(i),Md(i,b))}if(N=t.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=kd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),h=l.fallback,b=i.mode,l=Pc({mode:"visible",children:l.children},b),h=Ks(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Za(i,t.child,null,a),l=i.child,l.memoizedState=Od(a),l.childLanes=Pd(t,T,a),i.memoizedState=Dd,i=h);else if(Ur(i),gp(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(s(419)),l.stack="",l.digest=T,gl({value:l,source:null,stack:null}),i=kd(t,i,a)}else if(Ut||_l(t,i,a,!1),T=(a&t.childLanes)!==0,Ut||T){if(T=et,T!==null&&(l=a&-a,l=(l&42)!==0?1:Ir(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ba(t,l),Cn(T,t,l),oy;b.data==="$?"||Jd(),i=kd(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ht=Zn(b.nextSibling),fn=i,Be=!0,Xs=null,yi=!1,t!==null&&(Bn[qn++]=Ji,Bn[qn++]=er,Bn[qn++]=Qs,Ji=t.id,er=t.overflow,Qs=i),i=Md(i,l.children),i.flags|=4096);return i}return h?(zr(),h=l.fallback,b=i.mode,N=t.child,G=N.sibling,l=Zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?h=Zi(G,h):(h=Ks(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=Od(a):(N=b.cachePool,N!==null?(G=xt._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=n_(),b={baseLanes:b.baseLanes|a,cachePool:N}),h.memoizedState=b,h.childLanes=Pd(t,T,a),i.memoizedState=Dd,l):(Ur(i),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Md(t,i){return i=Pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pc(t,i){return t=An(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kd(t,i,a){return Za(i,t.child,null,a),t=Md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _y(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Jf(t.return,i,a)}function Vd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,i);else if(t.tag===19)_y(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Dt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Vd(i,!0,a,null,d);break;case"together":Vd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_l(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function hS(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Mr(i,xt,t.memoizedState.cache),ml();break;case 27:case 5:Rr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gy(t,i,a):(Ur(i),t=sr(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_l(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,hy(t,i,a);case 24:Mr(i,xt,t.memoizedState.cache)}return sr(t,i,a)}function vy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Ld(t,a)&&(i.flags&128)===0)return Ut=!1,hS(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,Be&&(i.flags&1048576)!==0&&Yg(i,fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")$f(l)?(t=na(l,t),i.tag=1,i=py(null,i,l,t,a)):(i.tag=0,i=xd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===re){i.tag=11,i=ly(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=uy(null,i,l,t,a);break e}}throw i=kt(l)||l,Error(s(306,i,""))}}return i;case 0:return xd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),py(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ad(t,i),Sl(i,l,null,a);var T=i.memoizedState;if(l=T.cache,Mr(i,xt,l),l!==d.cache&&ed(i,[xt],a,!0),Al(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=my(t,i,l,a);break e}else if(l!==h){h=Un(Error(s(424)),i),gl(h),i=my(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Zn(t.firstChild),fn=i,Be=!0,Xs=null,yi=!0,a=W_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ml(),l===h){i=sr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=Av(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Kc(Ae.current).createElement(a),l[It]=i,l[Et]=t,Kt(l,a,t),pt(l),i.stateNode=l):i.memoizedState=Av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rr(i),t===null&&Be&&(l=i.stateNode=Ev(i.type,i.pendingProps,Ae.current),fn=i,yi=!0,h=ht,Yr(i.type)?(_p=h,ht=Zn(l.firstChild)):ht=h),Gt(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ht)&&(l=US(l,i.type,i.pendingProps,yi),l!==null?(i.stateNode=l,fn=i,ht=Zn(l.firstChild),yi=!1,h=!0):h=!1),h||Ws(i)),Rr(i),h=i.type,d=i.pendingProps,T=t!==null?t.memoizedProps:null,l=d.children,dp(h,d)?l=null:T!==null&&dp(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=fd(t,i,iS,null,null,a),$l._currentValue=h),Oc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ht)&&(a=zS(a,i.pendingProps,yi),a!==null?(i.stateNode=a,fn=i,ht=null,t=!0):t=!1),t||Ws(i)),null;case 13:return gy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Za(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return ly(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Js(i),h=Zt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return uy(t,i,i.type,i.pendingProps,a);case 15:return cy(t,i,i.type,i.pendingProps,a);case 19:return yy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Pc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Zi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return hy(t,i,a);case 24:return Js(i),l=Zt(xt),t===null?(h=id(),h===null&&(h=et,d=td(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},sd(i),Mr(i,xt,h)):((t.lanes&a)!==0&&(ad(t,i),Sl(i,null,null,a),Al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,xt,l)):(l=d.cache,Mr(i,xt,l),l!==h.cache&&ed(i,[xt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ar(t){t.flags|=4}function Ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(i)){if(i=Hn.current,i!==null&&((Le&4194048)===Le?vi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==vi))throw Tl=rd,i_;t.flags|=8192}}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Qo():536870912,t.lanes|=i,no|=i)}function Dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function fS(t,i,a){var l=i.pendingProps;switch(Xf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),nr(xt),ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(i)?ar(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zg())),at(i),null;case 26:return a=i.memoizedState,t===null?(ar(i),a!==null?(at(i),Ey(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ar(i),at(i),Ey(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&ar(i),at(i),i.flags&=-16777217),null;case 27:Ui(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=_e.current,pl(i)?Xg(i):(t=Ev(h,l,a),i.stateNode=t,ar(i))}return at(i),null;case 5:if(Ui(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=_e.current,pl(i))Xg(i);else{switch(h=Kc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ar(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,pl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dv(t.nodeValue,a)),t||Ws(i)}else t=Kc(t).createTextNode(l),t[It]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else ml(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(rr(i),i):(rr(i),null)}if(rr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),at(i),null;case 4:return ai(),t===null&&lp(i.stateNode.containerInfo),at(i),null;case 10:return nr(i.type),at(i),null;case 19:if(ue(Dt),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Dl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Nc(t),d!==null){for(i.flags|=128,Dl(h,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Qg(a,t),a=a.sibling;return se(Dt,Dt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Pn()>Lc&&(i.flags|=128,l=!0,Dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*Pn()-h.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,l=!0,Dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Pn(),i.sibling=null,t=Dt.current,se(Dt,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return rr(i),cd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),nr(xt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dS(t,i){switch(Xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return nr(xt),ai(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ui(i),null;case 13:if(rr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ml()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Dt),null;case 4:return ai(),null;case 10:return nr(i.type),null;case 22:case 23:return rr(i),cd(),t!==null&&ue(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return nr(xt),null;case 25:return null;default:return null}}function Ty(t,i){switch(Xf(i),i.tag){case 3:nr(xt),ai();break;case 26:case 27:case 5:Ui(i);break;case 4:ai();break;case 13:rr(i);break;case 19:ue(Dt);break;case 10:nr(i.type);break;case 22:case 23:rr(i),cd(),t!==null&&ue(ea);break;case 24:nr(xt)}}function Ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==h)}}catch(b){We(i,i.return,b)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,h=i;var N=a,G=b;try{G()}catch(Z){We(h,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){We(i,i.return,Z)}}function by(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{u_(i,a)}catch(l){We(t,t.return,l)}}}function Ay(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Sy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function jd(t,i,a){try{var l=t.stateNode;MS(l,t.type,a,i),l[Et]=i}catch(h){We(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$c));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(zd(t,i,a),t=t.sibling;t!==null;)zd(t,i,a),t=t.sibling}function kc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,i,a),t=t.sibling;t!==null;)kc(t,i,a),t=t.sibling}function Ry(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[Et]=a}catch(d){We(t,t.return,d)}}var or=!1,gt=!1,Bd=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,zt=null;function pS(t,i){if(t=t.containerInfo,hp=Jc,t=jg(t),Uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,N=-1,G=0,Z=0,ee=t,$=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(b=T+h),ee!==d||l!==0&&ee.nodeType!==3||(N=T+l),ee.nodeType===3&&(T+=ee.nodeValue.length),(K=ee.firstChild)!==null;)$=ee,ee=K;for(;;){if(ee===t)break t;if($===a&&++G===h&&(b=T),$===d&&++Z===l&&(N=T),(K=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=K}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(fp={focusedElem:t,selectionRange:a},Jc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=na(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)mp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function Cy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qr(t,a),l&4&&Ol(5,a);break;case 1:if(qr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){We(a,a.return,T)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){We(a,a.return,T)}}l&64&&by(a),l&512&&Pl(a,a.return);break;case 3:if(qr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{u_(t,i)}catch(T){We(a,a.return,T)}}break;case 27:i===null&&l&4&&Ry(a);case 26:case 5:qr(t,a),i===null&&l&4&&Sy(a),l&512&&Pl(a,a.return);break;case 12:qr(t,a);break;case 13:qr(t,a),l&4&&Dy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AS.bind(null,a),BS(t,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){i=i!==null&&i.memoizedState!==null||gt,h=or;var d=gt;or=l,(gt=i)&&!d?Hr(t,a,(a.subtreeFlags&8772)!==0):qr(t,a),or=h,gt=d}break;case 30:break;default:qr(t,a)}}function Ny(t){var i=t.alternate;i!==null&&(t.alternate=null,Ny(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,pn=!1;function lr(t,i,a){for(a=a.child;a!==null;)xy(t,i,a),a=a.sibling}function xy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||Ei(a,i),lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||Ei(a,i);var l=it,h=pn;Yr(a.type)&&(it=a.stateNode,pn=!1),lr(t,i,a),ql(a.stateNode),it=l,pn=h;break;case 5:gt||Ei(a,i);case 6:if(l=it,h=pn,it=null,lr(t,i,a),it=l,pn=h,it!==null)if(pn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:it!==null&&(pn?(t=it,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xl(t)):yv(it,a.stateNode));break;case 4:l=it,h=pn,it=a.stateNode.containerInfo,pn=!0,lr(t,i,a),it=l,pn=h;break;case 0:case 11:case 14:case 15:gt||Br(2,a,i),gt||Br(4,a,i),lr(t,i,a);break;case 1:gt||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ay(a,i,l)),lr(t,i,a);break;case 21:lr(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,lr(t,i,a),gt=l;break;default:lr(t,i,a)}}function Dy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){We(i,i.return,a)}}function mS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Iy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Iy),i;default:throw Error(s(435,t.tag))}}function qd(t,i){var a=mS(t);i.forEach(function(l){var h=SS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Yr(b.type)){it=b.stateNode,pn=!1;break e}break;case 5:it=b.stateNode,pn=!1;break e;case 3:case 4:it=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(it===null)throw Error(s(160));xy(d,T,h),it=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Oy(i,t),i=i.sibling}var Wn=null;function Oy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),wn(t),l&4&&(Br(3,t,t.return),Ol(3,t),Br(5,t,t.return));break;case 1:Sn(i,t),wn(t),l&512&&(gt||a===null||Ei(a,a.return)),l&64&&or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(Sn(i,t),wn(t),l&512&&(gt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ds]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,pt(d),l=d;break e;case"link":var T=Rv("link","href",h).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(T=Rv("meta","content",h).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,pt(d),l=d}t.stateNode=l}else Iv(h,t.type,t.stateNode);else t.stateNode=wv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Iv(h,t.type,t.stateNode):wv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),wn(t),l&512&&(gt||a===null||Ei(a,a.return)),a!==null&&l&4&&jd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),wn(t),l&512&&(gt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(K){We(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,jd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Bd=!0);break;case 6:if(Sn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){We(t,t.return,K)}}break;case 3:if(Xc=null,h=Wn,Wn=Qc(i.containerInfo),Sn(i,t),Wn=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(i.containerInfo)}catch(K){We(t,t.return,K)}Bd&&(Bd=!1,Py(t));break;case 4:l=Wn,Wn=Qc(t.stateNode.containerInfo),Sn(i,t),wn(t),Wn=l;break;case 12:Sn(i,t),wn(t);break;case 13:Sn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=Pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qd(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=or,Z=gt;if(or=G||h,gt=Z||N,Sn(i,t),gt=Z,or=G,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||or||gt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=N.stateNode;var ee=N.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){We(N,N.return,K)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(K){We(N,N.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qd(t,a))));break;case 19:Sn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qd(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ud(t);kc(t,d,h);break;case 5:var T=a.stateNode;a.flags&32&&(kn(T,""),a.flags&=-33);var b=Ud(t);kc(t,b,T);break;case 3:case 4:var N=a.stateNode.containerInfo,G=Ud(t);zd(t,G,N);break;default:throw Error(s(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),ia(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ay(i,i.return,a),ia(i);break;case 27:ql(i.stateNode);case 26:case 5:Ei(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function Hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:Hr(h,d,a),Ol(4,d);break;case 1:if(Hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){We(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)l_(N[h],b)}catch(G){We(l,l.return,G)}}a&&T&64&&by(d),Pl(d,d.return);break;case 27:Ry(d);case 26:case 5:Hr(h,d,a),a&&l===null&&T&4&&Sy(d),Pl(d,d.return);break;case 12:Hr(h,d,a);break;case 13:Hr(h,d,a),a&&T&4&&Dy(h,d);break;case 22:d.memoizedState===null&&Hr(h,d,a),Pl(d,d.return);break;case 30:break;default:Hr(h,d,a)}i=i.sibling}}function Hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function Fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t))}function Ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)My(t,i,a,l),i=i.sibling}function My(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ti(t,i,a,l),h&2048&&Ol(9,i);break;case 1:Ti(t,i,a,l);break;case 3:Ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){Ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else Ti(t,i,a,l);break;case 13:Ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?Ti(t,i,a,l):Ml(t,i):d._visibility&2?Ti(t,i,a,l):(d._visibility|=2,Ja(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Hd(T,i);break;case 24:Ti(t,i,a,l),h&2048&&Fd(i.alternate,i);break;default:Ti(t,i,a,l)}}function Ja(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,T=i,b=a,N=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:Ja(d,T,b,N,h),Ol(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Ja(d,T,b,N,h):Ml(d,T):(Z._visibility|=2,Ja(d,T,b,N,h)),h&&G&2048&&Hd(T.alternate,T);break;case 24:Ja(d,T,b,N,h),h&&G&2048&&Fd(T.alternate,T);break;default:Ja(d,T,b,N,h)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ml(a,l),h&2048&&Hd(l.alternate,l);break;case 24:Ml(a,l),h&2048&&Fd(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var kl=8192;function eo(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 26:eo(t),t.flags&kl&&t.memoizedState!==null&&ew(Wn,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var i=Wn;Wn=Qc(t.stateNode.containerInfo),eo(t),Wn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,eo(t),kl=i):eo(t));break;default:eo(t)}}function Vy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,jy(l,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Vc(t)):Vl(t);break;default:Vl(t)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,jy(l,t)}Vy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}t=t.sibling}}function jy(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(Ny(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var gS={getCacheForType:function(t){var i=Zt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},_S=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Le=0,$e=0,Rn=null,Fr=!1,to=!1,Gd=!1,ur=0,ft=0,Gr=0,ra=0,$d=0,Fn=0,no=0,Ll=null,mn=null,Kd=!1,Qd=0,Lc=1/0,jc=null,$r=null,$t=0,Kr=null,io=null,ro=0,Yd=0,Xd=null,Uy=null,jl=0,Wd=null;function In(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(W.T!==null){var t=Ga;return t!==0?t:rp()}return Cr()}function zy(){Fn===0&&(Fn=(Le&536870912)===0||Be?Ko():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),Fn}function Cn(t,i,a){(t===et&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(so(t,0),Qr(t,Le,Fn,!1)),Bi(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(ra|=a),ft===4&&Qr(t,Le,Fn,!1)),bi(t))}function By(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||xs(t,i),h=l?ES(t,i):ep(t,i,!0),d=l;do{if(h===0){to&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!yS(a)){h=ep(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=t;h=Ll;var N=b.current.memoizedState.isDehydrated;if(N&&(so(b,T).flags|=256),T=ep(b,T,!1),T!==2){if(Gd&&!N){b.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){so(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Fn,!Fr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Qd+300-Pn(),10<h)){if(Qr(l,i,Fn,!Fr),ba(l,0,!0)!==0)break e;l.timeoutHandle=gv(qy.bind(null,l,a,mn,jc,Kd,i,Fn,ra,no,Fr,d,2,-0,0),h);break e}qy(l,a,mn,jc,Kd,i,Fn,ra,no,Fr,d,0,-0,0)}}break}while(!0);bi(t)}function qy(t,i,a,l,h,d,T,b,N,G,Z,ee,$,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:JS},ky(i),ee=tw(),ee!==null)){t.cancelPendingCommit=ee(Yy.bind(null,t,i,d,a,l,h,T,b,N,Z,1,$,K)),Qr(t,d,T,!G);return}Yy(t,i,d,a,l,h,T,b,N)}function yS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~$d,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),T=1<<d;l[d]=-1,h&=~T}a!==0&&oi(t,a,i)}function Uc(){return(Ge&6)===0?(Ul(0),!1):!0}function Zd(){if(De!==null){if($e===0)var t=De.return;else t=De,tr=Zs=null,md(t),Wa=null,Nl=0,t=De;for(;t!==null;)Ty(t.alternate,t),t=t.return;De=null}}function so(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zd(),et=t,De=a=Zi(t.current,null),Le=i,$e=0,Rn=null,Fr=!1,to=xs(t,i),Gd=!1,no=Fn=$d=ra=Gr=ft=0,mn=Ll=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return ur=i,oc(),a}function Hy(t,i){Ie=null,W.H=Rc,i===El||i===gc?(i=a_(),$e=3):i===i_?(i=a_(),$e=4):$e=i===oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,De===null&&(ft=1,Dc(t,Un(i,t.current)))}function Fy(){var t=W.H;return W.H=Rc,t===null?Rc:t}function Gy(){var t=W.A;return W.A=gS,t}function Jd(){ft=4,Fr||(Le&4194048)!==Le&&Hn.current!==null||(to=!0),(Gr&134217727)===0&&(ra&134217727)===0||et===null||Qr(et,Le,Fn,!1)}function ep(t,i,a){var l=Ge;Ge|=2;var h=Fy(),d=Gy();(et!==t||Le!==i)&&(jc=null,so(t,i)),i=!1;var T=ft;e:do try{if($e!==0&&De!==null){var b=De,N=Rn;switch($e){case 8:Zd(),T=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var G=$e;if($e=0,Rn=null,ao(t,b,N,G),a&&to){T=0;break e}break;default:G=$e,$e=0,Rn=null,ao(t,b,N,G)}}vS(),T=ft;break}catch(Z){Hy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,tr=Zs=null,Ge=l,W.H=h,W.A=d,De===null&&(et=null,Le=0,oc()),T}function vS(){for(;De!==null;)$y(De)}function ES(t,i){var a=Ge;Ge|=2;var l=Fy(),h=Gy();et!==t||Le!==i?(jc=null,Lc=Pn()+500,so(t,i)):to=xs(t,i);e:do try{if($e!==0&&De!==null){i=De;var d=Rn;t:switch($e){case 1:$e=0,Rn=null,ao(t,i,d,1);break;case 2:case 9:if(r_(d)){$e=0,Rn=null,Ky(i);break}i=function(){$e!==2&&$e!==9||et!==t||($e=7),bi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:r_(d)?($e=0,Rn=null,Ky(i)):($e=0,Rn=null,ao(t,i,d,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var b=De;if(!T||Cv(T)){$e=0,Rn=null;var N=b.sibling;if(N!==null)De=N;else{var G=b.return;G!==null?(De=G,zc(G)):De=null}break t}}$e=0,Rn=null,ao(t,i,d,5);break;case 6:$e=0,Rn=null,ao(t,i,d,6);break;case 8:Zd(),ft=6;break e;default:throw Error(s(462))}}TS();break}catch(Z){Hy(t,Z)}while(!0);return tr=Zs=null,W.H=l,W.A=h,Ge=a,De!==null?0:(et=null,Le=0,oc(),ft)}function TS(){for(;De!==null&&!Ho();)$y(De)}function $y(t){var i=vy(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?zc(t):De=i}function Ky(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=dy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=dy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:md(i);default:Ty(a,i),i=De=Qg(i,ur),i=vy(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?zc(t):De=i}function ao(t,i,a,l){tr=Zs=null,md(i),Wa=null,Nl=0;var h=i.return;try{if(cS(t,h,i,a,Le)){ft=1,Dc(t,Un(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,Dc(t,Un(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:to||(Le&536870912)!==0?t=!1:(Fr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qy(i,t)):zc(i)}function zc(t){var i=t;do{if((i.flags&32768)!==0){Qy(i,Fr);return}t=i.return;var a=fS(i.alternate,i,ur);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function Qy(t,i){do{var a=dS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function Yy(t,i,a,l,h,d,T,b,N){t.cancelPendingCommit=null;do Bc();while($t!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ff,Yo(t,a,d,T,b,N),t===et&&(De=et=null,Le=0),io=i,Kr=t,ro=a,Yd=d,Xd=h,Uy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wS(Rs,function(){return ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=le.p,le.p=2,T=Ge,Ge|=4;try{pS(t,i,a)}finally{Ge=T,le.p=h,W.T=l}}$t=1,Xy(),Wy(),Zy()}}function Xy(){if($t===1){$t=0;var t=Kr,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{Oy(i,t);var d=fp,T=jg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&Lg(b.ownerDocument.documentElement,b)){if(N!==null&&Uf(b)){var G=N.start,Z=N.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var ee=b.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var K=$.getSelection(),be=b.textContent.length,ye=Math.min(N.start,be),Xe=N.end===void 0?ye:Math.min(N.end,be);!K.extend&&ye>Xe&&(T=Xe,Xe=ye,ye=T);var U=Vg(b,ye),V=Vg(b,Xe);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var F=ee.createRange();F.setStart(U.node,U.offset),K.removeAllRanges(),ye>Xe?(K.addRange(F),K.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),K.addRange(F))}}}}for(ee=[],K=b;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var J=ee[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Jc=!!hp,fp=hp=null}finally{Ge=h,le.p=l,W.T=a}}t.current=i,$t=2}}function Wy(){if($t===2){$t=0;var t=Kr,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{Cy(t,i.alternate,i)}finally{Ge=h,le.p=l,W.T=a}}$t=3}}function Zy(){if($t===4||$t===3){$t=0,Vu();var t=Kr,i=io,a=ro,l=Uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,io=Kr=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($r=null),Aa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=le.p,le.p=2,W.T=null;try{for(var d=t.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{W.T=i,le.p=h}}(ro&3)!==0&&Bc(),bi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Wd?jl++:(jl=0,Wd=t):jl=0,Ul(0)}}function Jy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yl(i)))}function Bc(t){return Xy(),Wy(),Zy(),ev()}function ev(){if($t!==5)return!1;var t=Kr,i=Yd;Yd=0;var a=Aa(ro),l=W.T,h=le.p;try{le.p=32>a?32:a,W.T=null,a=Xd,Xd=null;var d=Kr,T=ro;if($t=0,io=Kr=null,ro=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,Ly(d.current),My(d,d.current,T,a),Ge=b,Ul(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=h,W.T=l,Jy(t,i)}}function tv(t,i,a){i=Un(a,i),i=Nd(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Bi(t,2),bi(t))}function We(t,i,a){if(t.tag===3)tv(t,t,a);else for(;i!==null;){if(i.tag===3){tv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){t=Un(a,t),a=sy(2),l=Lr(i,a,2),l!==null&&(ay(a,l,i,t),Bi(l,2),bi(l));break}}i=i.return}}function tp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _S;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Gd=!0,h.add(a),t=bS.bind(null,t,i,a),i.then(t,t))}function bS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>Pn()-Qd?(Ge&2)===0&&so(t,0):$d|=a,no===Le&&(no=0)),bi(t)}function nv(t,i){i===0&&(i=Qo()),t=Ba(t,i),t!==null&&(Bi(t,i),bi(t))}function AS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),nv(t,a)}function SS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),nv(t,a)}function wS(t,i){return Ss(t,i)}var qc=null,oo=null,np=!1,Hc=!1,ip=!1,sa=0;function bi(t){t!==oo&&t.next===null&&(oo===null?qc=oo=t:oo=oo.next=t),Hc=!0,np||(np=!0,IS())}function Ul(t,i){if(!ip&&Hc){ip=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,av(l,d))}else d=Le,d=ba(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xs(l,d)||(a=!0,av(l,d));l=l.next}while(a);ip=!1}}function RS(){iv()}function iv(){Hc=np=!1;var t=0;sa!==0&&(kS()&&(t=sa),sa=0);for(var i=Pn(),a=null,l=qc;l!==null;){var h=l.next,d=rv(l,i);d===0?(l.next=null,a===null?qc=h:a.next=h,h===null&&(oo=a)):(a=l,(t!==0||(d&3)!==0)&&(Hc=!0)),l=h}Ul(t)}function rv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-Wt(d),b=1<<T,N=h[T];N===-1?((b&a)===0||(b&l)!==0)&&(h[T]=$o(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=Le,a=ba(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ws(l),Aa(a)){case 2:case 8:a=Ea;break;case 32:a=Rs;break;case 268435456:a=Ta;break;default:a=Rs}return l=sv.bind(null,t),a=Ss(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ws(l),t.callbackPriority=2,t.callbackNode=null,2}function sv(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=Le;return l=ba(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,i),rv(t,Pn()),t.callbackNode!=null&&t.callbackNode===a?sv.bind(null,t):null)}function av(t,i){if(Bc())return null;By(t,i,!0)}function IS(){LS(function(){(Ge&6)!==0?Ss(Fo,RS):iv()})}function rp(){return sa===0&&(sa=Ko()),sa}function ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function lv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function CS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=ov((h[Et]||null).action),T=l.submitter;T&&(i=(i=T[Et]||null)?ov(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var b=new xa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var N=T?lv(h,T):new FormData(h);Sd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=T?lv(h,T):new FormData(h),Sd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var sp=0;sp<Hf.length;sp++){var ap=Hf[sp],NS=ap.toLowerCase(),xS=ap[0].toUpperCase()+ap.slice(1);Xn(NS,"on"+xS)}Xn(Bg,"onAnimationEnd"),Xn(qg,"onAnimationIteration"),Xn(Hg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(KA,"onTransitionRun"),Xn(QA,"onTransitionStart"),Xn(YA,"onTransitionCancel"),Xn(Fg,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function uv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var b=l[T],N=b.instance,G=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=G;try{d(h)}catch(Z){xc(Z)}h.currentTarget=null,d=N}else for(T=0;T<l.length;T++){if(b=l[T],N=b.instance,G=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=G;try{d(h)}catch(Z){xc(Z)}h.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[Wo];a===void 0&&(a=i[Wo]=new Set);var l=t+"__bubble";a.has(l)||(cv(i,t,2,!1),a.add(l))}function op(t,i,a){var l=0;i&&(l|=4),cv(a,t,l,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function lp(t){if(!t[Fc]){t[Fc]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||op(a,!1,t),op(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,op("selectionchange",!1,i))}}function cv(t,i,a,l){switch(Mv(i)){case 2:var h=rw;break;case 8:h=sw;break;default:h=bp}a=h.bind(null,i,a,t),h=void 0,!Ln||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function up(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===h)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;b!==null;){if(T=qi(b),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=d=T;continue e}b=b.parentNode}}l=l.return}$u(function(){var G=d,Z=Vn(a),ee=[];e:{var $=Gg.get(t);if($!==void 0){var K=xa,be=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":K=Va;break;case"focusin":be="focus",K=Pa;break;case"focusout":be="blur",K=Pa;break;case"beforeblur":case"afterblur":K=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ec;break;case Bg:case qg:case Hg:K=Ma;break;case Fg:K=nc;break;case"scroll":case"scrollend":K=Ku;break;case"wheel":K=La;break;case"copy":case"cut":case"paste":K=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=cl;break;case"toggle":case"beforetoggle":K=rc}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),U=ye?$!==null?$+"Capture":null:$;ye=[];for(var V=G,F;V!==null;){var J=V;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=js(V,U),J!=null&&ye.push(Bl(V,J,F))),Xe)break;V=V.return}0<ye.length&&($=new K($,be,null,a,Z),ee.push({event:$,listeners:ye}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==$i&&(be=a.relatedTarget||a.fromElement)&&(qi(be)||be[Mn]))break e;if((K||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,K?(be=a.relatedTarget||a.toElement,K=G,be=be?qi(be):null,be!==null&&(Xe=u(be),ye=be.tag,be!==Xe||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(K=null,be=G),K!==be)){if(ye=jn,J="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=cl,J="onPointerLeave",U="onPointerEnter",V="pointer"),Xe=K==null?$:ui(K),F=be==null?$:ui(be),$=new ye(J,V+"leave",K,a,Z),$.target=Xe,$.relatedTarget=F,J=null,qi(Z)===G&&(ye=new ye(U,V+"enter",be,a,Z),ye.target=F,ye.relatedTarget=Xe,J=ye),Xe=J,K&&be)t:{for(ye=K,U=be,V=0,F=ye;F;F=lo(F))V++;for(F=0,J=U;J;J=lo(J))F++;for(;0<V-F;)ye=lo(ye),V--;for(;0<F-V;)U=lo(U),F--;for(;V--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=lo(ye),U=lo(U)}ye=null}else ye=null;K!==null&&hv(ee,$,K,ye,!1),be!==null&&Xe!==null&&hv(ee,Xe,be,ye,!0)}}e:{if($=G?ui(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var fe=xg;else if(Nt($))if(Dg)fe=FA;else{fe=qA;var xe=BA}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&il(G.elementType)&&(fe=xg):fe=HA;if(fe&&(fe=fe(t,G))){Wi(ee,fe,a,Z);break e}xe&&xe(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Or($,"number",$.value)}switch(xe=G?ui(G):window,t){case"focusin":(Nt(xe)||xe.contentEditable==="true")&&(ja=xe,zf=G,dl=null);break;case"focusout":dl=zf=ja=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Ug(ee,a,Z);break;case"selectionchange":if($A)break;case"keydown":case"keyup":Ug(ee,a,Z)}var de;if(gi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ke?Q(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(y&&a.locale!=="ko"&&(ke||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ke&&(de=sl()):(fi=Z,Pr="value"in fi?fi.value:fi.textContent,ke=!0)),xe=Gc(G,ve),0<xe.length&&(ve=new ll(ve,t,null,a,Z),ee.push({event:ve,listeners:xe}),de?ve.data=de:(de=oe(a),de!==null&&(ve.data=de)))),(de=_?Ct(t,a):Ve(t,a))&&(ve=Gc(G,"onBeforeInput"),0<ve.length&&(xe=new ll("onBeforeInput","beforeinput",null,a,Z),ee.push({event:xe,listeners:ve}),xe.data=de)),CS(ee,t,G,a,Z)}uv(ee,i)})}function Bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=js(t,a),h!=null&&l.unshift(Bl(t,h,d)),h=js(t,i),h!=null&&l.push(Bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hv(t,i,a,l,h){for(var d=i._reactName,T=[];a!==null&&a!==l;){var b=a,N=b.alternate,G=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||G===null||(N=G,h?(G=js(a,d),G!=null&&T.unshift(Bl(a,G,N))):h||(G=js(a,d),G!=null&&T.push(Bl(a,G,N)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var OS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(PS,"")}function dv(t,i){return i=fv(i),fv(t)===i}function $c(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":ci(t,"class",l);break;case"tabIndex":ci(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){ci(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$c);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Dr(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pf.get(a)||a,Dr(t,a,l))}}function cp(t,i,a,l,h,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Dr(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,T,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=T=h=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Ye(t,i,l,Z,a,null)}}ks(t,d,b,N,G,T,h,!1),Ca(t);return;case"select":Oe("invalid",t),l=T=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:Ye(t,i,h,b,a,null)}i=d,a=T,t.multiple=!!l,i!=null?Gi(t,!!l,i,!1):a!=null&&Gi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,i,T,b,a,null)}Vs(t,l,h,d),Ca(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Oe(zl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,G,l,a,null)}return;default:if(il(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&cp(t,i,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,i,b,l,a,null))}function MS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,b=null,N=null,G=null,Z=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(K)||Ye(t,i,K,null,l,ee)}}for(var $ in l){var K=l[$];if(ee=a[$],l.hasOwnProperty($)&&(K!=null||ee!=null))switch($){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":T=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&Ye(t,i,$,K,l,ee)}}Tn(t,T,b,N,G,Z,d,h);return;case"select":K=T=b=$=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==N&&Ye(t,i,h,d,l,N)}i=b,a=T,l=K,$!=null?Gi(t,!!a,$,!1):!!l!=!!a&&(i!=null?Gi(t,!!a,i,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,i,b,null,l,h)}for(T in l)if(h=l[T],d=a[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,T,h,l,d)}Ke(t,$,K);return;case"option":for(var be in a)if($=a[be],a.hasOwnProperty(be)&&$!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ye(t,i,be,null,l,$)}for(N in l)if($=l[N],K=a[N],l.hasOwnProperty(N)&&$!==K&&($!=null||K!=null))switch(N){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ye(t,i,N,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)$=a[ye],a.hasOwnProperty(ye)&&$!=null&&!l.hasOwnProperty(ye)&&Ye(t,i,ye,null,l,$);for(G in l)if($=l[G],K=a[G],l.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ye(t,i,G,$,l,K)}return;default:if(il(i)){for(var Xe in a)$=a[Xe],a.hasOwnProperty(Xe)&&$!==void 0&&!l.hasOwnProperty(Xe)&&cp(t,i,Xe,void 0,l,$);for(Z in l)$=l[Z],K=a[Z],!l.hasOwnProperty(Z)||$===K||$===void 0&&K===void 0||cp(t,i,Z,$,l,K);return}}for(var U in a)$=a[U],a.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&Ye(t,i,U,null,l,$);for(ee in l)$=l[ee],K=a[ee],!l.hasOwnProperty(ee)||$===K||$==null&&K==null||Ye(t,i,ee,$,l,K)}var hp=null,fp=null;function Kc(t){return t.nodeType===9?t:t.ownerDocument}function pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function dp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pp=null;function kS(){var t=window.event;return t&&t.type==="popstate"?t===pp?!1:(pp=t,!0):(pp=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(t){return _v.resolve(null).then(t).catch(jS)}:gv;function jS(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function yv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=t.ownerDocument;if(a&1&&ql(T.documentElement),a&2&&ql(T.body),a&4)for(a=T.head,ql(a),T=a.firstChild;T;){var b=T.nextSibling,N=T.nodeName;T[Ds]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(h===0){t.removeChild(d),Xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Xl(i)}function mp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mp(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function US(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ds])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function zS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function gp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function BS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var _p=null;function vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ev(t,i,a){switch(i=Kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xr(t)}var Gn=new Map,Tv=new Set;function Qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=le.d;le.d={f:qS,r:HS,D:FS,C:GS,L:$S,m:KS,X:YS,S:QS,M:XS};function qS(){var t=cr.f(),i=Uc();return t||i}function HS(t){var i=li(t);i!==null&&i.tag===5&&i.type==="form"?B_(i):cr.r(t)}var uo=typeof document>"u"?null:document;function bv(t,i,a){var l=uo;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Tv.has(h)||(Tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),pt(i),l.head.appendChild(i)))}}function FS(t){cr.D(t),bv("dns-prefetch",t,null)}function GS(t,i){cr.C(t,i),bv("preconnect",t,i)}function $S(t,i,a){cr.L(t,i,a);var l=uo;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=co(t);break;case"script":d=ho(t)}Gn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Kt(i,"link",t),pt(i),l.head.appendChild(i)))}}function KS(t,i){cr.m(t,i);var a=uo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!Gn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Kt(l,"link",t),pt(l),a.head.appendChild(l)}}}function QS(t,i,a){cr.S(t,i,a);var l=uo;if(l&&t){var h=un(l).hoistableStyles,d=co(t);i=i||"default";var T=h.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Hl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&yp(t,a);var N=T=l.createElement("link");pt(N),Kt(N,"link",t),N._p=new Promise(function(G,Z){N.onload=G,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:b},h.set(d,T)}}}function YS(t,i){cr.X(t,i);var a=uo;if(a&&t){var l=un(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=E({src:t,async:!0},i),(i=Gn.get(h))&&vp(t,i),d=a.createElement("script"),pt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XS(t,i){cr.M(t,i);var a=uo;if(a&&t){var l=un(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Gn.get(h))&&vp(t,i),d=a.createElement("script"),pt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Av(t,i,a,l){var h=(h=Ae.current)?Qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=un(h).hoistableStyles,T=d.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=h.querySelector(Hl(t)))&&!d._p&&(T.instance=d,T.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||WS(h,t,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+Tt(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function WS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),pt(i),t.head.appendChild(i))}function ho(t){return'[src="'+Tt(t)+'"]'}function Fl(t){return"script[async]"+t}function wv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Kt(l,"style",h),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=co(a.href);var d=t.querySelector(Hl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=Sv(a),(h=Gn.get(h))&&yp(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var T=d;return T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Kt(d,"link",l),i.state.loading|=4,Yc(d,a.precedence,t),i.instance=d;case"script":return d=ho(a.src),(h=t.querySelector(Fl(d)))?(i.instance=h,pt(h),h):(l=a,(h=Gn.get(d))&&(l=E({},a),vp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function yp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function vp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function Rv(t,i,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ds]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=t+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function Iv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Gl=null;function JS(){}function ew(t,i,a){if(Gl===null)throw Error(s(475));var l=Gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=co(a.href),d=t.querySelector(Hl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=Sv(a),(h=Gn.get(h))&&yp(a,h),d=d.createElement("link"),pt(d);var T=d;T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function tw(){if(Gl===null)throw Error(s(475));var t=Gl;return t.stylesheets&&t.count===0&&Ep(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ep(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)Ep(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function Ep(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,i.forEach(nw,t),Zc=null,Wc.call(t))}function nw(t,i){if(!(i.state.loading&4)){var a=Zc.get(t);if(a)var l=a.get(null);else{a=new Map,Zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,h),a.set(T,h),this.count++,l=Wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var $l={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function iw(t,i,a,l,h,d,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Nv(t,i,a,l,h,d,T,b,N,G,Z,ee){return t=new iw(t,i,a,T,b,N,G,ee),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=td(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},sd(d),t}function xv(t){return t?(t=qa,t):qa}function Dv(t,i,a,l,h,d){h=xv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(Cn(a,t,i),bl(a,t,i))}function Ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Tp(t,i){Ov(t,i),(t=t.alternate)&&Ov(t,i)}function Pv(t){if(t.tag===13){var i=Ba(t,67108864);i!==null&&Cn(i,t,67108864),Tp(t,67108864)}}var Jc=!0;function rw(t,i,a,l){var h=W.T;W.T=null;var d=le.p;try{le.p=2,bp(t,i,a,l)}finally{le.p=d,W.T=h}}function sw(t,i,a,l){var h=W.T;W.T=null;var d=le.p;try{le.p=8,bp(t,i,a,l)}finally{le.p=d,W.T=h}}function bp(t,i,a,l){if(Jc){var h=Ap(l);if(h===null)up(t,i,l,eh,a),kv(t,l);else if(ow(h,t,i,a,l))l.stopPropagation();else if(kv(t,l),i&4&&-1<aw.indexOf(t)){for(;h!==null;){var d=li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Kn(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var N=1<<31-Wt(T);b.entanglements[1]|=N,T&=~N}bi(d),(Ge&6)===0&&(Lc=Pn()+500,Ul(0))}}break;case 13:b=Ba(d,2),b!==null&&Cn(b,d,2),Uc(),Tp(d,2)}if(d=Ap(l),d===null&&up(t,i,l,eh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else up(t,i,l,null,a)}}function Ap(t){return t=Vn(t),Sp(t)}var eh=null;function Sp(t){if(eh=null,t=qi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function Mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(If()){case Fo:return 2;case Ea:return 8;case Rs:case Cf:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var wp=!1,Xr=null,Wr=null,Zr=null,Kl=new Map,Ql=new Map,Jr=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Yl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=li(i),i!==null&&Pv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ow(t,i,a,l,h){switch(i){case"focusin":return Xr=Yl(Xr,t,i,a,l,h),!0;case"dragenter":return Wr=Yl(Wr,t,i,a,l,h),!0;case"mouseover":return Zr=Yl(Zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Yl(Kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ql.set(d,Yl(Ql.get(d)||null,t,i,a,l,h)),!0}return!1}function Vv(t){var i=qi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Uu(t.priority,function(){if(a.tag===13){var l=In();l=Ir(l);var h=Ba(a,l);h!==null&&Cn(h,a,l),Tp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ap(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$i=l,a.target.dispatchEvent(l),$i=null}else return i=li(a),i!==null&&Pv(i),t.blockedOn=a,!1;i.shift()}return!0}function Lv(t,i,a){th(t)&&a.delete(i)}function lw(){wp=!1,Xr!==null&&th(Xr)&&(Xr=null),Wr!==null&&th(Wr)&&(Wr=null),Zr!==null&&th(Zr)&&(Zr=null),Kl.forEach(Lv),Ql.forEach(Lv)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,wp||(wp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lw)))}var ih=null;function jv(t){ih!==t&&(ih=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Sp(l||a)===null)continue;break}var d=li(a);d!==null&&(t.splice(i,3),i-=3,Sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(t){function i(N){return nh(N,t)}Xr!==null&&nh(Xr,t),Wr!==null&&nh(Wr,t),Zr!==null&&nh(Zr,t),Kl.forEach(i),Ql.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],T=h[Et]||null;if(typeof d=="function")T||jv(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[Et]||null)b=T.formAction;else if(Sp(h)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),jv(a)}}}function Rp(t){this._internalRoot=t}rh.prototype.render=Rp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();Dv(a,l,t,i,null,null)},rh.prototype.unmount=Rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dv(t.current,2,null,t,null,null),Uc(),i[Mn]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&Vv(t)}};var Uv=e.version;if(Uv!=="19.1.0")throw Error(s(527,Uv,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{ct=sh.inject(uw),Fe=sh}catch{}}return Zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ty,d=ny,T=iy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Nv(t,1,!1,null,null,a,l,h,d,T,b,null),t[Mn]=i.current,lp(t),new Rp(i)},Zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ty,T=ny,b=iy,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Nv(t,1,!0,i,a??null,l,h,d,T,b,N,G),i.context=xv(null),a=i.current,l=In(),l=Ir(l),h=Vr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Bi(i,a),bi(i),t[Mn]=i.current,lp(t),new rh(i)},Zl.version="19.1.0",Zl}var Yv;function vw(){if(Yv)return Np.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Np.exports=yw(),Np.exports}var Ew=vw(),Jl={},Xv;function Tw(){if(Xv)return Jl;Xv=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=f,Jl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,D){const I=new u,B=w.length;if(B<2)return I;const L=(D==null?void 0:D.decode)||E;let P=0;do{const X=w.indexOf("=",P);if(X===-1)break;const Y=w.indexOf(";",P),re=Y===-1?B:Y;if(X>re){P=w.lastIndexOf(";",X-1)+1;continue}const ae=p(w,P,X),ge=m(w,X,ae),O=w.slice(ae,ge);if(I[O]===void 0){let R=p(w,X+1,re),C=m(w,re,R);const k=L(w.slice(R,C));I[O]=k}P=re+1}while(P<B);return I}function p(w,D,I){do{const B=w.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<I);return I}function m(w,D,I){for(;D>I;){const B=w.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return I}function g(w,D,I){const B=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=B(D);if(!e.test(L))throw new TypeError(`argument val is invalid: ${D}`);let P=w+"="+L;if(!I)return P;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);P+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);P+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);P+="; Path="+I.path}if(I.expires){if(!A(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);P+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(P+="; HttpOnly"),I.secure&&(P+="; Secure"),I.partitioned&&(P+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return P}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Jl}Tw();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wv="popstate";function bw(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Kp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:du(o)}return Sw(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Oi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Kp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||s||Aw()}}function du({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Sw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let L=E(),P=L==null?null:L-g;g=L,m&&m({action:p,location:B.location,delta:P})}function w(L,P){p="PUSH";let X=Kp(B.location,L,P);g=E()+1;let Y=Zv(X,g),re=B.createHref(X);try{f.pushState(Y,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&m&&m({action:p,location:B.location,delta:1})}function D(L,P){p="REPLACE";let X=Kp(B.location,L,P);g=E();let Y=Zv(X,g),re=B.createHref(X);f.replaceState(Y,"",re),u&&m&&m({action:p,location:B.location,delta:0})}function I(L){let P=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof L=="string"?L:du(L);return X=X.replace(/ $/,"%20"),lt(P,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,P)}let B={get action(){return p},get location(){return r(o,f)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,A),m=L,()=>{o.removeEventListener(Wv,A),m=null}},createHref(L){return e(o,L)},createURL:I,encodeLocation(L){let P=I(L);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:D,go(L){return f.go(L)}};return B}function qT(r,e,n="/"){return ww(r,e,n,!1)}function ww(r,e,n,s){let o=typeof e=="string"?Mo(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let f=HT(r);Rw(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Lw(u);p=kw(f[m],g,s)}return p}function HT(r,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=mr([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Pw(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of FT(u.path))o(u,f,m)}),e}function FT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=FT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Rw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Mw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Iw=/^:[\w-]+$/,Cw=3,Nw=2,xw=1,Dw=10,Ow=-2,Jv=r=>r==="*";function Pw(r,e){let n=r.split("/"),s=n.length;return n.some(Jv)&&(s+=Ow),e&&(s+=Nw),n.filter(o=>!Jv(o)).reduce((o,u)=>o+(Iw.test(u)?Cw:u===""?xw:Dw),s)}function Mw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function kw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Ih({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),w=m.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Ih({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:mr([u,A.pathname]),pathnameBase:Bw(mr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=mr([u,A.pathnameBase]))}return f}function Ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Vw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let I=p[w]||"";f=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const D=p[w];return A&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Vw(r,e=!1,n=!0){Oi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function jw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Mo(r):r;return{pathname:n?n.startsWith("/")?n:Uw(n,e):e,search:qw(s),hash:Hw(o)}}function Uw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GT(r){let e=zw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $T(r,e,n,s=!1){let o;typeof r=="string"?o=Mo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Pp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Pp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Pp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}p=A>=0?e[A]:"/"}let m=jw(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),Bw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Hw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Fw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var Gw=["GET",...KT];new Set(Gw);var ko=q.createContext(null);ko.displayName="DataRouter";var Zh=q.createContext(null);Zh.displayName="DataRouterState";var QT=q.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var $w=q.createContext(new Map);$w.displayName="Fetchers";var Kw=q.createContext(null);Kw.displayName="Await";var ki=q.createContext(null);ki.displayName="Navigation";var bu=q.createContext(null);bu.displayName="Location";var Vi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Sm=q.createContext(null);Sm.displayName="RouteError";function Qw(r,{relative:e}={}){lt(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(ki),{hash:o,pathname:u,search:f}=Su(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:mr([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Au(){return q.useContext(bu)!=null}function si(){return lt(Au(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(bu).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XT(r){q.useContext(ki).static||q.useLayoutEffect(r)}function $n(){let{isDataRoute:r}=q.useContext(Vi);return r?oR():Yw()}function Yw(){lt(Au(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ko),{basename:e,navigator:n}=q.useContext(ki),{matches:s}=q.useContext(Vi),{pathname:o}=si(),u=JSON.stringify(GT(s)),f=q.useRef(!1);return XT(()=>{f.current=!0}),q.useCallback((m,g={})=>{if(Oi(f.current,YT),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=$T(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}q.createContext(null);function wm(){let{matches:r}=q.useContext(Vi),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:n}=q.useContext(Vi),{pathname:s}=si(),o=JSON.stringify(GT(n));return q.useMemo(()=>$T(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Xw(r,e){return WT(r,e)}function WT(r,e,n,s){var X;lt(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(ki),{matches:f}=q.useContext(Vi),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let Y=A&&A.path||"";ZT(g,!A||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=si(),D;if(e){let Y=typeof e=="string"?Mo(e):e;lt(E==="/"||((X=Y.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=w;let I=D.pathname||"/",B=I;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");B="/"+I.replace(/^\//,"").split("/").slice(Y.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:qT(r,{pathname:B});Oi(A||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Oi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=tR(L&&L.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:mr([E,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:mr([E,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),f,n,s);return e&&P?q.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},P):P}function Ww(){let r=aR(),e=Fw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Zw=q.createElement(Ww,null),Jw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(Vi.Provider,{value:this.props.routeContext},q.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eR({routeContext:r,match:e,children:n}){let s=q.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vi.Provider,{value:r},n)}function tR(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let A,w=!1,D=null,I=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||Zw,f&&(p<0&&E===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):p===E&&(w=!0,I=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),L=()=>{let P;return A?P=D:w?P=I:g.route.Component?P=q.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,q.createElement(eR,{match:g,routeContext:{outlet:m,matches:B,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(Jw,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:L(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):L()},null)}function Rm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(r){let e=q.useContext(ko);return lt(e,Rm(r)),e}function iR(r){let e=q.useContext(Zh);return lt(e,Rm(r)),e}function rR(r){let e=q.useContext(Vi);return lt(e,Rm(r)),e}function Im(r){let e=rR(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sR(){return Im("useRouteId")}function aR(){var s;let r=q.useContext(Sm),e=iR("useRouteError"),n=Im("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function oR(){let{router:r}=nR("useNavigate"),e=Im("useNavigate"),n=q.useRef(!1);return XT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Oi(n.current,YT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var eE={};function ZT(r,e,n){!e&&!eE[r]&&(eE[r]=!0,Oi(!1,n))}q.memo(lR);function lR({routes:r,future:e,state:n}){return WT(r,void 0,n,e)}function ot(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Mo(n));let{pathname:m="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,D=q.useMemo(()=>{let I=vr(m,f);return I==null?null:{location:{pathname:I,search:g,hash:E,state:A,key:w},navigationType:s}},[f,m,g,E,A,w,s]);return Oi(D!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(ki.Provider,{value:p},q.createElement(bu.Provider,{children:e,value:D}))}function cR({children:r,location:e}){return Xw(Qp(r),e)}function Qp(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Qp(s.props.children,u));return}lt(s.type===ot,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qp(s.props.children,u)),n.push(f)}),n}var mh="get",gh="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function hR(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function fR(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function dR(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function pR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mR(r,e){return r.button===0&&(!e||e==="_self")&&!pR(r)}var ah=null;function gR(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mp(r){return r!=null&&!_R.has(r)?(Oi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function yR(r,e){let n,s,o,u,f;if(fR(r)){let p=r.getAttribute("action");s=p?vr(p,e):null,n=r.getAttribute("method")||mh,o=Mp(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(hR(r)||dR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?vr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||mh,o=Mp(r.getAttribute("formenctype"))||Mp(p.getAttribute("enctype"))||gh,u=new FormData(p,r),!gR()){let{name:g,type:E,value:A}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=gh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Cm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function vR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ER(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await vR(u,n);return f.links?f.links():[]}return[]}));return wR(s.flat(1).filter(ER).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function tE(r,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var A;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function bR(r,e,{includeHydrateFallback:n}={}){return AR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AR(r){return[...new Set(r)]}function SR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function wR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(SR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function RR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JT(){let r=q.useContext(ko);return Cm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function IR(){let r=q.useContext(Zh);return Cm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Nm=q.createContext(void 0);Nm.displayName="FrameworkContext";function e0(){let r=q.useContext(Nm);return Cm(r,"You must render this element inside a <HydratedRouter> element"),r}function CR(r,e){let n=q.useContext(Nm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let B=P=>{P.forEach(X=>{f(X.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),q.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let D=()=>{o(!0)},I=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:eu(p,D),onBlur:eu(m,I),onMouseEnter:eu(g,D),onMouseLeave:eu(E,I),onTouchStart:eu(A,D)}]:[!1,w,{}]}function eu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function NR({page:r,...e}){let{router:n}=JT(),s=q.useMemo(()=>qT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(DR,{page:r,matches:s,...e}):null}function xR(r){let{manifest:e,routeModules:n}=e0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return TR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function DR({page:r,matches:e,...n}){let s=si(),{manifest:o,routeModules:u}=e0(),{basename:f}=JT(),{loaderData:p,matches:m}=IR(),g=q.useMemo(()=>tE(r,e,m,o,s,"data"),[r,e,m,o,s]),E=q.useMemo(()=>tE(r,e,m,o,s,"assets"),[r,e,m,o,s]),A=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,B=!1;if(e.forEach(P=>{var Y;let X=o.routes[P.route.id];!X||!X.hasLoader||(!g.some(re=>re.route.id===P.route.id)&&P.route.id in p&&((Y=u[P.route.id])!=null&&Y.shouldRevalidate)||X.hasClientLoader?B=!0:I.add(P.route.id))}),I.size===0)return[];let L=RR(r,f);return B&&I.size>0&&L.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,g,e,r,u]),w=q.useMemo(()=>bR(E,o),[E,o]),D=xR(E);return q.createElement(q.Fragment,null,A.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),D.map(({key:I,link:B})=>q.createElement("link",{key:I,...B})))}function OR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t0&&(window.__reactRouterVersion="7.4.1")}catch{}function PR({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=bw({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),p=q.useCallback(m=>{q.startTransition(()=>f(m))},[f]);return q.useLayoutEffect(()=>o.listen(p),[o,p]),q.createElement(uR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:A,...w},D){let{basename:I}=q.useContext(ki),B=typeof g=="string"&&n0.test(g),L,P=!1;if(typeof g=="string"&&B&&(L=g,t0))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),j=vr(k.pathname,I);k.origin===C.origin&&j!=null?g=j+k.search+k.hash:P=!0}catch{Oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Qw(g,{relative:o}),[Y,re,ae]=CR(s,w),ge=LR(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:A});function O(C){e&&e(C),C.defaultPrevented||ge(C)}let R=q.createElement("a",{...w,...ae,href:L||X,onClick:P||u?e:O,ref:OR(D,re),target:m,"data-discover":!B&&n==="render"?"true":void 0});return Y&&!B?q.createElement(q.Fragment,null,R,q.createElement(NR,{page:X})):R});st.displayName="Link";var MR=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let A=Su(f,{relative:g.relative}),w=si(),D=q.useContext(Zh),{navigator:I,basename:B}=q.useContext(ki),L=D!=null&&qR(A)&&p===!0,P=I.encodeLocation?I.encodeLocation(A).pathname:A.pathname,X=w.pathname,Y=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,P=P.toLowerCase()),Y&&B&&(Y=vr(Y,B)||Y);const re=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ae=X===P||!o&&X.startsWith(P)&&X.charAt(re)==="/",ge=Y!=null&&(Y===P||!o&&Y.startsWith(P)&&Y.charAt(P.length)==="/"),O={isActive:ae,isPending:ge,isTransitioning:L},R=ae?e:void 0,C;typeof s=="function"?C=s(O):C=[s,ae?"active":null,ge?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(O):u;return q.createElement(st,{...g,"aria-current":R,className:C,ref:E,style:k,to:f,viewTransition:p},typeof m=="function"?m(O):m)});MR.displayName="NavLink";var kR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=mh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:A,...w},D)=>{let I=zR(),B=BR(p,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",P=typeof p=="string"&&n0.test(p),X=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let re=Y.nativeEvent.submitter,ae=(re==null?void 0:re.getAttribute("formmethod"))||f;I(re||Y.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:D,method:L,action:B,onSubmit:s?m:X,...w,"data-discover":!P&&r==="render"?"true":void 0})});kR.displayName="Form";function VR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(r){let e=q.useContext(ko);return lt(e,VR(r)),e}function LR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=$n(),m=si(),g=Su(r,{relative:u});return q.useCallback(E=>{if(mR(E,e)){E.preventDefault();let A=n!==void 0?n:du(m)===du(g);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,r,o,u,f])}var jR=0,UR=()=>`__${String(++jR)}__`;function zR(){let{router:r}=i0("useSubmit"),{basename:e}=q.useContext(ki),n=sR();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=yR(s,e);if(o.navigate===!1){let E=o.fetcherKey||UR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function BR(r,{relative:e}={}){let{basename:n}=q.useContext(ki),s=q.useContext(Vi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},f=si();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),du(u)}function qR(r,e={}){let n=q.useContext(QT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),o=Su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,f)!=null||Ih(o.pathname,u)!=null}new TextEncoder;const HR="https://OspinaFelipeDev.github.io/sport-social-app/assets/inicio-pro-Cv0UB-Aj.png";function FR(){const r=$n();return v.jsxs("div",{className:"home",children:[v.jsxs("div",{className:"container",children:[v.jsx("div",{className:"circle"}),v.jsx("img",{src:HR,alt:"Imagen",className:"image"})]}),v.jsxs("div",{className:"container-inicio",children:[v.jsx("h1",{children:"SportSocial"}),v.jsx("p",{children:"Estás listo(a) para reunirte!"}),v.jsxs("button",{onClick:()=>r("/login"),children:[v.jsx("span",{children:"Hagamos Deporte"}),v.jsx("i",{className:"fa-solid fa-chevron-right"})]})]})]})}const GR="_loginContainer_1cmxs_21",$R="_logo_1cmxs_43",KR="_containerInicio_1cmxs_73",QR="_inputContainer_1cmxs_105",YR="_loginButton_1cmxs_167",XR="_errorMessage_1cmxs_215",WR="_containerCrear_1cmxs_255",ZR="_questionText_1cmxs_273",JR="_createAccountText_1cmxs_281",Ai={loginContainer:GR,logo:$R,containerInicio:KR,inputContainer:QR,loginButton:YR,errorMessage:XR,containerCrear:WR,questionText:ZR,createAccountText:JR},r0="https://OspinaFelipeDev.github.io/sport-social-app/assets/logo-sportsocial-CDJxC8N3.png",e1=()=>{};var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},t1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,D=g&63;m||(D=64,f||(w=64)),s.push(n[E],n[A],n[w],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):t1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new n1;const w=u<<2|p>>4;if(s.push(w),g!==64){const D=p<<4&240|g>>2;if(s.push(D),A!==64){const I=g<<6&192|A;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(r){const e=s0(r);return a0.encodeByteArray(e,!0)},Ch=function(r){return i1(r).replace(/\./g,"")},o0=function(r){try{return a0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=()=>r1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof nE>"u")return;const r=nE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},o1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o0(r[1]);return e&&JSON.parse(e)},ef=()=>{try{return e1()||s1()||a1()||o1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},u0=r=>{const e=l0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c0=()=>{var r;return(r=ef())===null||r===void 0?void 0:r.config},h0=r=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function c1(){var r;const e=(r=ef())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function m1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function _1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class Li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=y1,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?v1(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Li(o,p,s)}}function v1(r,e){return r.replace(E1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const E1=/\{\$([^}]+)}/g;function T1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Er(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(iE(u)&&iE(f)){if(!Er(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function iE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function b1(r,e){const n=new A1(r,e);return n.subscribe.bind(n)}class A1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=kp),o.error===void 0&&(o.error=kp),o.complete===void 0&&(o.complete=kp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r){return r&&r._delegate?r._delegate:r}class hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new l1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I1(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(r){return r===aa?void 0:r}function I1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const N1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},x1=Pe.INFO,D1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},O1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=D1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=x1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const P1=(r,e)=>e.some(n=>r instanceof n);let rE,sE;function M1(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Yp=new WeakMap,p0=new WeakMap,Vp=new WeakMap,Dm=new WeakMap;function V1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(os(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&d0.set(n,r)}).catch(()=>{}),Dm.set(e,r),e}function L1(r){if(Yp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Yp.set(r,e)}let Xp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Yp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||p0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j1(r){Xp=r(Xp)}function U1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Lp(this),e,...n);return p0.set(s,e.sort?e.sort():[e]),os(s)}:k1().includes(r)?function(...e){return r.apply(Lp(this),e),os(d0.get(this))}:function(...e){return os(r.apply(Lp(this),e))}}function z1(r){return typeof r=="function"?U1(r):(r instanceof IDBTransaction&&L1(r),P1(r,M1())?new Proxy(r,Xp):r)}function os(r){if(r instanceof IDBRequest)return V1(r);if(Vp.has(r))return Vp.get(r);const e=z1(r);return e!==r&&(Vp.set(r,e),Dm.set(e,r)),e}const Lp=r=>Dm.get(r);function B1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=os(f);return s&&f.addEventListener("upgradeneeded",m=>{s(os(f.result),m.oldVersion,m.newVersion,os(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const q1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],jp=new Map;function aE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=H1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||q1.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return jp.set(e,u),u}j1(r=>({...r,get:(e,n,s)=>aE(e,n)||r.get(e,n,s),has:(e,n)=>!!aE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function G1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wp="@firebase/app",oE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new xm("@firebase/app"),$1="@firebase/app-compat",K1="@firebase/analytics-compat",Q1="@firebase/analytics",Y1="@firebase/app-check-compat",X1="@firebase/app-check",W1="@firebase/auth",Z1="@firebase/auth-compat",J1="@firebase/database",eI="@firebase/data-connect",tI="@firebase/database-compat",nI="@firebase/functions",iI="@firebase/functions-compat",rI="@firebase/installations",sI="@firebase/installations-compat",aI="@firebase/messaging",oI="@firebase/messaging-compat",lI="@firebase/performance",uI="@firebase/performance-compat",cI="@firebase/remote-config",hI="@firebase/remote-config-compat",fI="@firebase/storage",dI="@firebase/storage-compat",pI="@firebase/firestore",mI="@firebase/vertexai",gI="@firebase/firestore-compat",_I="firebase",yI="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="[DEFAULT]",vI={[Wp]:"fire-core",[$1]:"fire-core-compat",[Q1]:"fire-analytics",[K1]:"fire-analytics-compat",[X1]:"fire-app-check",[Y1]:"fire-app-check-compat",[W1]:"fire-auth",[Z1]:"fire-auth-compat",[J1]:"fire-rtdb",[eI]:"fire-data-connect",[tI]:"fire-rtdb-compat",[nI]:"fire-fn",[iI]:"fire-fn-compat",[rI]:"fire-iid",[sI]:"fire-iid-compat",[aI]:"fire-fcm",[oI]:"fire-fcm-compat",[lI]:"fire-perf",[uI]:"fire-perf-compat",[cI]:"fire-rc",[hI]:"fire-rc-compat",[fI]:"fire-gcs",[dI]:"fire-gcs-compat",[pI]:"fire-fst",[gI]:"fire-fst-compat",[mI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,EI=new Map,Jp=new Map;function lE(r,e){try{r.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function la(r){const e=r.name;if(Jp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,r);for(const n of Nh.values())lE(n,r);for(const n of EI.values())lE(n,r);return!0}function tf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new wu("app","Firebase",TI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=yI;function m0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=c0()),!n)throw ls.create("no-options");const u=Nh.get(o);if(u){if(Er(n,u.options)&&Er(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new C1(o);for(const m of Jp.values())f.addComponent(m);const p=new bI(n,s,f);return Nh.set(o,p),p}function Om(r=Zp){const e=Nh.get(r);if(!e&&r===Zp&&c0())return m0();if(!e)throw ls.create("no-app",{appName:r});return e}function Ii(r,e,n){var s;let o=(s=vI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(p.join(" "));return}la(new hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",SI=1,pu="firebase-heartbeat-store";let Up=null;function g0(){return Up||(Up=B1(AI,SI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Up}async function wI(r){try{const n=(await g0()).transaction(pu),s=await n.objectStore(pu).get(_0(r));return await n.done,s}catch(e){if(e instanceof Li)Tr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function uE(r,e){try{const s=(await g0()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,_0(r)),await s.done}catch(n){if(n instanceof Li)Tr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function _0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1024,II=30;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>II){const f=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cE(),{heartbeatsToSend:s,unsentEntries:o}=NI(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Tr.warn(n),""}}}function cE(){return new Date().toISOString().substring(0,10)}function NI(r,e=RI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),hE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),hE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?_1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hE(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function DI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){la(new hs("platform-logger",e=>new F1(e),"PRIVATE")),la(new hs("heartbeat",e=>new CI(e),"PRIVATE")),Ii(Wp,oE,r),Ii(Wp,oE,"esm2017"),Ii("fire-js","")}OI("");var PI="firebase",MI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(PI,MI,"app");function Pm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=y0,v0=new wu("auth","Firebase",y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new xm("@firebase/auth");function VI(r,...e){xh.logLevel<=Pe.WARN&&xh.warn(`Auth (${da}): ${r}`,...e)}function _h(r,...e){xh.logLevel<=Pe.ERROR&&xh.error(`Auth (${da}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...e){throw Mm(r,...e)}function Ci(r,...e){return Mm(r,...e)}function E0(r,e,n){const s=Object.assign(Object.assign({},kI()),{[e]:n});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function gr(r){return E0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return v0.create(r,...e)}function Ee(r,e,...n){if(!r)throw Mm(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _h(e),new Error(e)}function br(r,e){r||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function LI(){return fE()==="http:"||fE()==="https:"}function fE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||f1()||"connection"in navigator)?navigator.onLine:!0}function UI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=u1()||d1()}get(){return jI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qI=new Iu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function wr(r,e,n,s,o={}){return b0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ru(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return h1()||(g.referrerPolicy="no-referrer"),T0.fetch()(await A0(r,r.config.apiHost,n,p),g)})}async function b0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},zI),e);try{const o=new FI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw oh(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw E0(r,E,g);ii(r,E)}}catch(o){if(o instanceof Li)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await wr(r,e,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function A0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?km(r.config,o):`${r.config.apiScheme}://${o}`;return BI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),qI.get())})}}function oh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function dE(r){return r!==void 0&&r.enterprise!==void 0}class GI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $I(r,e){return wr(r,"GET","/v2/recaptchaConfig",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return wr(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return wr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(r,e=!1){const n=Rt(r),s=await n.getIdToken(e),o=Vm(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:lu(zp(o.auth_time)),issuedAtTime:lu(zp(o.iat)),expirationTime:lu(zp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function zp(r){return Number(r)*1e3}function Vm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=o0(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pE(r){const e=Vm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Li&&YI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ao(r,Dh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?S0(u.providerUserInfo):[],p=ZI(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function WI(r){const e=Rt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function S0(r){return r.map(e=>{var{providerId:n}=e,s=Pm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){const n=await b0(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await A0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",T0.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eC(r,e){return wr(r,"POST","/v2/accounts:revokeToken",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await JI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new vo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Ao(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,I=(f=n.photoURL)!==null&&f!==void 0?f:void 0,B=(p=n.tenantId)!==null&&p!==void 0?p:void 0,L=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,P=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:re,isAnonymous:ae,providerData:ge,stsTokenManager:O}=n;Ee(Y&&O,e,"internal-error");const R=vo.fromJSON(this.name,O);Ee(typeof Y=="string",e,"internal-error"),ts(A,e.name),ts(w,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),ts(D,e.name),ts(I,e.name),ts(B,e.name),ts(L,e.name),ts(P,e.name),ts(X,e.name);const C=new ei({uid:Y,auth:e,email:w,emailVerified:re,displayName:A,isAnonymous:ae,photoURL:I,phoneNumber:D,tenantId:B,stsTokenManager:R,createdAt:P,lastLoginAt:X});return ge&&Array.isArray(ge)&&(C.providerData=ge.map(k=>Object.assign({},k))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?S0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new vo;p.updateFromIdToken(s);const m=new ei({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function pr(r){br(r instanceof Function,"Expected a class definition");let e=mE.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w0.type="NONE";const gE=w0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r,e,n){return`firebase:${r}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(pr(gE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(gE);const f=yh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const w=await Dh(e,{idToken:E}).catch(()=>{});if(!w)break;A=await ei._fromGetAccountInfoResponse(e,w,E)}else A=ei._fromJSON(e,E);g!==u&&(p=A),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Eo(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(O0(e))return"Webos";if(I0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function R0(r=ln()){return/firefox\//i.test(r)}function I0(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(r=ln()){return/crios\//i.test(r)}function N0(r=ln()){return/iemobile/i.test(r)}function x0(r=ln()){return/android/i.test(r)}function D0(r=ln()){return/blackberry/i.test(r)}function O0(r=ln()){return/webos/i.test(r)}function Lm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tC(r=ln()){var e;return Lm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nC(){return p1()&&document.documentMode===10}function P0(r=ln()){return Lm(r)||x0(r)||O0(r)||D0(r)||/windows phone/i.test(r)||N0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r,e=[]){let n;switch(r){case"Browser":n=_E(ln());break;case"Worker":n=`${_E(ln())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,e={}){return wr(r,"GET","/v2/passwordPolicy",vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=6;class aC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:sC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(gr(this));const n=e?Rt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rC(this),n=new aC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(r){return Rt(r)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=b1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(r){nf=r}function k0(r){return nf.loadJS(r)}function uC(){return nf.recaptchaEnterpriseScript}function cC(){return nf.gapiScript}function hC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fC{constructor(){this.enterprise=new dC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pC="recaptcha-enterprise",V0="NO_RECAPTCHA";class mC{constructor(e){this.type=pC,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{$I(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new GI(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;dE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(V0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&dE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=uC();m.length!==0&&(m+=p),k0(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function vE(r,e,n,s=!1,o=!1){const u=new mC(r);let f;if(o)f=V0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function nm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await vE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await vE(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e){const n=tf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Er(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function _C(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(pr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yC(r,e,n){const s=pa(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=L0(e),{host:f,port:p}=vC(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Er(g,s.config.emulator)&&Er(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,EC()}function L0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vC(r){const e=L0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:EE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:EE(f)}}}function EE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function EC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function TC(r,e){return wr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function SC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends jm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new mu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,n,"signInWithPassword",bC);case"emailLink":return AC(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,s,"signUpPassword",TC);case"emailLink":return SC(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="http://localhost";class ua extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Pm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:wC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(r){const e=nu(iu(r)).link,n=e?nu(iu(e)).deep_link_id:null,s=nu(iu(r)).deep_link_id;return(s?nu(iu(s)).link:null)||s||n||e||r}class Um{constructor(e){var n,s,o,u,f,p;const m=nu(iu(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,A=RC((o=m.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=IC(e);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Um.parseLink(n);return Ee(s,"argument-error"),mu._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Nu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Nu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){return Cu(r,"POST","/v1/accounts:signUp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=TE(s);return new ca({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new ca({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function TE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Li{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function U0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function NC(r,e,n=!1){const s=await Ao(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ca._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(gr(s));const o="reauthenticate";try{const u=await Ao(r,U0(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Vm(u.idToken);Ee(f,s,"internal-error");const{sub:p}=f;return Ee(r.uid===p,s,"user-mismatch"),ca._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(r,e,n=!1){if(xn(r.app))return Promise.reject(gr(r));const s="signIn",o=await U0(r,s,e),u=await ca._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function DC(r,e){return z0(pa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(r){const e=pa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OC(r,e,n){if(xn(r.app))return Promise.reject(gr(r));const s=pa(r),f=await nm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&B0(r),m}),p=await ca._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function PC(r,e,n){return xn(r.app)?Promise.reject(gr(r)):DC(Rt(r),Vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,e){return wr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Rt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Ao(s,MC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function VC(r,e,n,s){return Rt(r).onIdTokenChanged(e,n,s)}function LC(r,e,n){return Rt(r).beforeAuthStateChanged(e,n)}function q0(r,e,n,s){return Rt(r).onAuthStateChanged(e,n,s)}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=1e3,UC=10;class F0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const zC=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G0.type="SESSION";const $0=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await BC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=zm("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function HC(r){Ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function FC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function $C(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",KC=1,kh="firebaseLocalStorage",Y0="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function QC(){const r=indexedDB.deleteDatabase(Q0);return new xu(r).toPromise()}function im(){const r=indexedDB.open(Q0,KC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:Y0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await QC(),e(await im()))})})}async function bE(r,e,n){const s=sf(r,!0).put({[Y0]:e,value:n});return new xu(s).toPromise()}async function YC(r,e){const n=sf(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function AE(r,e){const n=sf(r,!0).delete(e);return new xu(n).toPromise()}const XC=800,WC=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance($C()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await bE(e,Mh,"1"),await AE(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const ZC=X0;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e){return e?pr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return z0(r.auth,new Bm(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),xC(n,new Bm(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),NC(n,new Bm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:ii(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Iu(2e3,1e4);class yo extends W0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="pendingRedirect",vh=new Map;class sN extends W0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(r,e){const n=uN(e),s=lN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oN(r,e){vh.set(r._key(),e)}function lN(r){return pr(r._redirectPersistence)}function uN(r){return yh(rN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(xn(r.app))return Promise.reject(gr(r));const s=pa(r),o=JC(s,e),f=await new sN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Z0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Z0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e={}){return wr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function _N(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pN(r);for(const n of e)try{if(yN(n))return}catch{}ii(r,"unauthorized-domain")}function yN(r){const e=em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gN.test(n))return!1;if(mN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Iu(3e4,6e4);function wE(){const r=Ni().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{var s,o,u;function f(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(Ci(r,"network-request-failed"))},timeout:vN.get()})}if(!((o=(s=Ni().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ni().gapi)===null||u===void 0)&&u.load)f();else{const p=hC("iframefcb");return Ni()[p]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},k0(`${cC()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function TN(r){return Eh=Eh||EN(r),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Iu(5e3,15e3),AN="__/auth/iframe",SN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?km(e,SN):`https://${r.config.authDomain}/${AN}`,s={apiKey:e.apiKey,appName:r.name,v:da},o=RN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function CN(r){const e=await TN(r),n=Ni().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:IN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},bN.get());function m(){Ni().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,DN=600,ON="_blank",PN="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MN(r,e,n,s=xN,o=DN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},NN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=ln().toLowerCase();n&&(p=C0(g)?ON:n),R0(g)&&(e=e||PN,m.scrollbars="yes");const E=Object.entries(m).reduce((w,[D,I])=>`${w}${D}=${I},`,"");if(tC(g)&&p!=="_self")return kN(e||"",p),new RE(null);const A=window.open(e||"",p,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new RE(A)}function kN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",LN="emulator/auth/handler",jN=encodeURIComponent("fac");async function IE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:da,eventId:o};if(e instanceof j0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",T1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Nu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${jN}=${encodeURIComponent(m)}`:"";return`${UN(r)}?${Ru(p).slice(1)}${g}`}function UN({config:r}){return r.emulator?km(r,LN):`https://${r.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,s,o){var u;br((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await IE(e,n,s,em(),o);return MN(e,f,zm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IE(e,n,s,em(),o);return HC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CN(e),s=new fN(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Bp];f!==void 0&&n(!!f),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P0()||I0()||Lm()}}const BN=zN;var CE="@firebase/auth",NE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(r){la(new hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(r)},g=new oC(s,o,u,m);return _C(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),la(new hs("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(CE,NE,HN(r)),Ii(CE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=5*60,$N=h0("authIdTokenMaxAge")||GN;let xE=null;const KN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$N)return;const o=n==null?void 0:n.token;xE!==o&&(xE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function af(r=Om()){const e=tf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gC(r,{popupRedirectResolver:BN,persistence:[ZC,zC,$0]}),s=h0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KN(u.toString());LC(n,f,()=>f(n.currentUser)),VC(n,p=>f(p))}}const o=l0("auth");return o&&yC(n,`http://${o}`),n}function QN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",QN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,J0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(k,j,z){for(var x=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)x[kt-2]=arguments[kt];return R.prototype[j].apply(k,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var k=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)k[j]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(j=0;16>j;++j)k[j]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],j=O.g[2];var z=O.g[3],x=R+(z^C&(j^z))+k[0]+3614090360&4294967295;R=C+(x<<7&4294967295|x>>>25),x=z+(j^R&(C^j))+k[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=j+(C^z&(R^C))+k[2]+606105819&4294967295,j=z+(x<<17&4294967295|x>>>15),x=C+(R^j&(z^R))+k[3]+3250441966&4294967295,C=j+(x<<22&4294967295|x>>>10),x=R+(z^C&(j^z))+k[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(j^R&(C^j))+k[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=j+(C^z&(R^C))+k[6]+2821735955&4294967295,j=z+(x<<17&4294967295|x>>>15),x=C+(R^j&(z^R))+k[7]+4249261313&4294967295,C=j+(x<<22&4294967295|x>>>10),x=R+(z^C&(j^z))+k[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(j^R&(C^j))+k[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=j+(C^z&(R^C))+k[10]+4294925233&4294967295,j=z+(x<<17&4294967295|x>>>15),x=C+(R^j&(z^R))+k[11]+2304563134&4294967295,C=j+(x<<22&4294967295|x>>>10),x=R+(z^C&(j^z))+k[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=z+(j^R&(C^j))+k[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=j+(C^z&(R^C))+k[14]+2792965006&4294967295,j=z+(x<<17&4294967295|x>>>15),x=C+(R^j&(z^R))+k[15]+1236535329&4294967295,C=j+(x<<22&4294967295|x>>>10),x=R+(j^z&(C^j))+k[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^j&(R^C))+k[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=j+(R^C&(z^R))+k[11]+643717713&4294967295,j=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(j^z))+k[0]+3921069994&4294967295,C=j+(x<<20&4294967295|x>>>12),x=R+(j^z&(C^j))+k[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^j&(R^C))+k[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=j+(R^C&(z^R))+k[15]+3634488961&4294967295,j=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(j^z))+k[4]+3889429448&4294967295,C=j+(x<<20&4294967295|x>>>12),x=R+(j^z&(C^j))+k[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^j&(R^C))+k[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=j+(R^C&(z^R))+k[3]+4107603335&4294967295,j=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(j^z))+k[8]+1163531501&4294967295,C=j+(x<<20&4294967295|x>>>12),x=R+(j^z&(C^j))+k[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=z+(C^j&(R^C))+k[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=j+(R^C&(z^R))+k[7]+1735328473&4294967295,j=z+(x<<14&4294967295|x>>>18),x=C+(z^R&(j^z))+k[12]+2368359562&4294967295,C=j+(x<<20&4294967295|x>>>12),x=R+(C^j^z)+k[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^j)+k[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=j+(z^R^C)+k[11]+1839030562&4294967295,j=z+(x<<16&4294967295|x>>>16),x=C+(j^z^R)+k[14]+4259657740&4294967295,C=j+(x<<23&4294967295|x>>>9),x=R+(C^j^z)+k[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^j)+k[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=j+(z^R^C)+k[7]+4139469664&4294967295,j=z+(x<<16&4294967295|x>>>16),x=C+(j^z^R)+k[10]+3200236656&4294967295,C=j+(x<<23&4294967295|x>>>9),x=R+(C^j^z)+k[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^j)+k[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=j+(z^R^C)+k[3]+3572445317&4294967295,j=z+(x<<16&4294967295|x>>>16),x=C+(j^z^R)+k[6]+76029189&4294967295,C=j+(x<<23&4294967295|x>>>9),x=R+(C^j^z)+k[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=z+(R^C^j)+k[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=j+(z^R^C)+k[15]+530742520&4294967295,j=z+(x<<16&4294967295|x>>>16),x=C+(j^z^R)+k[2]+3299628645&4294967295,C=j+(x<<23&4294967295|x>>>9),x=R+(j^(C|~z))+k[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~j))+k[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=j+(R^(z|~C))+k[14]+2878612391&4294967295,j=z+(x<<15&4294967295|x>>>17),x=C+(z^(j|~R))+k[5]+4237533241&4294967295,C=j+(x<<21&4294967295|x>>>11),x=R+(j^(C|~z))+k[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~j))+k[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=j+(R^(z|~C))+k[10]+4293915773&4294967295,j=z+(x<<15&4294967295|x>>>17),x=C+(z^(j|~R))+k[1]+2240044497&4294967295,C=j+(x<<21&4294967295|x>>>11),x=R+(j^(C|~z))+k[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~j))+k[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=j+(R^(z|~C))+k[6]+2734768916&4294967295,j=z+(x<<15&4294967295|x>>>17),x=C+(z^(j|~R))+k[13]+1309151649&4294967295,C=j+(x<<21&4294967295|x>>>11),x=R+(j^(C|~z))+k[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=z+(C^(R|~j))+k[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=j+(R^(z|~C))+k[2]+718787259&4294967295,j=z+(x<<15&4294967295|x>>>17),x=C+(z^(j|~R))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(j+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,k=this.B,j=this.h,z=0;z<R;){if(j==0)for(;z<=C;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(k[j++]=O.charCodeAt(z++),j==this.blockSize){o(this,k),j=0;break}}else for(;z<R;)if(k[j++]=O[z++],j==this.blockSize){o(this,k),j=0;break}}this.h=j,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var k=0;32>k;k+=8)O[C++]=this.g[R]>>>k&255;return O};function u(O,R){var C=p;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function f(O,R){this.h=R;for(var C=[],k=!0,j=O.length-1;0<=j;j--){var z=O[j]|0;k&&z==R||(C[j]=z,k=!1)}this.g=C}var p={};function m(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return L(g(-O));for(var R=[],C=1,k=0;O>=C;k++)R[k]=O/C|0,C*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return L(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),k=A,j=0;j<O.length;j+=8){var z=Math.min(8,O.length-j),x=parseInt(O.substring(j,j+z),R);8>z?(z=g(Math.pow(R,z)),k=k.j(z).add(g(x))):(k=k.j(C),k=k.add(g(x)))}return k}var A=m(0),w=m(1),D=m(16777216);r=f.prototype,r.m=function(){if(B(this))return-L(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var k=this.i(C);O+=(0<=k?k:4294967296+k)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(B(this))return"-"+L(this).toString(O);for(var R=g(Math.pow(O,6)),C=this,k="";;){var j=re(C,R).g;C=P(C,j.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=j,I(C))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function B(O){return O.h==-1}r.l=function(O){return O=P(this,O),B(O)?-1:I(O)?0:1};function L(O){for(var R=O.g.length,C=[],k=0;k<R;k++)C[k]=~O.g[k];return new f(C,~O.h).add(w)}r.abs=function(){return B(this)?L(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],k=0,j=0;j<=R;j++){var z=k+(this.i(j)&65535)+(O.i(j)&65535),x=(z>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);k=x>>>16,z&=65535,x&=65535,C[j]=x<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function P(O,R){return O.add(L(R))}r.j=function(O){if(I(this)||I(O))return A;if(B(this))return B(O)?L(this).j(L(O)):L(L(this).j(O));if(B(O))return L(this.j(L(O)));if(0>this.l(D)&&0>O.l(D))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var j=0;j<O.g.length;j++){var z=this.i(k)>>>16,x=this.i(k)&65535,kt=O.i(j)>>>16,Ze=O.i(j)&65535;C[2*k+2*j]+=x*Ze,X(C,2*k+2*j),C[2*k+2*j+1]+=z*Ze,X(C,2*k+2*j+1),C[2*k+2*j+1]+=x*kt,X(C,2*k+2*j+1),C[2*k+2*j+2]+=z*kt,X(C,2*k+2*j+2)}for(k=0;k<R;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=R;k<2*R;k++)C[k]=0;return new f(C,0)};function X(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Y(O,R){this.g=O,this.h=R}function re(O,R){if(I(R))throw Error("division by zero");if(I(O))return new Y(A,A);if(B(O))return R=re(L(O),R),new Y(L(R.g),L(R.h));if(B(R))return R=re(O,L(R)),new Y(L(R.g),R.h);if(30<O.g.length){if(B(O)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=R;0>=k.l(O);)C=ae(C),k=ae(k);var j=ge(C,1),z=ge(k,1);for(k=ge(k,2),C=ge(C,2);!I(k);){var x=z.add(k);0>=x.l(O)&&(j=j.add(C),z=x),k=ge(k,1),C=ge(C,1)}return R=P(O,j.j(R)),new Y(j,R)}for(j=A;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(C),x=z.j(R);B(x)||0<x.l(O);)C-=k,z=g(C),x=z.j(R);I(z)&&(z=w),j=j.add(z),O=P(O,x)}return new Y(j,O)}r.A=function(O){return re(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)&O.i(k);return new f(C,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)|O.i(k);return new f(C,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)^O.i(k);return new f(C,this.h^O.h)};function ae(O){for(var R=O.g.length+1,C=[],k=0;k<R;k++)C[k]=O.i(k)<<1|O.i(k-1)>>>31;return new f(C,O.h)}function ge(O,R){var C=R>>5;R%=32;for(var k=O.g.length-C,j=[],z=0;z<k;z++)j[z]=0<R?O.i(z+C)>>>R|O.i(z+C+1)<<32-R:O.i(z+C);return new f(j,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,J0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,us=f}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,ru,tb,Th,rm,nb,ib,rb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in y))break e;y=y[H]}c=c[c.length-1],S=y[c],_=_(S),_!=S&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,S=!1,H={next:function(){if(!S&&y<c.length){var Q=y++;return{value:_(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,y){return c.call.apply(c.bind,arguments)}function A(c,_,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(_,H)}}return function(){return c.apply(_,arguments)}}function w(c,_,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function D(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function I(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,H,Q){for(var oe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)oe[ke-2]=arguments[ke];return _.prototype[H].apply(S,oe)}}function B(c){const _=c.length;if(0<_){const y=Array(_);for(let S=0;S<_;S++)y[S]=c[S];return y}return[]}function L(c,_){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(m(S)){const H=c.length||0,Q=S.length||0;c.length=H+Q;for(let oe=0;oe<Q;oe++)c[H+oe]=S[oe]}else c.push(S)}}class P{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function X(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ge(c,_,y){for(const S in c)_.call(y,c[S],S,c)}function O(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function R(c){const _={};for(const y in c)_[y]=c[y];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,_){let y,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(y in S)c[y]=S[y];for(let Q=0;Q<C.length;Q++)y=C[Q],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function j(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function z(c){p.setTimeout(()=>{throw c},0)}function x(){var c=ze;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class kt{constructor(){this.h=this.g=null}add(_,y){const S=Ze.get();S.set(_,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Ze=new P(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,ze=new kt,M=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(y){z(y)}var _=Ze;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};p.addEventListener("test",y,_),p.removeEventListener("test",y,_)}catch{}return c}();function Ne(c,_){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ae){e:{try{re(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}I(Ne,se);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ai(c,_,y,S,H){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!S,this.ha=H,this.key=++Je,this.da=this.fa=!1}function Rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ui(c){this.src=c,this.g={},this.h=0}Ui.prototype.add=function(c,_,y,S,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=Ss(c,_,S,H);return-1<oe?(_=c[oe],y||(_.fa=!1)):(_=new ai(_,this.src,Q,!!S,H),_.fa=y,c.push(_)),_};function As(c,_){var y=_.type;if(y in c.g){var S=c.g[y],H=Array.prototype.indexOf.call(S,_,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(S,H,1),Q&&(Rr(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Ss(c,_,y,S){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==_&&Q.capture==!!y&&Q.ha==S)return H}return-1}var ws="closure_lm_"+(1e6*Math.random()|0),Ho={};function Vu(c,_,y,S,H){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)Vu(c,_[Q],y,S,H);return null}return y=Lu(y),c&&c[Vt]?c.K(_,y,g(S)?!!S.capture:!1,H):Pn(c,_,y,!1,S,H)}function Pn(c,_,y,S,H,Q){if(!_)throw Error("Invalid event type");var oe=g(H)?!!H.capture:!!H,ke=Ta(c);if(ke||(c[ws]=ke=new Ui(c)),y=ke.add(_,y,S,oe,Q),y.proxy)return y;if(S=If(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)_e||(H=oe),H===void 0&&(H=!1),c.addEventListener(_.toString(),S,H);else if(c.attachEvent)c.attachEvent(Rs(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function If(){function c(y){return _.call(c.src,c.listener,y)}const _=Cf;return c}function Fo(c,_,y,S,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Fo(c,_[Q],y,S,H);else S=g(S)?!!S.capture:!!S,y=Lu(y),c&&c[Vt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Q=c.g[_],y=Ss(Q,y,S,H),-1<y&&(Rr(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ta(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ss(_,y,S,H)),(y=-1<c?_[c]:null)&&Ea(y))}function Ea(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Vt])As(_.i,c);else{var y=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(y,S,c.capture):_.detachEvent?_.detachEvent(Rs(y),S):_.addListener&&_.removeListener&&_.removeListener(S),(y=Ta(_))?(As(y,c),y.h==0&&(y.src=null,_[ws]=null)):Rr(c)}}}function Rs(c){return c in Ho?Ho[c]:Ho[c]="on"+c}function Cf(c,_){if(c.da)c=!0;else{_=new Ne(_,this);var y=c.listener,S=c.ha||c.src;c.fa&&Ea(c),c=y.call(S,_)}return c}function Ta(c){return c=c[ws],c instanceof Ui?c:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[Go]||(c[Go]=function(_){return c.handleEvent(_)}),c[Go])}function ct(){ue.call(this),this.i=new Ui(this),this.M=this,this.F=null}I(ct,ue),ct.prototype[Vt]=!0,ct.prototype.removeEventListener=function(c,_,y,S){Fo(this,c,_,y,S)};function Fe(c,_){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new se(_,c);else if(_ instanceof se)_.target=_.target||c;else{var H=_;_=new se(S,c),k(_,H)}if(H=!0,y)for(var Q=y.length-1;0<=Q;Q--){var oe=_.g=y[Q];H=En(oe,S,!0,_)&&H}if(oe=_.g=c,H=En(oe,S,!0,_)&&H,H=En(oe,S,!1,_)&&H,y)for(Q=0;Q<y.length;Q++)oe=_.g=y[Q],H=En(oe,S,!1,_)&&H}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],S=0;S<y.length;S++)Rr(y[S]);delete c.g[_],c.h--}}this.F=null},ct.prototype.K=function(c,_,y,S){return this.i.add(String(c),_,!1,y,S)},ct.prototype.L=function(c,_,y,S){return this.i.add(String(c),_,!0,y,S)};function En(c,_,y,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,Q=0;Q<_.length;++Q){var oe=_[Q];if(oe&&!oe.da&&oe.capture==y){var ke=oe.listener,Ct=oe.ha||oe.src;oe.fa&&As(c.i,oe),H=ke.call(Ct,S)!==!1&&H}}return H&&!S.defaultPrevented}function Wt(c,_,y){if(typeof c=="function")y&&(c=w(c,y));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(c,_||0)}function ju(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,ju(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Nf extends ue{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){ue.call(this),this.h=c,this.g={}}I(Is,ue);var Cs=[];function Ns(c){ge(c.g,function(_,y){this.g.hasOwnProperty(y)&&Ea(_)},c),c.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Ns(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=p.JSON.stringify,ba=p.JSON.parse,xs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Ko(c){return c.h||(c.h=c.i())}function Qo(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){se.call(this,"d")}I(Bi,se);function Yo(){se.call(this,"c")}I(Yo,se);var oi={},Xo=null;function Ir(){return Xo=Xo||new ct}oi.La="serverreachability";function Aa(c){se.call(this,oi.La,c)}I(Aa,se);function Cr(c){const _=Ir();Fe(_,new Aa(_))}oi.STAT_EVENT="statevent";function Uu(c,_){se.call(this,oi.STAT_EVENT,c),this.stat=_}I(Uu,se);function nt(c){const _=Ir();Fe(_,new Uu(_,c))}oi.Ma="timingevent";function It(c,_){se.call(this,oi.Ma,c),this.size=_}I(It,se);function Et(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},_)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function Wo(c,_,y,S,H,Q){c.info(function(){if(c.g)if(Q)for(var oe="",ke=Q.split("&"),Ct=0;Ct<ke.length;Ct++){var Ve=ke[Ct].split("=");if(1<Ve.length){var jt=Ve[0];Ve=Ve[1];var Nt=jt.split("_");oe=2<=Nt.length&&Nt[1]=="type"?oe+(jt+"="+Ve+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+_+`
`+y+`
`+oe})}function xf(c,_,y,S,H,Q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+_+`
`+y+`
`+Q+" "+oe})}function Nr(c,_,y,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ds(c,y)+(S?" "+S:"")})}function zu(c,_){c.info(function(){return"TIMEOUT: "+_})}Mn.prototype.info=function(){};function Ds(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return Kn(y)}catch{return _}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}I(ui,$o),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function un(c,_,y,S){this.j=c,this.i=_,this.l=y,this.R=S||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Zo={},Sa={};function Qn(c,_,y){c.L=1,c.v=Vs(Tn(_)),c.m=y,c.P=!0,Hi(c,null)}function Hi(c,_){c.F=Date.now(),Os(c),c.A=Tn(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),rl(y.i,"t",S),c.C=0,y=c.j.J,c.h=new pt,c.g=nc(c.j,y?_:null,!c.m),0<c.O&&(c.M=new Nf(w(c.Y,c,c.g),c.O)),_=c.U,y=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cs[0]=H.toString()),H=Cs);for(var Q=0;Q<H.length;Q++){var oe=Vu(y,H[Q],S||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Cr(),Wo(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const _=this.M;_&&jn(c)==3?_.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=jn(this.g);var _=this.g.Ba();const Wi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Nt!=4||_==7||(_==8||0>=Wi?Cr(3):Cr(2)),Dr(this);var y=this.g.Z();this.X=y;t:if(Bu(this)){var S=Qu(this.g);c="";var H=S.length,Q=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ci(this);var oe="";break t}this.h.i=new p.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(Q&&_==H-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,xf(this.i,this.u,this.A,this.l,this.R,Nt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Ct=this.g;if((ke=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ke)){var Ve=ke;break t}}Ve=null}if(y=Ve)Nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,y);else{this.o=!1,this.s=3,nt(12),Ht(this),ci(this);break e}}if(this.P){y=!0;let Ft;for(;!this.J&&this.C<oe.length;)if(Ft=qu(this,oe),Ft==Sa){Nt==4&&(this.s=4,nt(14),y=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Zo){this.s=4,nt(15),Nr(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else Nr(this.i,this.l,Ft,null),Ps(this,Ft);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||oe.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)Nr(this.i,this.l,oe,"[Invalid Chunked Response]"),Ht(this),ci(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Fs(jt),jt.M=!0,nt(11))}}else Nr(this.i,this.l,oe,null),Ps(this,oe);Nt==4&&Ht(this),this.o&&!this.J&&(Nt==4?Ju(this.j,this):(this.o=!1,Os(this)))}else kf(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ht(this),ci(this)}}}catch{}finally{}};function Bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qu(c,_){var y=c.C,S=_.indexOf(`
`,y);return S==-1?Sa:(y=Number(_.substring(y,S)),isNaN(y)?Zo:(S+=1,S+y>_.length?Sa:(_=_.slice(S,S+y),c.C=S+y,_)))}un.prototype.cancel=function(){this.J=!0,Ht(this)};function Os(c){c.S=Date.now()+c.I,Hu(c,c.I)}function Hu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(w(c.ba,c),_)}function Dr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zu(this.i,this.A),this.L!=2&&(Cr(),nt(17)),Ht(this),this.s=2,ci(this)):Hu(this,this.S-c)};function ci(c){c.j.G==0||c.J||Ju(c.j,c)}function Ht(c){Dr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Ns(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Ps(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||Jo(y.h,c))){if(!c.K&&Jo(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Va(y),Ma(y);else break e;ul(y),nt(18)}}else y.za=H[1],0<y.za-y.T&&37500>H[2]&&y.F&&y.v==0&&!y.C&&(y.C=Et(w(y.Za,y),6e3));if(1>=Ra(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Xi(y,11)}else if((c.K||y.g==c)&&Va(y),!X(_))for(H=y.Da.g.parse(_),_=0;_<H.length;_++){let Ve=H[_];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const jt=Ve[3];jt!=null&&(y.la=jt,y.j.info("VER="+y.la));const Nt=Ve[4];Nt!=null&&(y.Aa=Nt,y.j.info("SVER="+y.Aa));const Wi=Ve[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(S=1.5*Wi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Ft=c.g;if(Ft){const _i=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=S.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ia(Q,Q.h),Q.h=null))}if(S.D){const hl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(S.ya=hl,Ke(S.I,S.D,hl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var oe=c;if(S.qa=tc(S,S.J?S.ia:null,S.W),oe.K){cn(S.h,oe);var ke=oe,Ct=S.L;Ct&&(ke.I=Ct),ke.B&&(Dr(ke),Os(ke)),S.g=oe}else Wu(S);0<y.i.length&&ka(y)}else Ve[0]!="stop"&&Ve[0]!="close"||Xi(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Xi(y,7):ol(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}Cr(4)}catch{}}var Fu=class{constructor(c,_){this.g=c,this.map=_}};function Fi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function Jo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ia(c,_){c.g?c.g.add(_):c.h=_}function cn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Fi.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return B(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var _=[],y=c.length,S=0;S<y;S++)_.push(c[S]);return _}_=[],y=0;for(S in c)_[y++]=c[S];return _}function Ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const S in c)_[y++]=S;return _}}}function tl(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=Ca(c),S=Df(c),H=S.length,Q=0;Q<H;Q++)_.call(void 0,S[Q],y&&y[Q],c)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),H=null;if(0<=S){var Q=c[y].substring(0,S);H=c[y].substring(S+1)}else Q=c[y];_(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,ks(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.s),this.l=c.l;var _=c.i,y=new $i;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),Gi(this,y),this.m=c.m}else c&&(_=String(c).match(Ms))?(this.h=!1,ks(this,_[1]||"",!0),this.o=kn(_[2]||""),this.g=kn(_[3]||"",!0),Or(this,_[4]),this.l=kn(_[5]||"",!0),Gi(this,_[6]||"",!0),this.m=kn(_[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Tt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Ls(_,nl,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ls(_,nl,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ls(y,y.charAt(0)=="/"?Pf:il,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ls(y,Na)),c.join("")};function Tn(c){return new Tt(c)}function ks(c,_,y){c.j=y?kn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Gi(c,_,y){_ instanceof $i?(c.i=_,$u(c.i,c.h)):(y||(_=Ls(_,Mf)),c.i=new $i(_,c.h))}function Ke(c,_,y){c.i.set(_,y)}function Vs(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,Gu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,il=/[#\?:]/g,Pf=/[#\?]/g,Mf=/[#\?@]/g,Na=/#/g;function $i(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Of(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}r=$i.prototype,r.add=function(c,_){Vn(this),this.i=null,c=hi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function Ki(c,_){Vn(c),_=hi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Qi(c,_){return Vn(c),_=hi(c,_),c.g.has(_)}r.forEach=function(c,_){Vn(this),this.g.forEach(function(y,S){y.forEach(function(H){c.call(_,H,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let S=0;S<_.length;S++){const H=c[S];for(let Q=0;Q<H.length;Q++)y.push(_[S])}return y},r.V=function(c){Vn(this);let _=[];if(typeof c=="string")Qi(this,c)&&(_=_.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},r.set=function(c,_){return Vn(this),this.i=null,c=hi(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function rl(c,_,y){Ki(c,_),0<y.length&&(c.i=null,c.g.set(hi(c,_),B(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var S=_[y];const Q=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var H=Q;oe[S]!==""&&(H+="="+encodeURIComponent(String(oe[S]))),c.push(H)}}return this.i=c.join("&")};function hi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function $u(c,_){_&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(y,S){var H=S.toLowerCase();S!=H&&(Ki(this,S),rl(this,H,y))},c)),c.j=_}function js(c,_){const y=new Mn;if(p.Image){const S=new Image;S.onload=D(Ln,y,"TestLoadImage: loaded",!0,_,S),S.onerror=D(Ln,y,"TestLoadImage: error",!1,_,S),S.onabort=D(Ln,y,"TestLoadImage: abort",!1,_,S),S.ontimeout=D(Ln,y,"TestLoadImage: timeout",!1,_,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Yn(c,_){const y=new Mn,S=new AbortController,H=setTimeout(()=>{S.abort(),Ln(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?Ln(y,"TestPingServer: ok",!0,_):Ln(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Ln(y,"TestPingServer: error",!1,_)})}function Ln(c,_,y,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(y)}catch{}}function Us(){this.g=new xs}function fi(c,_,y){const S=y||"";try{tl(c,function(H,Q){let oe=H;g(H)&&(oe=Kn(H)),_.push(S+Q+"="+encodeURIComponent(oe))})}catch(H){throw _.push(S+"type="+encodeURIComponent("_badmap")),H}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Pr,$o),Pr.prototype.g=function(){return new Yi(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function Yi(c,_){ct.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Yi,ct),r=Yi.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,pi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?di(this):pi(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},r.Qa=function(c){this.g&&(this.response=c,di(this))},r.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let _="";return ge(c,function(y,S){_+=S,_+=":",_+=y,_+=`\r
`}),_}function Lt(c,_,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=al(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ke(c,_,y))}function qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(qe,ct);var xa=/^https?$/i,zs=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Ko(this.o):Ko(li),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){Ku(this,Q);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)y.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())y.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(zs,_,void 0))||S||H||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of y)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ku(this,Q)}};function Ku(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Da(c),mi(c)}function Da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)Wt(c.Ea,0,c);else if(Fe(c,"readystatechange"),jn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var S;if(S=oe===0){var H=String(c.D).match(Ms)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),S=!xa.test(H?H.toLowerCase():"")}y=S}if(y)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Q=2<jn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Da(c)}}finally{mi(c)}}}}function mi(c,_){if(c.g){Bs(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Fe(c,"ready");try{y.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ba(_)}};function Qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(c){const _={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var y=j(c[S]);const H=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=_[H]||[];_[H]=Q,Q.push(y)}O(_,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Pa(c){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,c),this.cb=qs("retryDelaySeedMs",1e4,c),this.Wa=qs("forwardChannelMaxRetries",2,c),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pa.prototype,r.la=8,r.G=1,r.connect=function(c,_,y,S){nt(0),this.W=c,this.H=_||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=tc(this,null,this.W),ka(this)};function ol(c){if(Yu(c),c.G==3){var _=c.U++,y=Tn(c.I);if(Ke(y,"SID",c.K),Ke(y,"RID",_),Ke(y,"TYPE","terminate"),Hs(c,y),_=new un(c,c.j,_),_.L=2,_.v=Vs(Tn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=_.v,y=!0),y||(_.g=nc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Os(_)}ec(c)}function Ma(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function Yu(c){Ma(c),c.u&&(p.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ka(c){if(!wa(c.h)&&!c.s){c.s=!0;var _=c.Ga;le||M(),pe||(le(),pe=!0),ze.add(_,c),c.B=0}}function Vf(c,_){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(w(c.Ga,c,_),cl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new un(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Xu(this,H,_),y=Tn(this.I),Ke(y,"RID",c),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),Hs(this,y),Q&&(this.O?_="headers="+encodeURIComponent(String(al(Q)))+"&"+_:this.m&&Lt(y,this.m,Q)),Ia(this.h,H),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",_),Ke(y,"SID","null"),H.T=!0,Qn(H,y,null)):Qn(H,y,_),this.G=2}}else this.G==3&&(c?ll(this,c):this.i.length==0||wa(this.h)||ll(this))};function ll(c,_){var y;_?y=_.l:y=c.U++;const S=Tn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",y),Ke(S,"AID",c.T),Hs(c,S),c.m&&c.o&&Lt(S,c.m,c.o),y=new un(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Xu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,y),Qn(y,S,_)}function Hs(c,_){c.H&&ge(c.H,function(y,S){Ke(_,S,y)}),c.l&&tl({},function(y,S){Ke(_,S,y)})}function Xu(c,_,y){y=Math.min(c.i.length,y);var S=c.l?w(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const oe=["count="+y];Q==-1?0<y?(Q=H[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let ke=!0;for(let Ct=0;Ct<y;Ct++){let Ve=H[Ct].g;const jt=H[Ct].map;if(Ve-=Q,0>Ve)Q=Math.max(0,H[Ct].g-100),ke=!1;else try{fi(jt,oe,"req"+Ve+"_")}catch{S&&S(jt)}}if(ke){S=oe.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,S}function Wu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;le||M(),pe||(le(),pe=!0),ze.add(_,c),c.v=0}}function ul(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(w(c.Fa,c),cl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ma(this),Zu(this))};function Fs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Tn(c.qa);Ke(_,"RID","rpc"),Ke(_,"SID",c.K),Ke(_,"AID",c.T),Ke(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(_,"TO",c.ja),Ke(_,"TYPE","xmlhttp"),Hs(c,_),c.m&&c.o&&Lt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Vs(Tn(_)),y.m=null,y.P=!0,Hi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Ma(this),ul(this),nt(19))};function Va(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Ju(c,_){var y=null;if(c.g==_){Va(c),Fs(c),c.g=null;var S=2}else if(Jo(c.h,_))y=_.D,cn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var H=c.B;S=Ir(),Fe(S,new It(S,y)),ka(c)}else Wu(c);else if(H=_.s,H==3||H==0&&0<_.X||!(S==1&&Vf(c,_)||S==2&&ul(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),H){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function cl(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Xi(c,_){if(c.j.info("Error code "+_),_==2){var y=w(c.fb,c),S=c.Xa;const H=!S;S=new Tt(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ks(S,"https"),Vs(S),H?js(S.toString(),y):Yn(S.toString(),y)}else nt(2);c.G=0,c.l&&c.l.sa(_),ec(c),Yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function ec(c){if(c.G=0,c.ka=[],c.l){const _=el(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function tc(c,_,y){var S=y instanceof Tt?Tn(y):new Tt(y);if(S.g!="")_&&(S.g=_+"."+S.g),Or(S,S.s);else{var H=p.location;S=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var Q=new Tt(null);S&&ks(Q,S),_&&(Q.g=_),H&&Or(Q,H),y&&(Q.l=y),S=Q}return y=c.D,_=c.ya,y&&_&&Ke(S,y,_),Ke(S,"VER",c.la),Hs(c,S),S}function nc(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new qe(new Pr({eb:y})):new qe(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}r=ic.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function La(){}La.prototype.g=function(c,_){return new hn(c,_)};function hn(c,_){ct.call(this),this.g=new Pa(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!X(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!X(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new gi(this)}I(hn,ct),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){ol(this.g)},hn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Kn(c),c=y);_.i.push(new Fu(_.Ya++,c)),_.G==3&&ka(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,hn.aa.N.call(this)};function rc(c){Bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}I(rc,Bi);function sc(){Yo.call(this),this.status=1}I(sc,Yo);function gi(c){this.g=c}I(gi,ic),gi.prototype.ua=function(){Fe(this.g,"a")},gi.prototype.ta=function(c){Fe(this.g,new rc(c))},gi.prototype.sa=function(c){Fe(this.g,new sc)},gi.prototype.ra=function(){Fe(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,rb=function(){return new La},ib=function(){return Ir()},nb=oi,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Th=xr,qi.COMPLETE="complete",tb=qi,Qo.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ru=Qo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,eb=qe}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",PE="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new xm("@firebase/firestore");function po(){return ha.logLevel}function ce(r,...e){if(ha.logLevel<=Pe.DEBUG){const n=e.map(qm);ha.debug(`Firestore (${Lo}): ${r}`,...n)}}function Ar(r,...e){if(ha.logLevel<=Pe.ERROR){const n=e.map(qm);ha.error(`Firestore (${Lo}): ${r}`,...n)}}function So(r,...e){if(ha.logLevel<=Pe.WARN){const n=e.map(qm);ha.warn(`Firestore (${Lo}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sb(r,s,n)}function sb(r,e,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ar(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||sb(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class XN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new ab(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class ZN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ex{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function sm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=ob(),f=nx(u.encode(kE(r,n)),u.encode(kE(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function kE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function nx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function wo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,LE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*LE);return new Pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Pt(0,0))}static max(){return new Se(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return ix.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new Yt([jE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function rx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Pt(n+1,0):new Pt(n,s));return new fs(o,me.empty(),e)}function sx(r){return new fs(r.readTime,r.key,gu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Se.min(),me.empty(),gu)}static max(){return new fs(Se.max(),me.empty(),gu)}}function ax(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==ox)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function ux(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}of.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function lf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function cx(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function hx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=UE(e)),e=fx(r.get(n),e);return UE(e)}function fx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ub:n+="";break;default:n+=u}}return n}function UE(r){return r+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function cb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hb("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=dx.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",db="__type__",pb="__previous_value__",mb="__local_write_time__";function Fm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||n===void 0?void 0:n.stringValue)===fb}function uf(r){const e=r.mapValue.fields[pb];return Fm(e)?uf(e):e}function _u(r){const e=ds(r.mapValue.fields[mb].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,s,o,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const Lh="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="__type__",mx="__max__",ch={mapValue:{}},_b="__vector__",jh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:_x(r)?9007199254740991:gx(r)?10:11:Te(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ds(o.timestampValue),p=ds(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),p=yt(u.doubleValue);return f===p?Vh(f)===Vh(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(zE(f)!==zE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Pi(f[m],p[m])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function vu(r,e){return(r.values||[]).find(n=>Pi(n,e))!==void 0}function Ro(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=yt(u.integerValue||u.doubleValue),m=yt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return qE(r.timestampValue,e.timestampValue);case 4:return qE(_u(r),_u(e));case 5:return sm(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ps(u),m=ps(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Ce(p[g],m[g]);if(E!==0)return E}return Ce(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ce(yt(u.latitude),yt(f.latitude));return p!==0?p:Ce(yt(u.longitude),yt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return HE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const A=u.fields||{},w=f.fields||{},D=(p=A[jh])===null||p===void 0?void 0:p.arrayValue,I=(m=w[jh])===null||m===void 0?void 0:m.arrayValue,B=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return B!==0?B:HE(D,I)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===ch.mapValue&&f===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(f===ch.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let A=0;A<m.length&&A<E.length;++A){const w=sm(m[A],E[A]);if(w!==0)return w;const D=Ro(p[m[A]],g[E[A]]);if(D!==0)return D}return Ce(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function qE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=ds(r),s=ds(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function HE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function Io(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ps(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=am(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${am(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function bh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+bh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,f)=>{o+=u.length+bh(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function FE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function om(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function GE(r){return!!r&&"nullValue"in r}function $E(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ah(r){return!!r&&"mapValue"in r}function gx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[gb])===null||n===void 0?void 0:n.stringValue)===_b}function uu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=uu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function _x(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=uu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new vn(uu(this.value))}}function yb(r){const e=[];return Es(r.fields,(n,s)=>{const o=new Yt([n]);if(Ah(s)){const u=yb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function KE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function QE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function yx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class wt extends vb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ex(e,n,s):n==="array-contains"?new Ax(e,s):n==="in"?new Sx(e,s):n==="not-in"?new wx(e,s):n==="array-contains-any"?new Rx(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Tx(e,s):new bx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends vb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ri(e,n)}matches(e){return Eb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Eb(r){return r.op==="and"}function Tb(r){return vx(r)&&Eb(r)}function vx(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function lm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(Tb(r))return r.filters.map(e=>lm(e)).join(",");{const e=r.filters.map(n=>lm(n)).join(",");return`${r.op}(${e})`}}function bb(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)}(r,e):r instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&bb(f,o.filters[p]),!0):!1}(r,e):void Te(19439)}function Ab(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(r):r instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(r):"Filter"}class Ex extends wt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tx extends wt{constructor(e,n){super(e,"in",n),this.keys=Sb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bx extends wt{constructor(e,n){super(e,"not-in",n),this.keys=Sb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class Ax extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gm(n)&&vu(n.arrayValue,this.value)}}class Sx extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class wx extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class Rx extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function YE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Ix(r,e,n,s,o,u,f)}function $m(r){const e=we(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Io(s)).join(",")),e.Ie=n}return e.Ie}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!QE(r.startAt,e.startAt)&&QE(r.endAt,e.endAt)}function um(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Cx(r,e,n,s,o,u,f,p){return new zo(r,e,n,s,o,u,f,p)}function cf(r){return new zo(r)}function XE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wb(r){return r.collectionGroup!==null}function cu(r){const e=we(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Yt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Eu(u,s))}),n.has(Yt.keyField().canonicalString())||e.Ee.push(new Eu(Yt.keyField(),s))}return e.Ee}function xi(r){const e=we(r);return e.de||(e.de=Nx(e,cu(r))),e.de}function Nx(r,e){if(r.limitType==="F")return YE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eu(o.field,u)});const n=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return YE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function cm(r,e){const n=r.filters.concat([e]);return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function hm(r,e,n){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return Km(xi(r),xi(e))&&r.limitType===e.limitType}function Rb(r){return`${$m(xi(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ab(o)).join(", ")}]`),lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Io(o)).join(",")),`Target(${s})`}(xi(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=KE(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,cu(s),o)||s.endAt&&!function(f,p,m){const g=KE(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,cu(s),o))}(r,e)}function xx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ib(r){return(e,n)=>{let s=!1;for(const o of cu(r)){const u=Dx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Dx(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Ro(m,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new ut(me.comparator);function Sr(){return Ox}const Cb=new ut(me.comparator);function su(...r){let e=Cb;for(const n of r)e=e.insert(n.key,n);return e}function Nb(r){let e=Cb;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function oa(){return hu()}function xb(){return hu()}function hu(){return new ma(r=>r.toString(),(r,e)=>r.isEqual(e))}const Px=new ut(me.comparator),Mx=new Mt(me.comparator);function Me(...r){let e=Mx;for(const n of r)e=e.add(n);return e}const kx=new Mt(Ce);function Vx(){return kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Db(r){return{integerValue:""+r}}function Lx(r,e){return cx(e)?Db(e):Qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function jx(r,e,n){return r instanceof Tu?function(o,u){const f={fields:{[db]:{stringValue:fb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=uf(u)),u&&(f.fields[pb]=u),{mapValue:f}}(n,e):r instanceof Co?Pb(r,e):r instanceof No?Mb(r,e):function(o,u){const f=Ob(o,u),p=WE(f)+WE(o.Re);return om(f)&&om(o.Re)?Db(p):Qm(o.serializer,p)}(r,e)}function Ux(r,e,n){return r instanceof Co?Pb(r,e):r instanceof No?Mb(r,e):n}function Ob(r,e){return r instanceof zh?function(s){return om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Tu extends df{}class Co extends df{constructor(e){super(),this.elements=e}}function Pb(r,e){const n=kb(e);for(const s of r.elements)n.some(o=>Pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class No extends df{constructor(e){super(),this.elements=e}}function Mb(r,e){let n=kb(e);for(const s of r.elements)n=n.filter(o=>!Pi(o,s));return{arrayValue:{values:n}}}class zh extends df{constructor(e,n){super(),this.serializer=e,this.Re=n}}function WE(r){return yt(r.integerValue||r.doubleValue)}function kb(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.field=e,this.transform=n}}function zx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Co&&o instanceof Co||s instanceof No&&o instanceof No?wo(s.elements,o.elements,Pi):s instanceof zh&&o instanceof zh?Pi(s.Re,o.Re):s instanceof Tu&&o instanceof Tu}(r.transform,e.transform)}class Bx{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function Vb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jb(r.key,ni.none()):new Du(r.key,r.data,ni.none());{const n=r.data,s=vn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new Dn(o.toArray()),ni.none())}}function qx(r,e,n){r instanceof Du?function(o,u,f){const p=o.value.clone(),m=JE(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Ts?function(o,u,f){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=JE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(Lb(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function fu(r,e,n,s){return r instanceof Du?function(u,f,p,m){if(!Sh(u.precondition,f))return p;const g=u.value.clone(),E=eT(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ts?function(u,f,p,m){if(!Sh(u.precondition,f))return p;const g=eT(u.fieldTransforms,m,f),E=f.data;return E.setAll(Lb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,p){return Sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function Hx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ob(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function ZE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,(u,f)=>zx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends pf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends pf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Lb(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function JE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,Ux(f,p,n[o]))}return s}function eT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,jx(u,f,e))}return s}class jb extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=Vb(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,s)=>ZE(n,s))&&wo(this.baseMutations,e.baseMutations,(n,s)=>ZE(n,s))}}class Xm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Px}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function Qx(r){switch(r){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function Ub(r){if(r===void 0)return Ar("GRPC error has no .code"),te.UNKNOWN;switch(r){case St.OK:return te.OK;case St.CANCELLED:return te.CANCELLED;case St.UNKNOWN:return te.UNKNOWN;case St.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case St.INTERNAL:return te.INTERNAL;case St.UNAVAILABLE:return te.UNAVAILABLE;case St.UNAUTHENTICATED:return te.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case St.NOT_FOUND:return te.NOT_FOUND;case St.ALREADY_EXISTS:return te.ALREADY_EXISTS;case St.PERMISSION_DENIED:return te.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case St.ABORTED:return te.ABORTED;case St.OUT_OF_RANGE:return te.OUT_OF_RANGE;case St.UNIMPLEMENTED:return te.UNIMPLEMENTED;case St.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:r})}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new us([4294967295,4294967295],0);function tT(r){const e=ob().encode(r),n=new J0;return n.update(e),new Uint8Array(n.digest())}function nT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class Wm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=us.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(Yx)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=tT(e),[s,o]=nT(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Wm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.pe===0)return;const n=tT(e),[s,o]=nT(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mf(Se.min(),o,new ut(Ce),Sr(),Me())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class zb{constructor(e,n){this.targetId=e,this.Ce=n}}class Bb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class iT{constructor(){this.Fe=0,this.Me=rT(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Ou(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=rT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Xx{constructor(e){this.ze=e,this.je=new Map,this.He=Sr(),this.Je=hh(),this.Ye=hh(),this.Ze=new ut(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(um(u))if(s===0){const f=new me(u.path);this.tt(n,f,sn.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(e),m=p?this.lt(p,e,f):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ps(s).toUint8Array()}catch(m){if(m instanceof hb)return So("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Wm(f,o,u)}catch(m){return So(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&um(p.target)){const m=new me(p.target.path);this.Et(m).has(f)||this.dt(f,m)||this.tt(f,m,sn.newNoDocument(m,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new mf(e,n,this.Ze,this.He,s);return this.He=Sr(),this.Je=hh(),this.Ye=hh(),this.Ze=new ut(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new iT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mt(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mt(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function hh(){return new ut(me.comparator)}function rT(){return new ut(me.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},Zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jx={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(r,e){return r.useProto3Json||lf(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tD(r,e){return Bh(r,e.toTimestamp())}function Di(r){return He(!!r,49232),Se.fromTimestamp(function(n){const s=ds(n);return new Pt(s.seconds,s.nanos)}(r))}function Zm(r,e){return dm(r,e).canonicalString()}function dm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Hb(r){const e=tt.fromString(r);return He(Qb(e),10190,{key:e.toString()}),e}function pm(r,e){return Zm(r.databaseId,e.path)}function qp(r,e){const n=Hb(e);if(n.get(1)!==r.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(Gb(n))}function Fb(r,e){return Zm(r.databaseId,e)}function nD(r){const e=Hb(r);return e.length===4?tt.emptyPath():Gb(e)}function mm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gb(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sT(r,e,n){return{name:pm(r,e),fields:n.value.mapValue.fields}}function iD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?te.UNKNOWN:Ub(g.code);return new he(E,g.message||"")}(f);n=new Bb(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qp(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):Se.min(),p=new vn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qp(r,s.document),u=s.readTime?Di(s.readTime):Se.min(),f=sn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new wh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qp(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Kx(o,u),p=s.targetId;n=new zb(p,f)}}return n}function rD(r,e){let n;if(e instanceof Du)n={update:sT(r,e.key,e.value)};else if(e instanceof jb)n={delete:pm(r,e.key)};else if(e instanceof Ts)n={update:sT(r,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof Fx))return Te(16599,{ft:e.type});n={verify:pm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Co)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof No)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zh)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function sD(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(Se.min())&&(f=Di(u)),new Bx(f,o.transformResults||[])}(n,e))):[]}function aD(r,e){return{documents:[Fb(r,e.path)]}}function oD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fb(r,o);const u=function(g){if(g.length!==0)return Kb(ri.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:go(w.field),direction:cD(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=fm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function lD(r){let e=nD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=$b(A);return w instanceof ri&&Tb(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(I){return new Eu(_o(I.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(A){let w;return w=typeof A=="object"?A.value:A,lf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(A){const w=!!A.before,D=A.values||[];return new Uh(D,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,D=A.values||[];return new Uh(D,w)}(n.endAt)),Cx(e,o,f,u,p,"F",m,g)}function uD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $b(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_o(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(_o(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(s=>$b(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function cD(r){return Wx[r]}function hD(r){return Zx[r]}function fD(r){return Jx[r]}function go(r){return{fieldPath:r.canonicalString()}}function _o(r){return Yt.fromServerFormat(r.fieldPath)}function Kb(r){return r instanceof wt?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:hD(n.op),value:n.value}}}(r):r instanceof ri?function(n){const s=n.getFilters().map(o=>Kb(o));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}}(r):Te(54877,{filter:r})}function dD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,s,o,u=Se.min(),f=Se.min(),p=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.wt=e}}function mD(r){const e=lD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.yn=new _D}addToCollectionParentIndex(e,n){return this.yn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(fs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class _D{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Yb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new xo(0)}static ir(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="LruGarbageCollector",yD=1048576;function lT([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class vD{constructor(e){this.cr=e,this.buffer=new Mt(lT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(oT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?ce(oT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ir(3e5)})}}class TD{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(of.le);const s=new vD(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(aT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),po()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function bD(r,e){return new TD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&fu(s.mutation,o,Dn.empty(),Pt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=oa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=su();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=Sr();const f=hu(),p=function(){return hu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),fu(E.mutation,g,E.mutation.getFieldMask(),Pt.now())):f.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return p.set(g,new SD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new ut((f,p)=>f-p),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Dn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const A=(o.get(p.batchId)||Me()).add(m);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,A=xb();E.forEach(w=>{if(!u.has(w)){const D=Vb(n.get(w),s.get(w));D!==null&&A.set(w,D),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ne.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(oa());let p=gu,m=u;return f.next(g=>ne.forEach(g,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{m=m.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Me())).next(E=>({batchId:p,changes:Nb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next(p=>ne.forEach(p,m=>{const g=function(A,w){return new zo(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let p=su();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&fu(E.mutation,g,Dn.empty(),Pt.now()),ff(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:mD(o.bundledQuery),readTime:Di(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new ut(me.comparator),this.Or=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,f=new me(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=oa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=oa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $x(n,s));let u=this.Or.get(n);u===void 0&&(u=Me(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Nr=new Mt(qt.Br),this.Lr=new Mt(qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new qt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new me(new tt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Me();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return me.comparator(e.key,n.key)||Ce(e.Gr,n.Gr)}static kr(e,n){return Ce(e.Gr,n.Gr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Mt(qt.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Gx(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.zr=this.zr.add(new qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Hm:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const p=this.jr(f.Gr);u.push(p)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ce);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],p=>{s=s.add(p.Gr)})}),ne.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new qt(new me(u),0);let p=new Mt(Ce);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Gr)),!0)},f),ne.resolve(this.Jr(p))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ne.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new qt(n,0),o=this.zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Zr=e,this.docs=function(){return new ut(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sr();const f=n.path,p=new me(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ax(sx(E),s)<=0||(o.has(E.key)||ff(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}Xr(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new DD(this)}getSize(e){return ne.resolve(this.size)}}class DD extends AD{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.persistence=e,this.ei=new ma(n=>$m(n),Km),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ti=0,this.ni=new Jm,this.targetCount=0,this.ri=xo.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),ne.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.ar(n),ne.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.ii={},this.overlays={},this.si=new of(0),this.oi=!1,this.oi=!0,this._i=new CD,this.referenceDelegate=e(this),this.ai=new OD(this),this.indexManager=new gD,this.remoteDocumentCache=function(o){return new xD(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new pD(n),this.ci=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ID,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new ND(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new PD(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return ne.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class PD extends lx{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ti=new Jm,this.Ii=null}static Ei(e){return new eg(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,s=>{const o=me.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ne.or([()=>ne.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.Ri=new ma(s=>hx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bD(this,n)}static Ei(e,n){return new qh(e,n)}li(){}hi(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return ne.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ne.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}gr(e,n,s){return ne.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return m1()?8:ux(ln())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new MD;return this.fs(e,n,f).next(p=>{if(u.result=p,this.Is)return this.gs(e,n,f,p.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(po()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(po()<=Pe.DEBUG&&ce("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(po()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):ne.resolve())}Rs(e,n){if(XE(n))return ne.resolve(null);let s=xi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.As.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.ps(n,p);return this.ys(n,g,f,m.readTime)?this.Rs(e,hm(n,null,"F")):this.ws(e,g,n,m)}))})))}Vs(e,n,s,o){return XE(n)||o.isEqual(Se.min())?ne.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?ne.resolve(null):(po()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.ws(e,f,n,rx(o,gu)).next(p=>p))})}ps(e,n){let s=new Mt(Ib(e));return n.forEach((o,u)=>{ff(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return po()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",mo(n)),this.As.getDocumentsMatchingQuery(e,n,fs.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",VD=3e8;class LD{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new ut(Ce),this.Ds=new ma(u=>$m(u),Km),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function jD(r,e,n,s){return new LD(r,e,n,s)}async function Wb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:p}))})})}function UD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const A=g.batch,w=A.keys();let D=ne.resolve();return w.forEach(I=>{D=D.next(()=>E.getEntry(m,I)).next(B=>{const L=g.docVersions.get(I);He(L!==null,48541),B.version.compareTo(L)<0&&(A.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),D.next(()=>p.mutationQueue.removeMutationBatch(m,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Me();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Zb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function zD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const p=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;p.push(n.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,A)));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(A,D),function(B,L,P){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=VD?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,D,E)&&p.push(n.ai.updateTargetData(u,D))});let m=Sr(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(BD(u,f,e.documentUpdates).next(E=>{m=E.xs,g=E.Os})),!s.isEqual(Se.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(A=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return ne.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ss=o,u))}function BD(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Sr();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):ce(ng,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{xs:f,Os:o}})}function qD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function gm(r,e,n){const s=we(r),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Uo(f))throw f;ce(ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function uT(r,e,n){const s=we(r);let o=Se.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const A=we(m),w=A.Ds.get(E);return w!==void 0?ne.resolve(A.Ss.get(w)):A.ai.getTargetData(g,E)}(s,f,xi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Me())).next(p=>(FD(s,xx(e),p),{documents:p,Ns:u})))}function FD(r,e,n){let s=r.vs.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class cT{constructor(){this.activeTargetIds=Vx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.So=new cT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new cT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="ConnectivityMonitor";class fT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(hT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(hT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function _m(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",KD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QD{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=_m(),p=this.$o(e,n.toUriEncodedString());ce(Hp,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,o,u),this.Ko(e,p,m,s).then(g=>(ce(Hp,`Received RPC '${e}' ${f}: `,g),g),g=>{throw So(Hp,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=KD[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class XD extends QD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=_m();return new Promise((f,p)=>{const m=new eb;m.setWithCredentials(!0),m.listenOnce(tb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Th.NO_ERROR:const E=m.getResponseJson();ce(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Th.TIMEOUT:ce(en,`RPC '${e}' ${u} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=m.getStatus();if(ce(en,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w==null?void 0:w.error;if(D&&D.status&&D.message){const I=function(L){const P=L.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(P)>=0?P:te.UNKNOWN}(D.status);p(new he(I,D.message))}else p(new he(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:u,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{ce(en,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(en,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}a_(e,n,s){const o=_m(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rb(),p=ib(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${E}`,m);const A=f.createWebChannel(E,m);let w=!1,D=!1;const I=new YD({Go:L=>{D?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ce(en,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},zo:()=>A.close()}),B=(L,P,X)=>{L.listen(P,Y=>{try{X(Y)}catch(re){setTimeout(()=>{throw re},0)}})};return B(A,ru.EventType.OPEN,()=>{D||(ce(en,`RPC '${e}' stream ${o} transport opened.`),I.t_())}),B(A,ru.EventType.CLOSE,()=>{D||(D=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),I.r_())}),B(A,ru.EventType.ERROR,L=>{D||(D=!0,So(en,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),I.r_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),B(A,ru.EventType.MESSAGE,L=>{var P;if(!D){const X=L.data[0];He(!!X,16349);const Y=X,re=(Y==null?void 0:Y.error)||((P=Y[0])===null||P===void 0?void 0:P.error);if(re){ce(en,`RPC '${e}' stream ${o} received error:`,re);const ae=re.status;let ge=function(C){const k=St[C];if(k!==void 0)return Ub(k)}(ae),O=re.message;ge===void 0&&(ge=te.INTERNAL,O="Unknown error status: "+ae+" with message "+re.message),D=!0,I.r_(new he(ge,O)),A.close()}else ce(en,`RPC '${e}' stream ${o} received:`,X),I.i_(X)}}),B(p,nb.STAT_EVENT,L=>{L.stat===rm.PROXY?ce(en,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rm.NOPROXY&&ce(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new eD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class eA{constructor(e,n,s,o,u,f,p,m){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Jb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(dT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ce(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends eA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=iD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Di(f.readTime):Se.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=um(m)?{documents:aD(u,m)}:{query:oD(u,m).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=qb(u,f.resumeToken);const g=fm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=Bh(u,f.snapshotVersion.toTimestamp());const g=fm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.F_(n)}}class ZD extends eA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=sD(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=mm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rD(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class e2 extends JD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,dm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Wo(e,dm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(te.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class t2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ar(n),this.ea=!1):ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class n2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ga(this)&&(ce(fa,"Restarting streams for network reachability change."),await async function(m){const g=we(m);g.aa.add(4),await Pu(g),g.la.set("Unknown"),g.aa.delete(4),await _f(g)}(this))})}),this.la=new t2(s,o)}}async function _f(r){if(ga(r))for(const e of r.ua)await e(!0)}async function Pu(r){for(const e of r.ua)await e(!1)}function tA(r,e){const n=we(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),ag(n)?sg(n):Bo(n).b_()&&rg(n,e))}function ig(r,e){const n=we(r),s=Bo(n);n._a.delete(e),s.b_()&&nA(n,e),n._a.size===0&&(s.b_()?s.v_():ga(n)&&n.la.set("Unknown"))}function rg(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(r).U_(e)}function nA(r,e){r.ha.Ke(e),Bo(r).K_(e)}function sg(r){r.ha=new Xx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.la.ta()}function ag(r){return ga(r)&&!Bo(r).w_()&&r._a.size>0}function ga(r){return we(r).aa.size===0}function iA(r){r.ha=void 0}async function i2(r){r.la.set("Online")}async function r2(r){r._a.forEach((e,n)=>{rg(r,e)})}async function s2(r,e){iA(r),ag(r)?(r.la.ia(e),sg(r)):r.la.set("Unknown")}async function a2(r,e,n){if(r.la.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o._a.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o._a.delete(p),o.ha.removeTarget(p))}(r,e)}catch(s){ce(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof wh?r.ha.Xe(e):e instanceof zb?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Se.min()))try{const s=await Zb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.ha.It(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u._a.get(m);if(!E)return;u._a.set(m,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),nA(u,m);const A=new as(E.target,m,g,E.sequenceNumber);rg(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ce(fa,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,n){if(!Uo(e))throw e;r.aa.add(1),await Pu(r),r.la.set("Offline"),n||(n=()=>Zb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(fa,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await _f(r)})}function rA(r,e){return e().catch(n=>Hh(r,n,e))}async function yf(r){const e=we(r),n=gs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hm;for(;o2(e);)try{const o=await qD(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,l2(e,o)}catch(o){await Hh(e,o)}sA(e)&&aA(e)}function o2(r){return ga(r)&&r.oa.length<10}function l2(r,e){r.oa.push(e);const n=gs(r);n.b_()&&n.W_&&n.G_(e.mutations)}function sA(r){return ga(r)&&!gs(r).w_()&&r.oa.length>0}function aA(r){gs(r).start()}async function u2(r){gs(r).H_()}async function c2(r){const e=gs(r);for(const n of r.oa)e.G_(n.mutations)}async function h2(r,e,n){const s=r.oa.shift(),o=Xm.from(s,e,n);await rA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yf(r)}async function f2(r,e){e&&gs(r).W_&&await async function(s,o){if(function(f){return Qx(f)&&f!==te.ABORTED}(o.code)){const u=s.oa.shift();gs(s).D_(),await rA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(s)}}(r,e),sA(r)&&aA(r)}async function pT(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(fa,"RemoteStore received new credentials");const s=ga(n);n.aa.add(3),await Pu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await _f(n)}async function d2(r,e){const n=we(r);e?(n.aa.delete(2),await _f(n)):e||(n.aa.add(2),await Pu(n),n.la.set("Unknown"))}function Bo(r){return r.Pa||(r.Pa=function(n,s,o){const u=we(n);return u.Y_(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:i2.bind(null,r),Jo:r2.bind(null,r),Zo:s2.bind(null,r),Q_:a2.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),ag(r)?sg(r):r.la.set("Unknown")):(await r.Pa.stop(),iA(r))})),r.Pa}function gs(r){return r.Ta||(r.Ta=function(n,s,o){const u=we(n);return u.Y_(),new ZD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:u2.bind(null,r),Zo:f2.bind(null,r),z_:c2.bind(null,r),j_:h2.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await yf(r)):(await r.Ta.stop(),r.oa.length>0&&(ce(fa,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new og(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),Uo(r))return new he(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.Ia=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Do{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Do(e,n,bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class m2{constructor(){this.queries=gT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=gT(),u.forEach((f,p)=>{for(const m of p.Ra)m.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function gT(){return new ma(r=>Rb(r),hf)}async function ug(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new p2,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=lg(f,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&hg(n)}async function cg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g2(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Ra)p.pa(o)&&(s=!0);f.Aa=o}}s&&hg(n)}function _2(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function hg(r){r.fa.forEach(e=>{e.next()})}var ym,_T;(_T=ym||(ym={})).ya="default",_T.Cache="cache";class fg{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class y2{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=Ib(e),this.Ka=new bo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new mT,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),D=ff(this.query,A)?A:null,I=!!w&&this.mutatedKeys.has(w.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;w&&D?w.data.isEqual(D.data)?I!==B&&(s.track({type:3,doc:D}),L=!0):this.ja(w,D)||(s.track({type:2,doc:D}),L=!0,(m&&this.Ua(D,m)>0||g&&this.Ua(D,g)<0)&&(p=!0)):!w&&D?(s.track({type:0,doc:D}),L=!0):w&&!D&&(s.track({type:1,doc:w}),L=!0,(m||g)&&(p=!0)),L&&(D?(f=f.add(D),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:p,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,A)=>function(D,I){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:L})}};return B(D)-B(I)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(s),o=o!=null&&o;const p=n&&!o?this.Ja():[],m=this.$a.size===0&&this.current&&!o?1:0,g=m!==this.Qa;return this.Qa=m,f.length!==0||g?{snapshot:new Do(this.query,e.Ka,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:p}:{Ya:p}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new mT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new lA(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new oA(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Do.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const dg="SyncEngine";class v2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class E2{constructor(e){this.key=e,this.tu=!1}}class T2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new ma(p=>Rb(p),hf),this.iu=new Map,this.su=new Set,this.ou=new ut(me.comparator),this._u=new Map,this.au=new Jm,this.uu={},this.cu=new Map,this.lu=xo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function b2(r,e,n=!0){const s=pA(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await uA(s,e,n,!0),o}async function A2(r,e){const n=pA(r);await uA(n,e,!0,!1)}async function uA(r,e,n,s){const o=await HD(r.localStore,xi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await S2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&tA(r.remoteStore,o),p}async function S2(r,e,n,s,o){r.Pu=(A,w,D)=>async function(B,L,P,X){let Y=L.view.Ga(P);Y.ys&&(Y=await uT(B.localStore,L.query,!1).then(({documents:O})=>L.view.Ga(O,Y)));const re=X&&X.targetChanges.get(L.targetId),ae=X&&X.targetMismatches.get(L.targetId)!=null,ge=L.view.applyChanges(Y,B.isPrimaryClient,re,ae);return vT(B,L.targetId,ge.Ya),ge.snapshot}(r,A,w,D);const u=await uT(r.localStore,e,!0),f=new y2(e,u.Ns),p=f.Ga(u.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);vT(r,n,g.Ya);const E=new v2(e,n,f);return r.ru.set(e,E),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),g.snapshot}async function w2(r,e,n){const s=we(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!hf(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),vm(s,o.targetId)}).catch(jo)):(vm(s,o.targetId),await gm(s.localStore,o.targetId,!0))}async function R2(r,e){const n=we(r),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function I2(r,e,n){const s=M2(r);try{const o=await function(f,p){const m=we(f),g=Pt.now(),E=p.reduce((D,I)=>D.add(I.key),Me());let A,w;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let I=Sr(),B=Me();return m.Cs.getEntries(D,E).next(L=>{I=L,I.forEach((P,X)=>{X.isValidDocument()||(B=B.add(P))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,I)).next(L=>{A=L;const P=[];for(const X of p){const Y=Hx(X,A.get(X.key).overlayedDocument);Y!=null&&P.push(new Ts(X.key,Y,yb(Y.value.mapValue),ni.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,P,p)}).next(L=>{w=L;const P=L.applyToLocalDocumentSet(A,B);return m.documentOverlayCache.saveOverlays(D,L.batchId,P)})}).then(()=>({batchId:w.batchId,changes:Nb(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.uu[f.currentUser.toKey()];g||(g=new ut(Ce)),g=g.insert(p,m),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Mu(s,o.changes),await yf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function cA(r,e){const n=we(r);try{const s=await zD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await Mu(n,s,e)}catch(s){await jo(s)}}function yT(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const p=f.view.ga(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=we(f);m.onlineState=p;let g=!1;m.queries.forEach((E,A)=>{for(const w of A.Ra)w.ga(p)&&(g=!0)}),g&&hg(m)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C2(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new ut(me.comparator);f=f.insert(u,sn.newNoDocument(u,Se.min()));const p=Me().add(u),m=new mf(Se.min(),new Map,new ut(Ce),f,p);await cA(s,m),s.ou=s.ou.remove(u),s._u.delete(e),pg(s)}else await gm(s.localStore,e,!1).then(()=>vm(s,e,n)).catch(jo)}async function N2(r,e){const n=we(r),s=e.batch.batchId;try{const o=await UD(n.localStore,e);fA(n,s,null),hA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mu(n,o)}catch(o){await jo(o)}}async function x2(r,e,n){const s=we(r);try{const o=await function(f,p){const m=we(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(A=>(He(A!==null,37113),E=A.keys(),m.mutationQueue.removeMutationBatch(g,A))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);fA(s,e,n),hA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mu(s,o)}catch(o){await jo(o)}}function hA(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function fA(r,e,n){const s=we(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function vm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||dA(r,s)})}function dA(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&(ig(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),pg(r))}function vT(r,e,n){for(const s of n)s instanceof oA?(r.au.addReference(s.key,e),D2(r,s)):s instanceof lA?(ce(dg,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||dA(r,s.key)):Te(19791,{Iu:s})}function D2(r,e){const n=e.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(ce(dg,"New document in limbo: "+n),r.su.add(s),pg(r))}function pg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new me(tt.fromString(e)),s=r.lu.next();r._u.set(s,new E2(n)),r.ou=r.ou.insert(n,s),tA(r.remoteStore,new as(xi(cf(n.path)),s,"TargetPurposeLimboResolution",of.le))}}async function Mu(r,e,n){const s=we(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((p,m)=>{f.push(s.Pu(m,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(g){o.push(g);const A=tg.Ps(m.targetId,g);u.push(A)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(m,g){const E=we(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(g,w=>ne.forEach(w.ls,D=>E.persistence.referenceDelegate.addReference(A,w.targetId,D)).next(()=>ne.forEach(w.hs,D=>E.persistence.referenceDelegate.removeReference(A,w.targetId,D)))))}catch(A){if(!Uo(A))throw A;ce(ng,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const D=E.Ss.get(w),I=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(I);E.Ss=E.Ss.insert(w,B)}}}(s.localStore,u))}async function O2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(dg,"User change. New user:",e.toKey());const s=await Wb(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(p=>{p.forEach(m=>{m.reject(new he(te.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mu(n,s.Ms)}}function P2(r,e){const n=we(r),s=n._u.get(e);if(s&&s.tu)return Me().add(s.key);{let o=Me();const u=n.iu.get(e);if(!u)return o;for(const f of u){const p=n.ru.get(f);o=o.unionWith(p.view.Wa)}return o}}function pA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.nu.Q_=g2.bind(null,e.eventManager),e.nu.Tu=_2.bind(null,e.eventManager),e}function M2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return jD(this.persistence,new kD,e.initialUser,this.serializer)}Ru(e){return new Xb(eg.Ei,this.serializer)}Au(e){return new GD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class k2 extends Fh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ED(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Xb(s=>qh.Ei(s,n),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m2}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=function(u){return new XD(u)}(e.databaseInfo);return function(u,f,p,m){return new e2(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new n2(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>yT(this.syncEngine,n,0),function(){return fT.C()?new fT:new $D}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const A=new T2(o,u,f,p,m,g);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(fa,"RemoteStore shutting down."),u.aa.add(5),await Pu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class V2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=lb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gp(r,e){r.asyncQueue.verifyOperationInProgress(),ce(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ET(r,e){r.asyncQueue.verifyOperationInProgress();const n=await L2(r);ce(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>pT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>pT(e.remoteStore,o)),r._onlineComponents=e}async function L2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(_s,"Using user provided OfflineComponentProvider");try{await Gp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Gp(r,new Fh)}}else ce(_s,"Using default OfflineComponentProvider"),await Gp(r,new k2(void 0));return r._offlineComponents}async function mA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(_s,"Using user provided OnlineComponentProvider"),await ET(r,r._uninitializedComponentsProvider._online)):(ce(_s,"Using default OnlineComponentProvider"),await ET(r,new Em))),r._onlineComponents}function j2(r){return mA(r).then(e=>e.syncEngine)}async function Gh(r){const e=await mA(r),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=w2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R2.bind(null,e.syncEngine),n}function U2(r,e,n={}){const s=new _r;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new mg({next:w=>{E.yu(),f.enqueueAndForget(()=>cg(u,A));const D=w.docs.has(p);!D&&w.fromCache?g.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new fg(cf(p.path),E,{includeMetadataChanges:!0,Fa:!0});return ug(u,A)}(await Gh(r),r.asyncQueue,e,n,s)),s.promise}function z2(r,e,n={}){const s=new _r;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new mg({next:w=>{E.yu(),f.enqueueAndForget(()=>cg(u,A)),w.fromCache&&m.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new fg(p,E,{includeMetadataChanges:!0,Fa:!0});return ug(u,A)}(await Gh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function B2(r,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function bT(r){if(!me.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AT(r){if(me.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function On(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(r);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",ST=!0;class wT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=ST}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ST;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yD)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YN;switch(s.type){case"firstParty":return new JN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=TT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),TT.delete(n),s.terminate())}(this),Promise.resolve()}}function q2(r,e,n,s={}){var o;const u=(r=On(r,Ef))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==yA&&u.host!==p&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Er(m,f)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=f0(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}r._authCredentials=new XN(new ab(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class an{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class cs extends bs{constructor(e,n,s){super(e,n,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new me(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Oo(r,e,...n){if(r=Rt(r),_A("collection","path",e),r instanceof Ef){const s=tt.fromString(e,...n);return AT(s),new cs(r,null,s)}{if(!(r instanceof an||r instanceof cs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return AT(s),new cs(r.firestore,null,s)}}function on(r,e,...n){if(r=Rt(r),arguments.length===1&&(e=lb.newId()),_A("doc","path",e),r instanceof Ef){const s=tt.fromString(e,...n);return bT(s),new an(r,null,new me(s))}{if(!(r instanceof an||r instanceof cs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return bT(s),new an(r.firestore,r instanceof cs?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="AsyncQueue";class IT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Jb(this,"async_queue_retry"),this.ju=()=>{const s=Fp();s&&ce(RT,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new _r;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Uo(e))throw e;ce(RT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ar("INTERNAL UNHANDLED ERROR: ",CT(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:CT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function CT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ys extends Ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new IT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IT(e),this._firestoreClient=void 0,await e}}}function H2(r,e){const n=typeof r=="object"?r:Om(),s=typeof r=="string"?r:Lh,o=tf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=u0("firestore");u&&q2(o,...u)}return o}function Tf(r){if(r._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||F2(r),r._firestoreClient}function F2(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,E){return new px(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new V2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(Xt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^__.*__$/;class $2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class vA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:r})}}class Af{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $h(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(EA(this.oc)&&G2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class K2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}dc(e,n,s,o=!1){return new Af({oc:e,methodName:n,Ec:s,path:Yt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new K2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function TA(r,e,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,n,o);Tg("Data must be an object, but it was:",f,s);const p=AA(s,f);let m,g;if(u.merge)m=new Dn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=Tm(e,A,n);if(!f.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wA(E,w)||E.push(w)}m=new Dn(E),g=f.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,g=f.fieldTransforms;return new $2(new vn(p),m,g)}class ku extends qo{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ku}}function bA(r,e,n){return new Af({oc:3,Ec:e.settings.Ec,methodName:r._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yg extends qo{_toFieldTransform(e){return new Ym(e.path,new Tu)}isEqual(e){return e instanceof yg}}class vg extends qo{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=bA(this,e,!0),s=this.Ac.map(u=>_a(u,n)),o=new Co(s);return new Ym(e.path,o)}isEqual(e){return e instanceof vg&&Er(this.Ac,e.Ac)}}class Eg extends qo{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=bA(this,e,!0),s=this.Ac.map(u=>_a(u,n)),o=new No(s);return new Ym(e.path,o)}isEqual(e){return e instanceof Eg&&Er(this.Ac,e.Ac)}}function Q2(r,e,n,s){const o=r.dc(1,e,n);Tg("Data must be an object, but it was:",o,s);const u=[],f=vn.empty();Es(s,(m,g)=>{const E=bg(e,m,n);g=Rt(g);const A=o.hc(E);if(g instanceof ku)u.push(E);else{const w=_a(g,A);w!=null&&(u.push(E),f.set(E,w))}});const p=new Dn(u);return new vA(f,p,o.fieldTransforms)}function Y2(r,e,n,s,o,u){const f=r.dc(1,e,n),p=[Tm(e,s,n)],m=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(Tm(e,u[w])),m.push(u[w+1]);const g=[],E=vn.empty();for(let w=p.length-1;w>=0;--w)if(!wA(g,p[w])){const D=p[w];let I=m[w];I=Rt(I);const B=f.hc(D);if(I instanceof ku)g.push(D);else{const L=_a(I,B);L!=null&&(g.push(D),E.set(D,L))}}const A=new Dn(g);return new vA(E,A,f.fieldTransforms)}function X2(r,e,n,s=!1){return _a(n,r.dc(s?4:3,e))}function _a(r,e){if(SA(r=Rt(r)))return Tg("Unsupported field value:",e,r),AA(r,e);if(r instanceof qo)return function(s,o){if(!EA(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=_a(p,o.Pc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pt.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Pt){const u=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof gg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Po)return{bytesValue:qb(o.serializer,s._byteString)};if(s instanceof an){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _g)return function(f,p){return{mapValue:{fields:{[gb]:{stringValue:_b},[jh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Tc("VectorValues must only contain numeric values.");return Qm(p.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${vf(s)}`)}(r,e)}function AA(r,e){const n={};return cb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,(s,o)=>{const u=_a(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function SA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pt||r instanceof gg||r instanceof Po||r instanceof an||r instanceof qo||r instanceof _g)}function Tg(r,e,n){if(!SA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=vf(n);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function Tm(r,e,n){if((e=Rt(e))instanceof bf)return e._internalPath;if(typeof e=="string")return bg(r,e);throw $h("Field path arguments must be of type string or ",r,!1,void 0,n)}const W2=new RegExp("[~\\*/\\[\\]]");function bg(r,e,n){if(e.search(W2)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $h(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new he(te.INVALID_ARGUMENT,p+r+m)}function wA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z2 extends RA{data(){return super.data()}}function wf(r,e){return typeof e=="string"?bg(r,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class CA extends Ag{}function NA(r,e,...n){let s=[];e instanceof Ag&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Sg).length,p=u.filter(m=>m instanceof Rf).length;if(f>1||f>0&&p>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Rf extends CA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rf(e,n,s)}_apply(e){const n=this._parse(e);return xA(e._query,n),new bs(e.firestore,e.converter,cm(e._query,n))}_parse(e){const n=Sf(e.firestore);return function(u,f,p,m,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){DT(A,E);const I=[];for(const B of A)I.push(xT(m,u,B));w={arrayValue:{values:I}}}else w=xT(m,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||DT(A,E),w=X2(p,f,A,E==="in"||E==="not-in");return wt.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function J2(r,e,n){const s=e,o=wf("where",r);return Rf._create(o,s,n)}class Sg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)xA(f,m),f=cm(f,m)}(e._query,n),new bs(e.firestore,e.converter,cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends CA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(u,f)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new zo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function eO(r,e="asc"){const n=e,s=wf("orderBy",r);return wg._create(s,n)}function xT(r,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FE(r,new me(s))}if(n instanceof an)return FE(r,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function DT(r,e){if(!Array.isArray(r)||r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tO{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[jh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>yt(f.doubleValue));return new _g(u)}convertGeoPoint(e){return new gg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(Qb(s),9688,{name:e});const o=new yu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OA extends RA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Rh extends OA{data(e={}){return super.data(e)}}class PA{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ou(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ou(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:nO(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(r){r=On(r,an);const e=On(r.firestore,ys);return U2(Tf(e),r._key).then(n=>kA(e,r,n))}class Rg extends tO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Kh(r){r=On(r,bs);const e=On(r.firestore,ys),n=Tf(e),s=new Rg(e);return IA(r._query),z2(n,r._query).then(o=>new PA(e,s,r,o))}function bm(r,e,n){r=On(r,an);const s=On(r.firestore,ys),o=DA(r.converter,e,n);return Cg(s,[TA(Sf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ni.none())])}function Qh(r,e,n,...s){r=On(r,an);const o=On(r.firestore,ys),u=Sf(o);let f;return f=typeof(e=Rt(e))=="string"||e instanceof bf?Y2(u,"updateDoc",r._key,e,n,s):Q2(u,"updateDoc",r._key,e),Cg(o,[f.toMutation(r._key,ni.exists(!0))])}function MA(r,e){const n=On(r.firestore,ys),s=on(r),o=DA(r.converter,e);return Cg(n,[TA(Sf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function Ig(r,...e){var n,s,o;r=Rt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||NT(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(NT(e[f])){const A=e[f];e[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let m,g,E;if(r instanceof an)g=On(r.firestore,ys),E=cf(r._key.path),m={next:A=>{e[f]&&e[f](kA(g,r,A))},error:e[f+1],complete:e[f+2]};else{const A=On(r,bs);g=On(A.firestore,ys),E=A._query;const w=new Rg(g);m={next:D=>{e[f]&&e[f](new PA(g,w,A,D))},error:e[f+1],complete:e[f+2]},IA(r._query)}return function(w,D,I,B){const L=new mg(B),P=new fg(D,L,I);return w.asyncQueue.enqueueAndForget(async()=>ug(await Gh(w),P)),()=>{L.yu(),w.asyncQueue.enqueueAndForget(async()=>cg(await Gh(w),P))}}(Tf(g),E,p,m)}function Cg(r,e){return function(s,o){const u=new _r;return s.asyncQueue.enqueueAndForget(async()=>I2(await j2(s),o,u)),u.promise}(Tf(r),e)}function kA(r,e,n){const s=n.docs.get(e._key),o=new Rg(r);return new OA(r,o,e._key,s,new ou(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return new ku("deleteField")}function rO(){return new yg("serverTimestamp")}function VA(...r){return new vg("arrayUnion",r)}function sO(...r){return new Eg("arrayRemove",r)}(function(e,n=!0){(function(o){Lo=o})(da),la(new hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ys(new WN(s.getProvider("auth-internal")),new ex(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Ii(OE,PE,e),Ii(OE,PE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebasestorage.googleapis.com",aO="storageBucket",oO=2*60*1e3,lO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Li{constructor(e,n,s=0){super($p(e),`Firebase Storage: ${n} (${$p(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mi||(Mi={}));function $p(r){return"storage/"+r}function uO(){const r="An unknown error occurred, please check the error payload for server response.";return new ji(Mi.UNKNOWN,r)}function cO(){return new ji(Mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hO(){return new ji(Mi.CANCELED,"User canceled the upload/download.")}function fO(r){return new ji(Mi.INVALID_URL,"Invalid URL '"+r+"'.")}function dO(r){return new ji(Mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function OT(r){return new ji(Mi.INVALID_ARGUMENT,r)}function jA(){return new ji(Mi.APP_DELETED,"The Firebase app was deleted.")}function pO(r){return new ji(Mi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ti.makeFromUrl(e,n)}catch{return new ti(e,"")}if(s.path==="")return s;throw dO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),m={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${E}/b/${o}/o${w}`,"i"),I={bucket:1,path:3},B=n===LA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",P=new RegExp(`^https?://${B}/${o}/${L}`,"i"),Y=[{regex:p,indices:m,postModify:u},{regex:D,indices:I,postModify:g},{regex:P,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<Y.length;re++){const ae=Y[re],ge=ae.regex.exec(e);if(ge){const O=ge[ae.indices.bucket];let R=ge[ae.indices.path];R||(R=""),s=new ti(O,R),ae.postModify(s);break}}if(s==null)throw fO(e);return s}}class mO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r,e,n){let s=1,o=null,u=null,f=!1,p=0;function m(){return p===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function A(L){o=setTimeout(()=>{o=null,r(D,m())},L)}function w(){u&&clearTimeout(u)}function D(L,...P){if(g){w();return}if(L){w(),E.call(null,L,...P);return}if(m()||f){w(),E.call(null,L,...P);return}s<64&&(s*=2);let Y;p===1?(p=2,Y=0):Y=(s+Math.random())*1e3,A(Y)}let I=!1;function B(L){I||(I=!0,w(),!g&&(o!==null?(L||(p=2),clearTimeout(o),A(0)):L||(p=1)))}return A(0),u=setTimeout(()=>{f=!0,B(!0)},n),B}function _O(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){return r!==void 0}function PT(r,e,n,s){if(s<e)throw OT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw OT(`Invalid value for '${r}'. Expected ${n} or less.`)}function vO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Yh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Yh||(Yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,s,o,u,f,p,m,g,E,A,w=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,I)=>{this.resolve_=D,this.reject_=I,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Yh.NO_ERROR,m=u.getStatus();if(!p||EO(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Yh.ABORT;s(!1,new dh(!1,null,E));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new dh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());yO(m)?u(m):u()}catch(m){f(m)}else if(p!==null){const m=uO();m.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,m)):f(m)}else if(o.canceled){const m=this.appDelete_?jA():hO();f(m)}else{const m=cO();f(m)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=gO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_O(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function bO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function AO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function wO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function RO(r,e,n,s,o,u,f=!0){const p=vO(r.urlParams),m=r.url+p,g=Object.assign({},r.headers);return SO(g,e),bO(g,n),AO(g,u),wO(g,s),new TO(m,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function CO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this._service=e,n instanceof ti?this._location=n:this._location=ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xh(e,n)}get root(){const e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CO(this._location.path)}get storage(){return this._service}get parent(){const e=IO(this._location.path);if(e===null)return null;const n=new ti(this._location.bucket,e);return new Xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pO(e)}}function MT(r,e){const n=e==null?void 0:e[aO];return n==null?null:ti.makeFromBucketSpec(n,r)}function NO(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:f0(o,r.app.options.projectId))}class xO{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=LA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oO,this._maxUploadRetryTime=lO,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=MT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=MT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new mO(jA());{const f=RO(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const kT="@firebase/storage",VT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="storage";function DO(r=Om(),e){r=Rt(r);const s=tf(r,UA).getImmediate({identifier:e}),o=u0("storage");return o&&OO(s,...o),s}function OO(r,e,n,s={}){NO(r,e,n,s)}function PO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new xO(n,s,o,e,da)}function MO(){la(new hs(UA,PO,"PUBLIC").setMultipleInstances(!0)),Ii(kT,VT,""),Ii(kT,VT,"esm2017")}MO();const kO={apiKey:"AIzaSyCoDUqJjgAFA6Wu3thjuYgFxfBCoZcEwPM",authDomain:"sport-social-774c6.firebaseapp.com",projectId:"sport-social-774c6",storageBucket:"sport-social-774c6.appspot.com",messagingSenderId:"784680932411",appId:"1:784680932411:web:c28326c539fe0614c0381e"},Ng=m0(kO),vt=H2(Ng),yr=af(Ng);DO(Ng);function VO(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=$n(),p=async m=>{m.preventDefault();try{await PC(yr,r,n),console.log("Inicio de sesión exitoso"),f("/profile")}catch(g){console.error("Error al iniciar sesión:",g.message),u("Correo o contraseña incorrectos.")}};return v.jsxs("div",{className:Ai.loginContainer,children:[v.jsx("img",{src:r0,alt:"Logo de SportSocial",className:Ai.logo}),v.jsxs("div",{className:Ai.containerInicio,children:[v.jsx("h1",{children:"Acceder"}),v.jsxs("form",{onSubmit:p,children:[v.jsxs("div",{className:Ai.inputContainer,children:[v.jsx("i",{className:"fas fa-envelope"}),v.jsx("input",{type:"email",placeholder:"Ingresa tu correo",value:r,onChange:m=>e(m.target.value),required:!0})]}),v.jsxs("div",{className:Ai.inputContainer,children:[v.jsx("i",{className:"fas fa-lock"}),v.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",value:n,onChange:m=>s(m.target.value),required:!0})]}),o&&v.jsx("div",{className:Ai.errorMessage,children:o}),v.jsxs("button",{type:"submit",className:Ai.loginButton,children:[v.jsx("span",{children:"Iniciar Sesión"}),v.jsx("i",{className:"fa-solid fa-chevron-right"})]})]}),v.jsx("div",{className:Ai.containerCrear,children:v.jsxs("p",{children:[v.jsx("span",{className:Ai.questionText,children:"¿Eres nuevo(a)?"})," ",v.jsx("span",{onClick:()=>f("/createAccount"),className:Ai.createAccountText,children:"Crear Cuenta"})]})})]})]})}const LO="_profileContainer_hgj1c_27",jO="_profileHeader_hgj1c_49",UO="_profileImage_hgj1c_77",zO="_iconoSalida_hgj1c_97",BO="_iconoEditar_hgj1c_99",qO="_profileDetails_hgj1c_149",HO="_nameAge_hgj1c_169",FO="_age_hgj1c_199",GO="_description_hgj1c_211",$O="_sports_hgj1c_229",KO="_eventsButton_hgj1c_267",QO="_adminEventSection_hgj1c_355",YO="_eventCard_hgj1c_379",XO="_sportTitle_hgj1c_433",WO="_participantEventSection_hgj1c_449",Ot={profileContainer:LO,profileHeader:jO,profileImage:UO,iconoSalida:zO,iconoEditar:BO,profileDetails:qO,nameAge:HO,age:FO,description:GO,sports:$O,eventsButton:KO,adminEventSection:QO,eventCard:YO,sportTitle:XO,participantEventSection:WO},ZO="https://OspinaFelipeDev.github.io/sport-social-app/assets/pro-DS7Tbm-A.png";function JO(){const r=$n(),[e,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(null),[p,m]=q.useState(!0);q.useEffect(()=>{(async()=>{const A=yr.currentUser;if(!A){r("/login");return}try{const w=on(vt,"users",A.uid),D=await ya(w);D.exists()?n(D.data()):console.warn("No se encontraron datos del usuario");const I=Oo(vt,"eventos"),B=NA(I,J2("administradorId","==",A.uid)),L=await Kh(B);if(L.empty)o(null);else{const Y=L.docs[0];o({...Y.data(),id:Y.id})}const X=(await Kh(I)).docs.find(Y=>{const re=Y.data();return re.participantes&&re.participantes.some(ae=>ae.uid===A.uid)});f(X?{...X.data(),id:X.id}:null)}catch(w){console.error("Error al obtener datos:",w.message)}finally{m(!1)}})()},[r]);const g=E=>{switch(E.toLowerCase()){case"fútbol":case"futbol":return v.jsx("i",{className:"fas fa-futbol",style:{marginRight:"8px"}});case"baloncesto":return v.jsx("i",{className:"fas fa-basketball-ball",style:{marginRight:"8px"}});case"voleibol":case"volleyball":case"voley":return v.jsx("i",{className:"fas fa-volleyball-ball",style:{marginRight:"8px"}});default:return v.jsx("i",{className:"fas fa-dumbbell",style:{marginRight:"8px"}})}};return p?v.jsx("p",{className:Ot.loading,children:"Cargando perfil..."}):e?v.jsxs("div",{className:Ot.profileContainer,children:[v.jsxs("div",{className:Ot.profileHeader,children:[v.jsx("i",{className:`fa-solid fa-right-from-bracket ${Ot.iconoSalida}`,onClick:()=>r("/login")}),v.jsx("img",{src:e.photoURL||ZO,alt:"Foto de perfil",className:Ot.profileImage}),v.jsx("i",{className:`fa-solid fa-user-pen ${Ot.iconoEditar}`,onClick:()=>r("/completeProfile")})]}),v.jsxs("div",{className:Ot.profileDetails,children:[v.jsxs("div",{className:Ot.nameAge,children:[v.jsx("h1",{children:e.name||"Sin nombre"}),v.jsx("span",{className:Ot.age,children:e.edad})]}),v.jsx("p",{className:Ot.description,children:e.descripcion||"Sin descripción"}),v.jsx("div",{className:Ot.sports,children:v.jsx("p",{children:e.deportes||"Sin deportes especificados"})}),v.jsx("button",{className:Ot.eventsButton,onClick:()=>r("/choose"),children:"Eventos para hoy"}),s&&v.jsxs("div",{className:Ot.adminEventSection,children:[v.jsx("p",{children:"Actualmente eres el administrador de este evento deportivo:"}),v.jsxs("div",{className:Ot.eventCard,onClick:()=>r(`/meeting/${s.id}`),children:[v.jsxs("h3",{className:Ot.sportTitle,children:[g(s.sport),s.sport.charAt(0).toUpperCase()+s.sport.slice(1)]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Lugar:"})," ",s.location]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Fecha:"})," ",s.date]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Hora:"})," ",s.time]})]})]}),u&&!s&&v.jsxs("div",{className:Ot.participantEventSection,children:[v.jsx("p",{children:"No olvides ir a tu encuentro deportivo:"}),v.jsxs("div",{className:Ot.eventCard,onClick:()=>r("/participants",{state:{id:u.id,isAdmin:!1}}),children:[v.jsxs("h3",{className:Ot.sportTitle,children:[g(u.sport),u.sport.charAt(0).toUpperCase()+u.sport.slice(1)]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Lugar:"})," ",u.location]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Fecha:"})," ",u.date]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Hora:"})," ",u.time]})]})]})]})]}):v.jsx("p",{className:Ot.error,children:"No se encontraron datos del perfil."})}const eP="_chooseContainer_11s0g_33",tP="_header_11s0g_53",nP="_containerHeader_11s0g_61",iP="_iconoVolver_11s0g_73",rP="_main_11s0g_123",sP="_linkContainer_11s0g_139",aP="_containerCreate_11s0g_149",oP="_containerJoin_11s0g_151",lP="_imageContainer_11s0g_241",uP="_iconoGo_11s0g_275",Nn={chooseContainer:eP,header:tP,containerHeader:nP,iconoVolver:iP,main:rP,linkContainer:sP,containerCreate:aP,containerJoin:oP,imageContainer:lP,iconoGo:uP},cP="https://OspinaFelipeDev.github.io/sport-social-app/assets/choose-mwo3Sc3j.png",hP="https://OspinaFelipeDev.github.io/sport-social-app/assets/join-CTwjUJjY.png",fP=()=>v.jsxs("div",{className:Nn.chooseContainer,children:[v.jsx("header",{className:Nn.header,children:v.jsxs("div",{className:Nn.containerHeader,children:[v.jsx(st,{to:"/profile",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Nn.iconoVolver}`})}),v.jsx("h1",{children:"Escoger"})]})}),v.jsxs("main",{className:Nn.main,children:[v.jsx(st,{to:"/where",className:Nn.linkContainer,children:v.jsxs("section",{className:Nn.containerCreate,children:[v.jsx("h2",{children:"Crear"}),v.jsx("p",{children:"Crea un encuentro deportivo, gestiona y sé el administrador del grupo."}),v.jsxs("div",{className:Nn.imageContainer,children:[v.jsx("img",{src:cP,alt:"Crear Encuentro"}),v.jsx("i",{className:`fa-solid fa-chevron-right ${Nn.iconoGo}`})]})]})}),v.jsx(st,{to:"/eventsNow",className:Nn.linkContainer,children:v.jsxs("section",{className:Nn.containerJoin,children:[v.jsx("h2",{children:"Unirse"}),v.jsx("p",{children:"Únete a un encuentro deportivo, escoge el deporte y la posición en la cual vas a participar."}),v.jsxs("div",{className:Nn.imageContainer,children:[v.jsx("img",{src:hP,alt:"Unirse a Encuentro"}),v.jsx("i",{className:`fa-solid fa-chevron-right ${Nn.iconoGo}`})]})]})})]})]}),dP="_whereContainer_skdug_27",pP="_whereHeader_skdug_49",mP="_containerHeader_skdug_59",gP="_iconoVolver_skdug_77",_P="_whereTitle_skdug_105",yP="_locationContainer_skdug_119",vP="_mapPlaceholder_skdug_139",EP="_mapImage_skdug_147",TP="_searchBox_skdug_171",bP="_locationInput_skdug_197",AP="_searchIcon_skdug_213",SP="_sectionTitle_skdug_223",wP="_dateTimeContainer_skdug_241",RP="_datePickerContainer_skdug_259",IP="_timePickerContainer_skdug_261",CP="_dateInput_skdug_273",NP="_timeInput_skdug_275",xP="_sportSelectorContainer_skdug_299",DP="_customSelect_skdug_315",OP="_sportSelect_skdug_299",PP="_whereFooter_skdug_357",MP="_createEventButton_skdug_369",rt={whereContainer:dP,whereHeader:pP,containerHeader:mP,iconoVolver:gP,whereTitle:_P,locationContainer:yP,mapPlaceholder:vP,mapImage:EP,searchBox:TP,locationInput:bP,searchIcon:AP,sectionTitle:SP,dateTimeContainer:wP,datePickerContainer:RP,timePickerContainer:IP,dateInput:CP,timeInput:NP,sportSelectorContainer:xP,customSelect:DP,sportSelect:OP,whereFooter:PP,createEventButton:MP},kP="https://OspinaFelipeDev.github.io/sport-social-app/assets/ubication-BCsGlNmH.jpeg",VP=()=>{const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,p]=q.useState(""),[m,g]=q.useState(null),[E,A]=q.useState(!1),w=$n();q.useEffect(()=>{const I=q0(yr,B=>{g(B||null)});return()=>I()},[]);const D=async()=>{if(!r.trim()||!n||!o||!f){alert("Por favor completa todos los campos.");return}if(!m){alert("Debes iniciar sesión para crear un evento.");return}try{A(!0);const I=await MA(Oo(vt,"eventos"),{location:r.trim(),date:n,time:o,sport:f,createdAt:new Date,userId:m.uid,userEmail:m.email,maxParticipantes:22,estado:"pendiente",administradorId:m.uid,administradorEmail:m.email});w(`/meeting/${I.id}`)}catch(I){console.error("Error al crear el evento:",I),alert("Ocurrió un error al crear el evento.")}finally{A(!1)}};return v.jsxs("div",{className:rt.whereContainer,children:[v.jsx("header",{className:rt.whereHeader,children:v.jsxs("div",{className:rt.containerHeader,children:[v.jsx(st,{to:"/choose",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${rt.iconoVolver}`})}),v.jsx("h1",{className:rt.whereTitle,children:"Dónde"})]})}),v.jsxs("main",{className:rt.whereMain,children:[v.jsxs("div",{className:rt.locationContainer,children:[v.jsx("div",{className:rt.mapPlaceholder,children:v.jsx("img",{src:kP,alt:"Mapa del lugar",className:rt.mapImage})}),v.jsxs("div",{className:rt.searchBox,children:[v.jsx("input",{type:"text",placeholder:"Buscar lugar...",className:rt.locationInput,value:r,onChange:I=>e(I.target.value)}),v.jsx("i",{className:`fas fa-search ${rt.searchIcon}`})]})]}),v.jsx("h2",{className:rt.sectionTitle,children:"Hora y fecha"}),v.jsxs("div",{className:rt.dateTimeContainer,children:[v.jsx("div",{className:rt.datePickerContainer,children:v.jsx("input",{type:"date",className:rt.dateInput,value:n,onChange:I=>s(I.target.value)})}),v.jsx("div",{className:rt.timePickerContainer,children:v.jsx("input",{type:"time",className:rt.timeInput,value:o,onChange:I=>u(I.target.value)})})]}),v.jsx("h3",{className:rt.sectionTitle,children:"Escoger deporte"}),v.jsx("div",{className:rt.sportSelectorContainer,children:v.jsx("div",{className:rt.customSelect,children:v.jsxs("select",{className:rt.sportSelect,value:f,onChange:I=>p(I.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Seleccionar un deporte"}),v.jsx("option",{value:"futbol",children:"Fútbol"}),v.jsx("option",{value:"baloncesto",children:"Baloncesto"}),v.jsx("option",{value:"voleibol",children:"Voleibol"})]})})})]}),v.jsx("footer",{className:rt.whereFooter,children:v.jsx("button",{className:rt.createEventButton,onClick:D,disabled:E,children:v.jsx("span",{children:E?"Creando...":"Crear Evento"})})})]})},LP="_container_oqb52_29",jP="_logo_oqb52_49",UP="_formWrapper_oqb52_67",zP="_inputGroup_oqb52_99",BP="_terminosContainer_oqb52_141",qP="_checkboxContainer_oqb52_161",HP="_checkboxPath_oqb52_181",FP="_checkText_oqb52_213",GP="_submitButton_oqb52_245",$P="_errorMessage_oqb52_295",KP="_legalLink_oqb52_317",QP="_loginLink_oqb52_331",gn={container:LP,logo:jP,formWrapper:UP,inputGroup:zP,terminosContainer:BP,checkboxContainer:qP,checkboxPath:HP,checkText:FP,submitButton:GP,errorMessage:$P,legalLink:KP,loginLink:QP};function YP(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,p]=q.useState(""),m=$n(),g=async E=>{E.preventDefault();try{const w=(await OC(yr,n,o)).user;await kC(w,{displayName:r}),await bm(on(vt,"users",w.uid),{name:r,email:n,createdAt:new Date}),console.log("Cuenta creada exitosamente"),m("/completeProfile")}catch(A){console.error("Error al crear cuenta:",A.message),p("Hubo un problema al crear la cuenta. Intenta nuevamente.")}};return v.jsxs("div",{className:gn.container,children:[v.jsx("img",{src:r0,alt:"Logo de SportSocial",className:gn.logo}),v.jsxs("div",{className:gn.formWrapper,children:[v.jsx("h1",{children:"Crear Cuenta"}),v.jsxs("form",{onSubmit:g,children:[v.jsx("div",{className:gn.inputGroup,children:v.jsx("input",{type:"text",placeholder:"Nombre completo",value:r,onChange:E=>e(E.target.value),required:!0})}),v.jsx("div",{className:gn.inputGroup,children:v.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:E=>s(E.target.value),required:!0})}),v.jsx("div",{className:gn.inputGroup,children:v.jsx("input",{type:"password",placeholder:"Contraseña",value:o,onChange:E=>u(E.target.value),required:!0})}),f&&v.jsx("div",{className:gn.errorMessage,children:f}),v.jsxs("div",{className:gn.terminosContainer,children:[v.jsxs("label",{className:gn.checkboxContainer,children:[v.jsx("input",{type:"checkbox",required:!0}),v.jsx("svg",{viewBox:"0 0 64 64",height:"3em",width:"3em",children:v.jsx("path",{d:"M 0 16 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 16 L 32 48 L 64 16 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 16",pathLength:"575.0541381835938",className:gn.checkboxPath})})]}),v.jsx("div",{className:gn.checkText,children:v.jsxs("p",{children:[v.jsx("span",{children:"Al crear una cuenta, acepto los "}),v.jsx("span",{className:gn.legalLink,onClick:()=>m("/terms"),children:"términos y condiciones y la política de privacidad."})]})})]}),v.jsx("button",{type:"submit",className:gn.submitButton,children:"Crear Cuenta"})]}),v.jsx("p",{className:gn.loginLink,onClick:()=>m("/login"),children:"¿Ya tienes una cuenta? Inicia sesión"})]})]})}const XP="_termsContainer_1wns0_19",WP="_header_1wns0_31",ZP="_iconoVolver_1wns0_49",JP="_title_1wns0_61",eM="_main_1wns0_73",tu={termsContainer:XP,header:WP,iconoVolver:ZP,title:JP,main:eM},tM=()=>v.jsxs("div",{className:tu.termsContainer,children:[v.jsxs("header",{className:tu.header,children:[v.jsx(st,{to:"/createAccount",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${tu.iconoVolver}`})}),v.jsx("h1",{className:tu.title,children:"Términos y condiciones"})]}),v.jsxs("main",{className:tu.main,children:[v.jsx("p",{children:"1. Aceptación de los Términos Al acceder y utilizar la aplicación, el usuario acepta los términos y condiciones establecidos. Si no está de acuerdo con estos términos, no podrá utilizar los servicios proporcionados por la aplicación."}),v.jsx("p",{children:"2. Requisitos del Usuario Para utilizar la aplicación, el usuario debe tener al menos 15 años de edad o contar con el consentimiento de un tutor legal. El usuario se compromete a proporcionar información precisa y actualizada al momento de registrarse."}),v.jsx("p",{children:"3. Registro y Seguridad de la Cuenta El usuario es responsable de mantener la confidencialidad de su cuenta y contraseña. Cualquier actividad realizada en su cuenta será considerada responsabilidad del usuario. En caso de sospecha de un uso no autorizado de la cuenta, el usuario debe notificarlo inmediatamente."}),v.jsx("p",{children:"4. Uso Permitido La aplicación está diseñada para la organización de encuentros deportivos y la asignación de tareas en actividades deportivas. El usuario se compromete a utilizar la aplicación de acuerdo con las leyes aplicables, y no podrá usar la plataforma para fines ilegales o no autorizados."}),v.jsx("p",{children:"5. Creación y Participación en Encuentros El usuario podrá crear y participar en encuentros deportivos, eligiendo el deporte, la posición, el horario y el equipo. El administrador del encuentro es responsable de gestionar los participantes y asignar tareas."}),v.jsx("p",{children:"6. Derechos de Propiedad Intelectual La aplicación y su contenido, incluyendo pero no limitándose a textos, gráficos, logos y software, están protegidos por derechos de autor. El usuario no podrá reproducir, distribuir ni modificar el contenido sin el permiso correspondiente."}),v.jsx("p",{children:"7. Privacidad y Datos Personales Los datos personales proporcionados por el usuario serán manejados conforme a nuestra Política de Privacidad, y serán utilizados para la gestión de la cuenta, participación en encuentros y otras funcionalidades relacionadas. El usuario autoriza el tratamiento de sus datos al registrarse en la aplicación."}),v.jsx("p",{children:"8. Modificaciones de los Términos La aplicación se reserva el derecho de modificar estos términos y condiciones en cualquier momento. Los cambios serán publicados en la aplicación, y la continuación del uso de la misma implicará la aceptación de los términos actualizados."}),v.jsx("p",{children:"9. Limitación de Responsabilidad La aplicación no será responsable por daños directos, indirectos, incidentales o consecuentes resultantes del uso de la plataforma, incluyendo la pérdida de datos o interrupciones en los servicios."}),v.jsx("p",{children:"10. Resolución de Disputas Cualquier disputa relacionada con estos términos será resuelta a través de arbitraje, conforme a las leyes locales. El usuario se compromete a intentar resolver cualquier conflicto de manera amistosa antes de recurrir a acciones legales."}),v.jsx("p",{children:"11. Terminación de la Cuenta La aplicación se reserva el derecho de suspender o eliminar la cuenta de cualquier usuario que incumpla estos términos y condiciones."})]})]}),nM="_container_1ao4v_29",iM="_header_1ao4v_45",rM="_title_1ao4v_65",sM="_subtitle_1ao4v_73",aM="_profileContainer_1ao4v_85",oM="_profileImage_1ao4v_101",lM="_cameraIcon_1ao4v_117",uM="_main_1ao4v_147",cM="_inputBox_1ao4v_163",hM="_footer_1ao4v_241",fM="_saveButton_1ao4v_257",tn={container:nM,header:iM,title:rM,subtitle:sM,profileContainer:aM,profileImage:oM,cameraIcon:lM,main:uM,inputBox:cM,footer:hM,saveButton:fM},dM=()=>{const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,p]=q.useState(""),[m,g]=q.useState(""),[E,A]=q.useState("https://placehold.co/150x150"),w=q.useRef(null),D=$n();q.useEffect(()=>{(async()=>{const X=yr.currentUser;if(X){const Y=on(vt,"users",X.uid),re=await ya(Y);if(re.exists()){const ae=re.data();e(ae.name||""),s(ae.residencia||""),u(ae.deportes||""),p(ae.edad||""),g(ae.descripcion||""),ae.photoURL&&A(ae.photoURL)}}})()},[]);const I=()=>{w.current.click()},B=async P=>{const X=P.target.files[0],Y=yr.currentUser;if(!X||!Y)return;const re=new FormData;re.append("file",X),re.append("upload_preset","unsigned_profile_upload"),re.append("folder","profilePics");try{const O=(await(await fetch("https://api.cloudinary.com/v1_1/dqstbikug/image/upload",{method:"POST",body:re})).json()).secure_url;A(O),await bm(on(vt,"users",Y.uid),{photoURL:O},{merge:!0})}catch(ae){console.error("Error al subir la imagen a Cloudinary:",ae.message)}},L=async()=>{const P=yr.currentUser;if(!P)return;const X={name:r,residencia:n,deportes:o,edad:f,descripcion:m};try{await bm(on(vt,"users",P.uid),X,{merge:!0}),D("/profile")}catch(Y){console.error("Error al guardar perfil:",Y.message)}};return v.jsxs("div",{className:tn.container,children:[v.jsxs("header",{className:tn.header,children:[v.jsx("h1",{className:tn.title,children:"Completa tu perfil"}),v.jsxs("div",{className:tn.profileContainer,children:[v.jsx("img",{id:"profileImage",src:E,alt:"Foto de perfil",className:tn.profileImage}),v.jsx("div",{className:tn.cameraIcon,onClick:I,children:v.jsx("i",{className:"fas fa-camera"})}),v.jsx("input",{type:"file",ref:w,accept:"image/*",style:{display:"none"},onChange:B})]}),v.jsxs("h2",{className:tn.subtitle,children:["¡Hola, ",r,"!"]}),v.jsx("p",{className:tn.subtitle,children:"Sube tu foto de perfil y completa tus datos"})]}),v.jsxs("main",{className:tn.main,children:[v.jsxs("div",{className:tn.inputBox,children:[v.jsx("i",{className:"fas fa-user"}),v.jsx("input",{type:"text",placeholder:"Nombre",value:r,onChange:P=>e(P.target.value),required:!0})]}),v.jsxs("div",{className:tn.inputBox,children:[v.jsx("i",{className:"fas fa-map-marker-alt"}),v.jsx("input",{type:"text",placeholder:"Lugar de residencia",value:n,onChange:P=>s(P.target.value),required:!0})]}),v.jsxs("div",{className:tn.inputBox,children:[v.jsx("i",{className:"fas fa-futbol"}),v.jsx("input",{type:"text",placeholder:"Deportes favoritos",value:o,onChange:P=>u(P.target.value),required:!0})]}),v.jsxs("div",{className:tn.inputBox,children:[v.jsx("i",{className:"fas fa-calendar-alt"}),v.jsx("input",{type:"number",placeholder:"Edad",value:f,onChange:P=>p(P.target.value),min:"0",max:"120",required:!0})]}),v.jsx("div",{className:tn.inputBox,children:v.jsx("textarea",{placeholder:"Haz una breve descripción de ti...💁",value:m,onChange:P=>g(P.target.value),required:!0})})]}),v.jsx("footer",{className:tn.footer,children:v.jsx("button",{className:tn.saveButton,onClick:L,children:v.jsx("span",{children:"Guardar"})})})]})},pM="_meetingContainer_114i2_31",mM="_header_114i2_53",gM="_containerName_114i2_61",_M="_iconoVolver_114i2_83",yM="_chatIconContainer_114i2_85",vM="_eventDetails_114i2_165",EM="_participantes_114i2_195",TM="_main_114i2_225",bM="_footer_114i2_299",Si={meetingContainer:pM,header:mM,containerName:gM,iconoVolver:_M,chatIconContainer:yM,eventDetails:vM,participantes:EM,main:TM,footer:bM},va="https://OspinaFelipeDev.github.io/sport-social-app/assets/chat-Bcd6RG7e.png",LT=()=>{var p,m;const{id:r}=wm(),[e,n]=q.useState(null),[s,o]=q.useState(!0);if(q.useEffect(()=>{const g=on(vt,"eventos",r),E=Ig(g,A=>{A.exists()?n(A.data()):(console.log("El evento no existe"),n(null)),o(!1)},A=>{console.error("Error al obtener el evento:",A),o(!1)});return()=>E()},[r]),s)return v.jsx("p",{children:"Cargando evento..."});if(!e)return v.jsx("p",{children:"No se encontró el evento."});const u=((p=e.participantes)==null?void 0:p.length)||0,f=e.maxParticipantes||0;return v.jsxs("div",{className:Si.meetingContainer,children:[v.jsxs("header",{className:Si.header,children:[v.jsxs("div",{className:Si.containerName,children:[v.jsx(st,{to:"/where",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Si.iconoVolver}`})}),v.jsx("p",{id:"deporte-seleccionado",children:e.sport.charAt(0).toUpperCase()+e.sport.slice(1)}),v.jsx("div",{className:Si.chatIconContainer,children:v.jsx(st,{to:`/chat/${r}`,className:Si.chatLink,"aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"Chat icon"})})})]}),v.jsxs("div",{className:Si.eventDetails,children:[v.jsxs("p",{id:"lugar-seleccionado",children:[v.jsx("i",{className:"fas fa-map-marker-alt"})," ",e.location]}),v.jsxs("p",{id:"fecha-seleccionada",children:[v.jsx("i",{className:"fas fa-calendar-alt"})," ",e.date]}),v.jsxs("p",{id:"hora-seleccionada",children:[v.jsx("i",{className:"fas fa-clock"})," ",e.time]})]}),v.jsxs("p",{className:Si.participantes,children:[v.jsx("i",{className:"fas fa-users"})," Participantes"," ",v.jsxs("span",{id:"participantes-actual",children:["(",u]}),"/",v.jsxs("span",{id:"participantes-total",children:[f,")"]})]})]}),v.jsxs("main",{className:Si.main,children:[v.jsx(st,{to:"/assignPositions",state:{id:r},children:v.jsx("button",{children:v.jsx("span",{children:"Asignar Posición*"})})}),v.jsx(st,{to:"/tasks",state:{id:r},children:v.jsx("button",{children:v.jsx("span",{children:"Asignar tareas"})})}),v.jsx(st,{to:"/participants",state:{id:r,isAdmin:((m=yr.currentUser)==null?void 0:m.uid)===e.administradorId},children:v.jsx("button",{children:v.jsx("span",{children:"Ver participantes"})})}),v.jsx(st,{to:"/fileMeeting",children:v.jsx("button",{children:v.jsx("span",{children:"Mostrar ficha del encuentro"})})})]}),v.jsxs("footer",{className:Si.footer,children:[v.jsx(st,{to:"/choose",children:v.jsx("button",{children:v.jsx("span",{children:"Fin del encuentro"})})}),v.jsx("p",{children:"*El administrador deberá asignar las posiciones en caso de ser necesario"})]})]})},AM="_assignContainer_c7rtm_35",SM="_header_c7rtm_51",wM="_containerName_c7rtm_59",RM="_chatIconContainer_c7rtm_113",IM="_field_c7rtm_141",CM="_player_c7rtm_177",NM="_blue_c7rtm_211",xM="_red_c7rtm_219",DM="_dropdownBtn_c7rtm_227",OM="_dropdownContent_c7rtm_247",PM="_footer_c7rtm_539",yn={assignContainer:AM,header:SM,containerName:wM,chatIconContainer:RM,field:IM,player:CM,blue:NM,red:xM,dropdownBtn:DM,dropdownContent:OM,"blue-position-1":"_blue-position-1_c7rtm_317","blue-position-2":"_blue-position-2_c7rtm_327","blue-position-3":"_blue-position-3_c7rtm_337","blue-position-4":"_blue-position-4_c7rtm_347","blue-position-5":"_blue-position-5_c7rtm_357","blue-position-6":"_blue-position-6_c7rtm_367","blue-position-7":"_blue-position-7_c7rtm_377","blue-position-8":"_blue-position-8_c7rtm_387","blue-position-9":"_blue-position-9_c7rtm_397","blue-position-10":"_blue-position-10_c7rtm_407","blue-position-11":"_blue-position-11_c7rtm_417","red-position-1":"_red-position-1_c7rtm_427","red-position-2":"_red-position-2_c7rtm_437","red-position-3":"_red-position-3_c7rtm_447","red-position-4":"_red-position-4_c7rtm_457","red-position-5":"_red-position-5_c7rtm_467","red-position-6":"_red-position-6_c7rtm_477","red-position-7":"_red-position-7_c7rtm_487","red-position-8":"_red-position-8_c7rtm_497","red-position-9":"_red-position-9_c7rtm_507","red-position-10":"_red-position-10_c7rtm_517","red-position-11":"_red-position-11_c7rtm_527",footer:PM},MM={1:"Portero",2:"Defensa central derecho",3:"Defensa central izquierdo",4:"Lateral izquierdo",5:"Lateral derecho",6:"Mediocentro defensivo",7:"Mediocentro ofensivo",8:"Extremo izquierdo",9:"Delantero centro",10:"Extremo derecho",11:"Segundo delantero"},jT=(r,e,n,s)=>Array.from({length:11},(o,u)=>{var m;const f=u+1,p=(m=e==null?void 0:e[r])==null?void 0:m[f];return v.jsxs("div",{className:`${yn.player} ${yn[r]} ${yn[`${r}-position-${f}`]}`,children:[v.jsx("span",{children:f}),v.jsx("button",{className:yn.dropdownBtn,children:v.jsx("i",{className:"fas fa-chevron-down"})}),v.jsx("ul",{className:yn.dropdownContent,children:n.map(g=>v.jsx("li",{onClick:()=>s(r,f,{uid:g.uid,name:g.name||g.nombre}),children:g.name||g.nombre},g.uid))}),p&&v.jsx("p",{className:yn.assignedName,children:p.name})]},`${r}-${f}`)}),kM=r=>{const e={};for(const n in r){e[n]={};for(const s in r[n]){const o=r[n][s];o&&o.uid&&(e[n][s]=o)}}return e},VM=()=>{var D;const r=si(),e=$n(),n=(D=r.state)==null?void 0:D.id,[s,o]=q.useState(null),[u,f]=q.useState(!0),[p,m]=q.useState(null);q.useEffect(()=>{const I=af(),B=q0(I,X=>{X?m(X):console.log("No hay usuario autenticado")});if(!n)return;const L=on(vt,"eventos",n),P=Ig(L,X=>{if(X.exists()){const Y=X.data();o(Y)}else console.log("Evento no encontrado");f(!1)});return()=>{B(),P()}},[n]);const g=(I,B,L)=>{var X;const P={...s.posiciones,[I]:{...(X=s.posiciones)==null?void 0:X[I],[B]:{uid:L.uid,name:L.name,posicion:MM[B],equipo:I}}};o(Y=>({...Y,posiciones:P}))},E=async()=>{if(!s||!s.posiciones){alert("No hay posiciones asignadas.");return}const I=kM(s.posiciones);if(Object.keys(I.blue||{}).length===0&&Object.keys(I.red||{}).length===0){alert("Debes asignar al menos una posición antes de guardar.");return}try{const B=on(vt,"eventos",n);await Qh(B,{posiciones:I}),e("/tasks",{state:{id:n}})}catch(B){console.error("Error al guardar las posiciones:",B)}};if(u)return v.jsx("p",{children:"Cargando posiciones..."});if(!s)return v.jsx("p",{children:"Evento no encontrado"});const A=s.participantes||[],w=s.posiciones||{};return v.jsxs("div",{className:yn.assignContainer,children:[v.jsx("header",{className:yn.header,children:v.jsxs("div",{className:yn.containerName,children:[v.jsx(st,{to:`/meeting/${n}`,children:v.jsx("i",{className:"fa-solid fa-circle-arrow-left"})}),v.jsx("p",{children:"Asignar posiciones"}),v.jsx("div",{className:yn.chatIconContainer,children:v.jsx("div",{className:yn.chatIconContainer,children:v.jsx(st,{to:`/chat/${n}`,className:yn.chatLink,"aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"chat"})})})})]})}),v.jsxs("main",{className:yn.field,children:[jT("blue",w,A,g),jT("red",w,A,g)]}),v.jsx("footer",{className:yn.footer,children:v.jsx("button",{onClick:E,children:v.jsx("span",{children:"Guardar"})})})]})},LM="_container_16f7b_29",jM="_header_16f7b_49",UM="_containerName_16f7b_57",zM="_iconoVolver_16f7b_77",BM="_chatIconContainer_16f7b_113",qM="_asignarTarea_16f7b_143",HM="_assignedTasks_16f7b_145",FM="_customSelect_16f7b_199",GM="_participantSelect_16f7b_221",$M="_taskSelect_16f7b_223",KM="_selectIcon_16f7b_245",QM="_taskIcon_16f7b_247",YM="_assignButton_16f7b_261",XM="_errorMessage_16f7b_303",WM="_tasksList_16f7b_317",ZM="_removeButton_16f7b_381",JM="_saveButtonContainer_16f7b_427",ek="_saveButton_16f7b_427",tk="_infoMessage_16f7b_475",dt={container:LM,header:jM,containerName:UM,iconoVolver:zM,chatIconContainer:BM,asignarTarea:qM,assignedTasks:HM,customSelect:FM,participantSelect:GM,taskSelect:$M,selectIcon:KM,taskIcon:QM,assignButton:YM,errorMessage:XM,tasksList:WM,removeButton:ZM,saveButtonContainer:JM,saveButton:ek,infoMessage:tk},nk=r=>{switch(r){case"blue":return"Azul";case"red":return"Rojo";default:return"Desconocido"}},ik=()=>{var L;const r=si(),e=$n(),n=(L=r.state)==null?void 0:L.id;console.log("Evento ID:",n);const[s,o]=q.useState(""),[u,f]=q.useState(""),[p,m]=q.useState([]),[g,E]=q.useState([]),[A,w]=q.useState("");q.useEffect(()=>{(async()=>{if(n)try{const X=on(vt,"eventos",n),Y=await ya(X);if(Y.exists()){const re=Y.data(),ae=re.participantes||[],ge=re.posiciones||{},O=ae.map(R=>{let C=null,k=null,j=!1;for(const[z,x]of Object.entries(ge)){for(const[kt,Ze]of Object.entries(x))if(Ze.uid===R.uid){C=Ze.posicion,k=Ze.equipo||z,j=!0;break}if(j)break}return{...R,posicion:C,equipo:k}});E(O)}else console.error("Evento no encontrado")}catch(X){console.error("Error al obtener participantes:",X)}})()},[n]);const D=()=>{if(s&&u){const P=g.find(re=>re.uid===u);if(p.some(re=>re.task===s&&re.participant===((P==null?void 0:P.nombre)||(P==null?void 0:P.name)))){w("🏃‍♂️ ¡Ups! Este jugador ya tiene esa tarea."),setTimeout(()=>w(""),3e3);return}const Y={task:s,participant:(P==null?void 0:P.nombre)||(P==null?void 0:P.name)||"Desconocido",userId:P==null?void 0:P.uid};m(re=>[...re,Y]),o(""),f(""),w("")}},I=P=>{m(X=>X.filter((Y,re)=>re!==P))},B=async()=>{if(!(!n||p.length===0))try{const P=on(vt,"eventos",n);await Qh(P,{tareas:VA(...p)}),e("/participants",{state:{id:n,isAdmin:!0}})}catch(P){console.error("Error al guardar las tareas:",P)}};return v.jsxs("div",{className:dt.container,children:[v.jsx("header",{className:dt.header,children:v.jsxs("div",{className:dt.containerName,children:[v.jsx(st,{to:`/meeting/${n}`,children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${dt.iconoVolver}`})}),v.jsx("p",{id:"deporte-seleccionado",children:"Tareas"}),v.jsx("div",{className:dt.chatIconContainer,children:v.jsx("div",{className:dt.chatIconContainer,children:v.jsx(st,{to:`/chat/${n}`,className:dt.chatLink,"aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"chat"})})})})]})}),v.jsxs("main",{children:[v.jsxs("div",{className:dt.asignarTarea,children:[v.jsx("h3",{children:"Asignar Tareas"}),v.jsx("label",{htmlFor:"task-select",children:"Selecciona una tarea:"}),v.jsxs("div",{className:dt.customSelect,children:[v.jsxs("select",{id:"task-select",className:dt.taskSelect,value:s,onChange:P=>o(P.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Elige una tarea"}),v.jsx("option",{value:"Llevar implementos",children:"Llevar implementos"}),v.jsx("option",{value:"Poner implementos",children:"Poner implementos"}),v.jsx("option",{value:"Quitar implementos",children:"Quitar implementos"}),v.jsx("option",{value:"Encender luces",children:"Encender luces"}),v.jsx("option",{value:"Apagar luces",children:"Apagar luces"}),v.jsx("option",{value:"Recoger dinero",children:"Recoger dinero"}),v.jsx("option",{value:"Llenar asistencia",children:"Llenar asistencia"})]}),v.jsx("i",{className:`fa-solid fa-chevron-down ${dt.taskIcon}`})]}),v.jsx("h4",{children:"Seleccionar participante:"}),v.jsxs("div",{className:dt.customSelect,children:[v.jsxs("select",{id:"participant-select",className:dt.participantSelect,value:u,onChange:P=>f(P.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Selecciona un participante"}),[...g].sort((P,X)=>(P.nombre||P.name).localeCompare(X.nombre||X.name)).map(P=>v.jsxs("option",{value:P.uid,children:[P.nombre||P.name,P.posicion&&` - ${P.posicion} (${nk(P.equipo)})`]},P.uid))]}),v.jsx("i",{className:`fa-solid fa-chevron-down ${dt.selectIcon}`})]}),v.jsx("button",{id:"assign-task",className:dt.assignButton,onClick:D,children:"Asignar Tarea"}),A&&v.jsx("p",{className:dt.errorMessage,children:A})]}),v.jsxs("div",{className:dt.assignedTasks,children:[v.jsx("h3",{children:"Tareas Asignadas"}),v.jsx("ul",{id:"tasks-list",className:dt.tasksList,children:p.map((P,X)=>v.jsxs("li",{children:["Tarea: ",P.task,", Participante: ",P.participant,v.jsx("button",{className:dt.removeButton,onClick:()=>I(X),children:"Eliminar"})]},X))})]}),v.jsxs("div",{className:dt.saveButtonContainer,children:[v.jsx("button",{className:dt.saveButton,onClick:B,children:"Guardar"}),v.jsx("p",{className:dt.infoMessage,children:"*En algunos encuentros las tareas pueden variar*📋"})]})]})]})},rk="_participantsWrapper_3vcbv_29",sk="_header_3vcbv_41",ak="_containerName_3vcbv_59",ok="_iconoVolver_3vcbv_75",lk="_title_3vcbv_97",uk="_chatIconContainer_3vcbv_115",ck="_participantsMain_3vcbv_141",hr={participantsWrapper:rk,header:sk,containerName:ak,iconoVolver:ok,title:lk,chatIconContainer:uk,participantsMain:ck},hk="_card_15wfb_1",fk="_bordeAzul_15wfb_61",dk="_bordeRojo_15wfb_69",pk="_foto_15wfb_77",ph={card:hk,bordeAzul:fk,bordeRojo:dk,foto:pk},Wh=({nombre:r="Sin nombre",tarea:e="Sin tarea asignada",posicion:n="Sin asignar",foto:s="https://i.pravatar.cc/60",equipo:o=""})=>{const u=o.toLowerCase(),f=u==="azul"?"Equipo Azul":u==="rojo"?"Equipo Rojo":"Sin equipo";return v.jsxs("div",{className:`${ph.card} ${u==="azul"?ph.bordeAzul:ph.bordeRojo}`,children:[v.jsx("img",{src:s,alt:r,className:ph.foto}),v.jsx("h3",{children:r}),v.jsxs("p",{children:[v.jsx("strong",{children:"Equipo:"})," ",f]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Posición:"})," ",n]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Tarea:"})," ",e]})]})};function UT(){const r=si(),{id:e}=wm(),[n,s]=q.useState(null),[o,u]=q.useState(!1),[f,p]=q.useState([]);return q.useEffect(()=>{r.state?(s(r.state.id),u(r.state.isAdmin||!1)):e&&s(e)},[r.state,e]),q.useEffect(()=>{(async()=>{if(n)try{const g=on(vt,"eventos",n),E=await ya(g);if(E.exists()){const A=E.data(),w=A.participantes||[],D=A.posiciones||{},I=A.tareas||[],B=w.map(L=>{let P=null,X=null;for(const[re,ae]of Object.entries(D))for(const[ge,O]of Object.entries(ae))O.uid===L.uid&&(P=O.posicion,X=re==="blue"?"azul":re==="red"?"rojo":re);const Y=I.find(re=>re.participant===L.nombre||re.participant===L.name);return{...L,posicion:P||"Sin asignar",equipo:X||"",tarea:(Y==null?void 0:Y.task)||"Sin tarea asignada",photoURL:L.photoURL||"https://i.pravatar.cc/60"}});p(B)}}catch(g){console.error("Error al obtener datos de participantes:",g)}})()},[n]),n?v.jsxs("div",{className:hr.participantsWrapper,children:[v.jsx("header",{className:hr.header,children:v.jsxs("div",{className:hr.containerName,children:[v.jsx(st,{to:o?`/meeting/${n}`:"/profile",className:hr.iconLink,children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${hr.iconoVolver}`})}),v.jsx("p",{className:hr.title,children:"Participantes"}),v.jsx("div",{className:hr.chatIconContainer,children:v.jsx(st,{to:`/chat/${n}`,className:hr.chatLink,"aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"chat"})})})]})}),v.jsx("main",{className:hr.participantsMain,children:f.map(m=>v.jsx(Wh,{nombre:m.nombre||m.name,tarea:m.tarea,posicion:m.posicion,foto:m.photoURL,equipo:m.equipo},m.uid))})]}):v.jsx("p",{children:"Error: ID del evento no proporcionado."})}const mk="_wrapper_mhrot_29",gk="_header_mhrot_43",_k="_containerName_mhrot_51",yk="_iconoVolver_mhrot_71",vk="_chatIconContainer_mhrot_107",Ek="_main_mhrot_133",Tk="_blueTitle_mhrot_141",bk="_redTitle_mhrot_151",Ak="_equipoContainer_mhrot_161",Jn={wrapper:mk,header:gk,containerName:_k,iconoVolver:yk,chatIconContainer:vk,main:Ek,blueTitle:Tk,redTitle:bk,equipoContainer:Ak},Sk=[{nombre:"Juan Pérez",tarea:"Llevar balones",posicion:"Delantero",foto:"https://randomuser.me/api/portraits/men/32.jpg"},{nombre:"Laura Gómez",tarea:"Llevar agua",posicion:"Portera",foto:"https://randomuser.me/api/portraits/women/44.jpg"}],wk=[{nombre:"Carlos Díaz",tarea:"Organizar defensa",posicion:"Defensa central",foto:"https://randomuser.me/api/portraits/men/28.jpg"},{nombre:"Ana Torres",tarea:"Llevar uniformes",posicion:"Lateral izquierdo",foto:"https://randomuser.me/api/portraits/women/37.jpg"},{nombre:"Ana Torres",tarea:"Llevar uniformes",posicion:"Lateral izquierdo",foto:"https://randomuser.me/api/portraits/women/37.jpg"}],Rk=()=>v.jsxs("div",{className:Jn.wrapper,children:[v.jsx("header",{className:Jn.header,children:v.jsxs("div",{className:Jn.containerName,children:[v.jsx(st,{to:"/meeting",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${Jn.iconoVolver}`})}),v.jsx("p",{id:"deporte-seleccionado",children:"Ficha Encuentro"}),v.jsx("div",{className:Jn.chatIconContainer,children:v.jsx("a",{href:"tu-url-de-chat.html",className:Jn.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"Chat"})})})]})}),v.jsxs("main",{className:Jn.main,children:[v.jsx("h1",{className:Jn.blueTitle,children:"Equipo Azul"}),v.jsx("div",{id:"equipo-azul",className:Jn.equipoContainer,children:Sk.map((r,e)=>v.jsx(Wh,{nombre:r.nombre,tarea:r.tarea,posicion:r.posicion,foto:r.foto,equipo:"azul"},e))}),v.jsx("h1",{className:Jn.redTitle,children:"Equipo Rojo"}),v.jsx("div",{id:"equipo-rojo",className:Jn.equipoContainer,children:wk.map((r,e)=>v.jsx(Wh,{nombre:r.nombre,tarea:r.tarea,posicion:r.posicion,foto:r.foto,equipo:"rojo"},e))})]})]}),Ik="_tarjetaEncuentro_1l8ko_1",Ck="_columnaDeporte_1l8ko_45",Nk="_columnaHora_1l8ko_91",xk="_botonFlecha_1l8ko_121",Dk="_columnaImagen_1l8ko_147",Ok="_mensajeUnido_1l8ko_195",Pk="_unido_1l8ko_207",Mk="_botonCancelar_1l8ko_217",fr={tarjetaEncuentro:Ik,columnaDeporte:Ck,columnaHora:Nk,botonFlecha:xk,columnaImagen:Dk,mensajeUnido:Ok,unido:Pk,botonCancelar:Mk},zA=({deporte:r,ubicacion:e,fecha:n,hora:s,imagen:o,participantesActuales:u,participantesMaximos:f,yaUnido:p,onClick:m,onLeave:g})=>v.jsxs("div",{className:`${fr.tarjetaEncuentro} ${p?fr.unido:""}`,onClick:p?void 0:m,style:{cursor:p?"default":"pointer"},children:[v.jsxs("div",{className:fr.columnaDeporte,children:[v.jsx("h2",{children:r}),v.jsxs("p",{children:[v.jsx("i",{className:"fas fa-map-marker-alt"})," ",e]}),v.jsxs("p",{children:[v.jsx("i",{className:"fas fa-calendar-alt"})," ",kk(n)]}),v.jsxs("p",{children:[v.jsx("i",{className:"fas fa-users"})," ",u," / ",f," participantes"]}),p&&v.jsxs("div",{className:fr.acciones,children:[v.jsxs("p",{className:fr.mensajeUnido,children:[v.jsx("i",{className:"fas fa-check-circle"})," Ya estás unido"]}),v.jsx("button",{className:fr.botonCancelar,onClick:g,children:"Cancelar participación"})]})]}),v.jsxs("div",{className:fr.columnaHora,children:[v.jsxs("p",{children:[v.jsx("i",{className:"fas fa-clock"})," ",s]}),!p&&v.jsx("i",{className:`fa-solid fa-chevron-right ${fr.botonFlecha}`})]}),v.jsx("div",{className:fr.columnaImagen,children:v.jsx("img",{src:o,alt:"Imagen de evento"})})]}),kk=r=>{if(!r)return"";const e={day:"numeric",month:"long",year:"numeric"};return new Date(r).toLocaleDateString("es-ES",e)},Vk="_wrapper_1rm4d_29",Lk="_header_1rm4d_71",jk="_iconoVolver_1rm4d_95",Uk="_tituloCentro_1rm4d_123",zk="_main_1rm4d_161",fo={wrapper:Vk,header:Lk,iconoVolver:jk,tituloCentro:Uk,main:zk},zT="https://OspinaFelipeDev.github.io/sport-social-app/assets/balonFutbol-BwV5ZH0q.png",Bk="https://OspinaFelipeDev.github.io/sport-social-app/assets/balonBaloncesto-DMUFAgTY.jpg",qk="https://OspinaFelipeDev.github.io/sport-social-app/assets/balonVoleibol-BCD5Swpu.jpg",Hk=r=>{switch(r.toLowerCase()){case"futbol":case"fútbol":return zT;case"baloncesto":return Bk;case"voleibol":case"volleyball":case"voley":return qk;default:return zT}},Fk=()=>{const[r,e]=q.useState([]),n=$n(),o=af().currentUser;q.useEffect(()=>{(async()=>{try{const g=(await Kh(Oo(vt,"eventos"))).docs.map(E=>{var D,I;const A=E.data(),w=(D=A.participantes)==null?void 0:D.some(B=>B.uid===(o==null?void 0:o.uid));return{id:E.id,deporte:A.sport,ubicacion:A.location,hora:A.time,fecha:A.date,participantes:A.participantes||[],participantesActuales:((I=A.participantes)==null?void 0:I.length)||0,participantesMaximos:A.maxParticipantes||0,yaUnido:w,imagen:Hk(A.sport)}});e(g)}catch(m){console.error("Error al obtener eventos:",m)}})()},[o]);const u=async(p,m)=>{var E;if(!o){alert("Debes iniciar sesión para unirte a un evento.");return}const g=on(vt,"eventos",p);try{const w=(E=(await Kh(Oo(vt,"users"))).docs.find(B=>B.id===o.uid))==null?void 0:E.data(),D=(w==null?void 0:w.name)||o.displayName||"Sin nombre",I=(w==null?void 0:w.photoURL)||"";await Qh(g,{participantes:VA({uid:o.uid,name:D,photoURL:I})}),e(B=>B.map(L=>L.id===p?{...L,yaUnido:!0,participantesActuales:L.participantesActuales+1}:L)),n("/confirmedParticipation",{state:{userName:D,sportName:m,id:p}})}catch(A){console.error("Error al unirse al evento:",A)}},f=async p=>{var g,E;if(!o)return;const m=on(vt,"eventos",p);try{const w=(await ya(m)).data();if(!w){console.error("Evento no encontrado");return}const D=(g=w.participantes)==null?void 0:g.find(P=>P.uid===o.uid);if(!D){console.warn("No se encontró al usuario entre los participantes");return}const I=(w.tareas||[]).filter(P=>P.userId!==o.uid),B={...w.posiciones};for(const P in B)for(const X in B[P])((E=B[P][X])==null?void 0:E.uid)===o.uid&&delete B[P][X];for(const P in B)Object.keys(B[P]).length===0&&delete B[P];const L={participantes:sO(D),posiciones:B,tareas:I,[`equipos.${o.uid}`]:iO()};await Qh(m,L),e(P=>P.map(X=>X.id===p?{...X,yaUnido:!1,participantesActuales:X.participantesActuales-1,posiciones:B}:X))}catch(A){console.error("Error al cancelar la participación:",A)}};return v.jsxs("div",{className:fo.wrapper,children:[v.jsxs("header",{className:fo.header,children:[v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${fo.iconoVolver}`,onClick:()=>n("/choose")}),v.jsx("p",{className:fo.tituloCentro,children:"Eventos disponibles"})]}),v.jsx("main",{className:fo.main,children:r.length===0?v.jsx("p",{children:"No hay eventos disponibles."}):r.map(p=>v.jsx("div",{className:fo.eventContainer,children:v.jsx(zA,{deporte:p.deporte,ubicacion:p.ubicacion,fecha:p.fecha,hora:p.hora,imagen:p.imagen,participantesActuales:p.participantesActuales,participantesMaximos:p.participantesMaximos,yaUnido:p.yaUnido,onClick:()=>u(p.id,p.deporte),onLeave:()=>f(p.id)})},p.id))})]})},Gk="_wrapper_pj5gn_27",$k="_header_pj5gn_43",Kk="_containerName_pj5gn_51",Qk="_iconoVolver_pj5gn_71",Yk="_titulo_pj5gn_93",Xk="_chatIconContainer_pj5gn_107",Wk="_choosePositionMain_pj5gn_133",Zk="_field_pj5gn_157",Jk="_player_pj5gn_173",eV="_blue_pj5gn_205",tV="_red_pj5gn_213",nV="_dropdownBtn_pj5gn_221",iV="_dropdownMenu_pj5gn_239",rV="_dropdownContent_pj5gn_259",sV="_bluePosition1_pj5gn_327",aV="_bluePosition2_pj5gn_329",oV="_bluePosition3_pj5gn_331",lV="_bluePosition4_pj5gn_333",uV="_bluePosition5_pj5gn_335",cV="_bluePosition6_pj5gn_337",hV="_bluePosition7_pj5gn_339",fV="_bluePosition8_pj5gn_341",dV="_bluePosition9_pj5gn_343",pV="_bluePosition10_pj5gn_345",mV="_bluePosition11_pj5gn_347",gV="_redPosition1_pj5gn_353",_V="_redPosition2_pj5gn_355",yV="_redPosition3_pj5gn_357",vV="_redPosition4_pj5gn_359",EV="_redPosition5_pj5gn_361",TV="_redPosition6_pj5gn_363",bV="_redPosition7_pj5gn_365",AV="_redPosition8_pj5gn_367",SV="_redPosition9_pj5gn_369",wV="_redPosition10_pj5gn_371",RV="_redPosition11_pj5gn_373",IV="_footer_pj5gn_377",CV="_confirmBtn_pj5gn_393",_t={wrapper:Gk,header:$k,containerName:Kk,iconoVolver:Qk,titulo:Yk,chatIconContainer:Xk,choosePositionMain:Wk,field:Zk,player:Jk,blue:eV,red:tV,dropdownBtn:nV,dropdownMenu:iV,dropdownContent:rV,bluePosition1:sV,bluePosition2:aV,bluePosition3:oV,bluePosition4:lV,bluePosition5:uV,bluePosition6:cV,bluePosition7:hV,bluePosition8:fV,bluePosition9:dV,bluePosition10:pV,bluePosition11:mV,redPosition1:gV,redPosition2:_V,redPosition3:yV,redPosition4:vV,redPosition5:EV,redPosition6:TV,redPosition7:bV,redPosition8:AV,redPosition9:SV,redPosition10:wV,redPosition11:RV,footer:IV,confirmBtn:CV},NV=()=>{const r=Array.from({length:11},(g,E)=>E+1),[e,n]=q.useState({}),[s,o]=q.useState({blue:null,red:null}),u=$n(),f=(g,E)=>{const A=`${g}-${E}`;n(w=>({...w,[A]:!w[A]}))},p=(g,E)=>{o(A=>g==="blue"?{blue:E,red:null}:g==="red"?{red:E,blue:null}:A)},m=()=>{s.blue===null&&s.red===null?alert("Debes seleccionar una posición para poder continuar."):u("/confirmedParticipation")};return v.jsxs("div",{className:_t.wrapper,children:[v.jsx("header",{className:_t.header,children:v.jsxs("div",{className:_t.containerName,children:[v.jsx(st,{to:"/eventsNow",children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${_t.iconoVolver}`})}),v.jsx("p",{className:_t.titulo,children:"Escoge tu posición"}),v.jsx("div",{className:_t.chatIconContainer,children:v.jsx("a",{href:"tu-url-de-chat.html",className:_t.chatLink,target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"Chat"})})})]})}),v.jsx("main",{className:_t.choosePositionMain,children:v.jsxs("div",{className:_t.field,children:[r.map(g=>{const E=`blue-${g}`,A=s.red!==null;return v.jsxs("div",{className:`${_t.player} ${_t.blue} ${_t[`bluePosition${g}`]}`,children:[v.jsx("span",{children:g}),v.jsx("button",{className:_t.dropdownBtn,onClick:()=>f("blue",g),"aria-label":"Seleccionar posición",disabled:A,children:v.jsx("i",{className:"fas fa-chevron-down"})}),e[E]&&v.jsx("div",{className:_t.dropdownMenu,children:v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"bluePosition",value:g,checked:s.blue===g,onChange:()=>p("blue",g)}),"Participar en esta posición"]})})]},E)}),r.map(g=>{const E=`red-${g}`,A=s.blue!==null;return v.jsxs("div",{className:`${_t.player} ${_t.red} ${_t[`redPosition${g}`]}`,children:[v.jsx("span",{children:g}),v.jsx("button",{className:_t.dropdownBtn,onClick:()=>f("red",g),"aria-label":"Seleccionar posición",disabled:A,children:v.jsx("i",{className:"fas fa-chevron-down"})}),e[E]&&v.jsx("div",{className:_t.dropdownMenu,children:v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"redPosition",value:g,checked:s.red===g,onChange:()=>p("red",g)}),"Participar en esta posición"]})})]},E)})]})}),v.jsx("footer",{className:_t.footer,children:v.jsx("button",{className:_t.confirmBtn,onClick:m,children:v.jsx("span",{children:"Confirmar asistencia"})})})]})},xV="_wrapper_dndtw_27",DV="_header_dndtw_47",OV="_containerName_dndtw_59",PV="_iconoVolver_dndtw_77",MV="_titulo_dndtw_99",kV="_chatIconContainer_dndtw_113",VV="_main_dndtw_139",LV="_highlight_dndtw_171",jV="_playerCard_dndtw_181",UV="_playerPhoto_dndtw_219",zV="_playerInfo_dndtw_247",BV="_playerName_dndtw_255",qV="_footer_dndtw_279",HV="_button_dndtw_295",nn={wrapper:xV,header:DV,containerName:OV,iconoVolver:PV,titulo:MV,chatIconContainer:kV,main:VV,highlight:LV,playerCard:jV,playerPhoto:UV,playerInfo:zV,playerName:BV,footer:qV,button:HV},FV="https://OspinaFelipeDev.github.io/sport-social-app/assets/profile-dQZ2Xtsl.jpg",GV=()=>{const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(FV),f=si(),p=$n(),{sportName:m,id:g}=f.state||{};q.useEffect(()=>{(async()=>{const D=af().currentUser;if(D){e(D.displayName||"Desconocido");try{const I=on(vt,"users",D.uid),B=await ya(I);if(B.exists()){const L=B.data();L.photoURL&&u(L.photoURL)}}catch(I){console.error("Error al obtener la foto de perfil:",I)}}else e("Desconocido");s(m||"Deporte no especificado")})()},[m]);const E=()=>{g?p("/participants",{state:{id:g}}):alert("No se pudo obtener el ID del evento.")};return v.jsxs("div",{className:nn.wrapper,children:[v.jsx("header",{className:nn.header,children:v.jsxs("div",{className:nn.containerName,children:[v.jsx("button",{onClick:()=>p("/profile"),className:nn.backButton,children:v.jsx("i",{className:`fa-solid fa-circle-arrow-left ${nn.iconoVolver}`})}),v.jsx("p",{className:nn.titulo,children:"Nos vemos más tarde"}),v.jsx("div",{className:nn.chatIconContainer,children:v.jsx("a",{href:"/chat",className:nn.chatLink,"aria-label":"Abrir chat",children:v.jsx("img",{src:va,alt:"Icono de chat"})})})]})}),v.jsxs("main",{className:nn.main,children:[v.jsxs("p",{children:["Has confirmado que participarás en el encuentro deportivo de"," ",v.jsx("span",{className:nn.highlight,children:n})]}),v.jsxs("div",{className:nn.playerCard,children:[v.jsx("div",{className:nn.playerPhoto,children:v.jsx("img",{src:o,alt:"Foto del jugador"})}),v.jsx("div",{className:nn.playerInfo,children:v.jsx("h3",{className:nn.playerName,children:r})})]}),v.jsx("p",{children:"¿Quieres ver las tareas y posiciones de los demás integrantes?"})]}),v.jsxs("footer",{className:nn.footer,children:[v.jsx("button",{className:nn.button,onClick:E,children:v.jsx("span",{children:"Ver ficha"})}),v.jsx("p",{children:"*El administrador podrá cambiar posiciones o equipo si es necesario"}),v.jsx("p",{children:"*Las tareas a realizar las asigna el administrador del encuentro"})]})]})},$V="_chatContainer_r0ziq_1",KV="_chatTitle_r0ziq_21",QV="_chatBox_r0ziq_35",YV="_message_r0ziq_55",XV="_myMessage_r0ziq_89",WV="_otherMessage_r0ziq_101",ZV="_form_r0ziq_115",JV="_input_r0ziq_125",e4="_button_r0ziq_153",t4="_backLink_r0ziq_183",wi={chatContainer:$V,chatTitle:KV,chatBox:QV,message:YV,myMessage:XV,otherMessage:WV,form:ZV,input:JV,button:e4,backLink:t4},BT=()=>{const{id:r}=wm(),[e,n]=q.useState(null),[s,o]=q.useState(""),[u,f]=q.useState([]),[p,m]=q.useState(!0),g=yr.currentUser;q.useEffect(()=>{(async()=>{try{const B=on(vt,"eventos",r),L=await ya(B);L.exists()?n(L.data()):n(null)}catch(B){console.error("Error al cargar el evento:",B),n(null)}finally{m(!1)}})()},[r]),q.useEffect(()=>{if(!e||!g)return;const I=g.uid===e.administradorId,L=(e.participantes||[]).map(re=>re.uid).includes(g.uid);if(!I&&!L)return;const P=Oo(vt,"chats",r,"mensajes"),X=NA(P,eO("createdAt")),Y=Ig(X,re=>{const ae=re.docs.map(ge=>({id:ge.id,...ge.data()}));f(ae)});return()=>Y()},[e,r,g]);const E=async I=>{if(I.preventDefault(),!s.trim())return;const B=g.uid===e.administradorId,P=(e.participantes||[]).map(Y=>Y.uid).includes(g.uid);if(!B&&!P){alert("No tienes permiso para enviar mensajes en este chat.");return}const X=Oo(vt,"chats",r,"mensajes");await MA(X,{texto:s,createdAt:rO(),userId:g.uid,userEmail:g.email}),o("")};if(p)return v.jsx("p",{children:"Cargando chat..."});if(!e)return v.jsx("p",{children:"Evento no encontrado."});const A=(g==null?void 0:g.uid)===e.administradorId,D=(e.participantes||[]).map(I=>I.uid).includes(g==null?void 0:g.uid);return!A&&!D?v.jsxs("div",{children:[v.jsx("p",{children:"No tienes permiso para acceder a este chat."}),v.jsx(st,{to:`/meeting/${r}`,children:"Volver al evento"})]}):v.jsxs("div",{className:wi.chatContainer,children:[v.jsxs("h2",{className:wi.chatTitle,children:["Chat del evento: ",e.sport]}),v.jsx("div",{className:wi.chatBox,children:u.map(I=>v.jsxs("div",{className:`${wi.message} ${I.userId===g.uid?wi.myMessage:wi.otherMessage}`,children:[v.jsxs("strong",{children:[I.userEmail,":"]})," ",I.texto]},I.id))}),v.jsxs("form",{onSubmit:E,className:wi.form,children:[v.jsx("input",{type:"text",placeholder:"Escribe un mensaje",value:s,onChange:I=>o(I.target.value),className:wi.input}),v.jsx("button",{type:"submit",className:wi.button,children:"Enviar"})]}),v.jsx(st,{to:A?`/meeting/${r}`:`/participants/${r}`,className:wi.backLink,children:"Volver al evento"})]})};function n4(){return v.jsx(PR,{basename:"/sport-social-app",children:v.jsxs(cR,{children:[v.jsx(ot,{path:"/",element:v.jsx(FR,{})}),v.jsx(ot,{path:"/login",element:v.jsx(VO,{})}),v.jsx(ot,{path:"/profile",element:v.jsx(JO,{})}),v.jsx(ot,{path:"/choose",element:v.jsx(fP,{})}),v.jsx(ot,{path:"/where",element:v.jsx(VP,{})}),v.jsx(ot,{path:"/createAccount",element:v.jsx(YP,{})}),v.jsx(ot,{path:"/terms",element:v.jsx(tM,{})}),v.jsx(ot,{path:"/completeProfile",element:v.jsx(dM,{})}),v.jsx(ot,{path:"/meeting",element:v.jsx(LT,{})}),v.jsx(ot,{path:"/meeting/:id",element:v.jsx(LT,{})})," ",v.jsx(ot,{path:"/assignPositions",element:v.jsx(VM,{})}),v.jsx(ot,{path:"/tasks",element:v.jsx(ik,{})}),v.jsx(ot,{path:"/participants",element:v.jsx(UT,{})}),v.jsx(ot,{path:"/participants/:id",element:v.jsx(UT,{})}),v.jsx(ot,{path:"/fileMeeting",element:v.jsx(Rk,{})}),v.jsx(ot,{path:"/participantCars",element:v.jsx(Wh,{})}),v.jsx(ot,{path:"/eventCard",element:v.jsx(zA,{})}),v.jsx(ot,{path:"/eventsNow",element:v.jsx(Fk,{})}),v.jsx(ot,{path:"/choosePosition",element:v.jsx(NV,{})}),v.jsx(ot,{path:"/confirmedParticipation",element:v.jsx(GV,{})}),v.jsx(ot,{path:"/chatRoom",element:v.jsx(BT,{})}),v.jsx(ot,{path:"/chat/:id",element:v.jsx(BT,{})})]})})}Ew.createRoot(document.getElementById("root")).render(v.jsx(q.StrictMode,{children:v.jsx(n4,{})}));
